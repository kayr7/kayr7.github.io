var Tv=Object.defineProperty;var Av=(n,e,i)=>e in n?Tv(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var ge=(n,e,i)=>Av(n,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(l){if(l.ep)return;l.ep=!0;const r=i(l);fetch(l.href,r)}})();function Z0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fh={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function Cv(){if(ig)return _l;ig=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,r){var c=null;if(r!==void 0&&(c=""+r),l.key!==void 0&&(c=""+l.key),"key"in l){r={};for(var h in l)h!=="key"&&(r[h]=l[h])}else r=l;return l=r.ref,{$$typeof:n,type:a,key:c,ref:l!==void 0?l:null,props:r}}return _l.Fragment=e,_l.jsx=i,_l.jsxs=i,_l}var sg;function Dv(){return sg||(sg=1,fh.exports=Cv()),fh.exports}var f=Dv(),dh={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function Nv(){if(ag)return Oe;ag=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function S(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,M={};function w(R,Q,B){this.props=R,this.context=Q,this.refs=M,this.updater=B||x}w.prototype.isReactComponent={},w.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},w.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function _(){}_.prototype=w.prototype;function A(R,Q,B){this.props=R,this.context=Q,this.refs=M,this.updater=B||x}var j=A.prototype=new _;j.constructor=A,v(j,w.prototype),j.isPureReactComponent=!0;var D=Array.isArray,N={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function H(R,Q,B,G,K,I){return B=I.ref,{$$typeof:n,type:R,key:Q,ref:B!==void 0?B:null,props:I}}function O(R,Q){return H(R.type,Q,void 0,void 0,void 0,R.props)}function L(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function z(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(B){return Q[B]})}var J=/\/+/g;function $(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?z(""+R.key):Q.toString(36)}function q(){}function ee(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(q,q):(R.status="pending",R.then(function(Q){R.status==="pending"&&(R.status="fulfilled",R.value=Q)},function(Q){R.status==="pending"&&(R.status="rejected",R.reason=Q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function W(R,Q,B,G,K){var I=typeof R;(I==="undefined"||I==="boolean")&&(R=null);var Y=!1;if(R===null)Y=!0;else switch(I){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(R.$$typeof){case n:case e:Y=!0;break;case g:return Y=R._init,W(Y(R._payload),Q,B,G,K)}}if(Y)return K=K(R),Y=G===""?"."+$(R,0):G,D(K)?(B="",Y!=null&&(B=Y.replace(J,"$&/")+"/"),W(K,Q,B,"",function(ye){return ye})):K!=null&&(L(K)&&(K=O(K,B+(K.key==null||R&&R.key===K.key?"":(""+K.key).replace(J,"$&/")+"/")+Y)),Q.push(K)),1;Y=0;var ae=G===""?".":G+":";if(D(R))for(var re=0;re<R.length;re++)G=R[re],I=ae+$(G,re),Y+=W(G,Q,B,I,K);else if(re=S(R),typeof re=="function")for(R=re.call(R),re=0;!(G=R.next()).done;)G=G.value,I=ae+$(G,re++),Y+=W(G,Q,B,I,K);else if(I==="object"){if(typeof R.then=="function")return W(ee(R),Q,B,G,K);throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Y}function P(R,Q,B){if(R==null)return R;var G=[],K=0;return W(R,G,"","",function(I){return Q.call(B,I,K++)}),G}function te(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(B){(R._status===0||R._status===-1)&&(R._status=1,R._result=B)},function(B){(R._status===0||R._status===-1)&&(R._status=2,R._result=B)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var V=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function U(){}return Oe.Children={map:P,forEach:function(R,Q,B){P(R,function(){Q.apply(this,arguments)},B)},count:function(R){var Q=0;return P(R,function(){Q++}),Q},toArray:function(R){return P(R,function(Q){return Q})||[]},only:function(R){if(!L(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Oe.Component=w,Oe.Fragment=i,Oe.Profiler=l,Oe.PureComponent=A,Oe.StrictMode=a,Oe.Suspense=d,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(R){return function(){return R.apply(null,arguments)}},Oe.cloneElement=function(R,Q,B){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var G=v({},R.props),K=R.key,I=void 0;if(Q!=null)for(Y in Q.ref!==void 0&&(I=void 0),Q.key!==void 0&&(K=""+Q.key),Q)!k.call(Q,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&Q.ref===void 0||(G[Y]=Q[Y]);var Y=arguments.length-2;if(Y===1)G.children=B;else if(1<Y){for(var ae=Array(Y),re=0;re<Y;re++)ae[re]=arguments[re+2];G.children=ae}return H(R.type,K,void 0,void 0,I,G)},Oe.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:r,_context:R},R},Oe.createElement=function(R,Q,B){var G,K={},I=null;if(Q!=null)for(G in Q.key!==void 0&&(I=""+Q.key),Q)k.call(Q,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(K[G]=Q[G]);var Y=arguments.length-2;if(Y===1)K.children=B;else if(1<Y){for(var ae=Array(Y),re=0;re<Y;re++)ae[re]=arguments[re+2];K.children=ae}if(R&&R.defaultProps)for(G in Y=R.defaultProps,Y)K[G]===void 0&&(K[G]=Y[G]);return H(R,I,void 0,void 0,null,K)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(R){return{$$typeof:h,render:R}},Oe.isValidElement=L,Oe.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:te}},Oe.memo=function(R,Q){return{$$typeof:m,type:R,compare:Q===void 0?null:Q}},Oe.startTransition=function(R){var Q=N.T,B={};N.T=B;try{var G=R(),K=N.S;K!==null&&K(B,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(U,V)}catch(I){V(I)}finally{N.T=Q}},Oe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Oe.use=function(R){return N.H.use(R)},Oe.useActionState=function(R,Q,B){return N.H.useActionState(R,Q,B)},Oe.useCallback=function(R,Q){return N.H.useCallback(R,Q)},Oe.useContext=function(R){return N.H.useContext(R)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(R,Q){return N.H.useDeferredValue(R,Q)},Oe.useEffect=function(R,Q){return N.H.useEffect(R,Q)},Oe.useId=function(){return N.H.useId()},Oe.useImperativeHandle=function(R,Q,B){return N.H.useImperativeHandle(R,Q,B)},Oe.useInsertionEffect=function(R,Q){return N.H.useInsertionEffect(R,Q)},Oe.useLayoutEffect=function(R,Q){return N.H.useLayoutEffect(R,Q)},Oe.useMemo=function(R,Q){return N.H.useMemo(R,Q)},Oe.useOptimistic=function(R,Q){return N.H.useOptimistic(R,Q)},Oe.useReducer=function(R,Q,B){return N.H.useReducer(R,Q,B)},Oe.useRef=function(R){return N.H.useRef(R)},Oe.useState=function(R){return N.H.useState(R)},Oe.useSyncExternalStore=function(R,Q,B){return N.H.useSyncExternalStore(R,Q,B)},Oe.useTransition=function(){return N.H.useTransition()},Oe.version="19.0.0",Oe}var lg;function Zh(){return lg||(lg=1,dh.exports=Nv()),dh.exports}var C=Zh();const ja=Z0(C);var mh={exports:{}},wl={},ph={exports:{}},gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function Ev(){return og||(og=1,function(n){function e(P,te){var V=P.length;P.push(te);e:for(;0<V;){var U=V-1>>>1,R=P[U];if(0<l(R,te))P[U]=te,P[V]=R,V=U;else break e}}function i(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var te=P[0],V=P.pop();if(V!==te){P[0]=V;e:for(var U=0,R=P.length,Q=R>>>1;U<Q;){var B=2*(U+1)-1,G=P[B],K=B+1,I=P[K];if(0>l(G,V))K<R&&0>l(I,G)?(P[U]=I,P[K]=V,U=K):(P[U]=G,P[B]=V,U=B);else if(K<R&&0>l(I,V))P[U]=I,P[K]=V,U=K;else break e}}return te}function l(P,te){var V=P.sortIndex-te.sortIndex;return V!==0?V:P.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,b=null,S=3,x=!1,v=!1,M=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function j(P){for(var te=i(m);te!==null;){if(te.callback===null)a(m);else if(te.startTime<=P)a(m),te.sortIndex=te.expirationTime,e(d,te);else break;te=i(m)}}function D(P){if(M=!1,j(P),!v)if(i(d)!==null)v=!0,ee();else{var te=i(m);te!==null&&W(D,te.startTime-P)}}var N=!1,k=-1,H=5,O=-1;function L(){return!(n.unstable_now()-O<H)}function z(){if(N){var P=n.unstable_now();O=P;var te=!0;try{e:{v=!1,M&&(M=!1,_(k),k=-1),x=!0;var V=S;try{t:{for(j(P),b=i(d);b!==null&&!(b.expirationTime>P&&L());){var U=b.callback;if(typeof U=="function"){b.callback=null,S=b.priorityLevel;var R=U(b.expirationTime<=P);if(P=n.unstable_now(),typeof R=="function"){b.callback=R,j(P),te=!0;break t}b===i(d)&&a(d),j(P)}else a(d);b=i(d)}if(b!==null)te=!0;else{var Q=i(m);Q!==null&&W(D,Q.startTime-P),te=!1}}break e}finally{b=null,S=V,x=!1}te=void 0}}finally{te?J():N=!1}}}var J;if(typeof A=="function")J=function(){A(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=z,J=function(){q.postMessage(null)}}else J=function(){w(z,0)};function ee(){N||(N=!0,J())}function W(P,te){k=w(function(){P(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_continueExecution=function(){v||x||(v=!0,ee())},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return i(d)},n.unstable_next=function(P){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var V=S;S=te;try{return P()}finally{S=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(P,te){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=S;S=P;try{return te()}finally{S=V}},n.unstable_scheduleCallback=function(P,te,V){var U=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?U+V:U):V=U,P){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=V+R,P={id:g++,callback:te,priorityLevel:P,startTime:V,expirationTime:R,sortIndex:-1},V>U?(P.sortIndex=V,e(m,P),i(d)===null&&P===i(m)&&(M?(_(k),k=-1):M=!0,W(D,V-U))):(P.sortIndex=R,e(d,P),v||x||(v=!0,ee())),P},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(P){var te=S;return function(){var V=S;S=te;try{return P.apply(this,arguments)}finally{S=V}}}}(gh)),gh}var rg;function Rv(){return rg||(rg=1,ph.exports=Ev()),ph.exports}var yh={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function kv(){if(cg)return Bt;cg=1;var n=Zh();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function r(d,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:d,containerInfo:m,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Bt.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return r(d,m,null,g)},Bt.flushSync=function(d){var m=c.T,g=a.p;try{if(c.T=null,a.p=2,d)return d()}finally{c.T=m,a.p=g,a.d.f()}},Bt.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(d,m))},Bt.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Bt.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?a.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:x}):g==="script"&&a.d.X(d,{crossOrigin:b,integrity:S,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Bt.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);a.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(d)},Bt.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin);a.d.L(d,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Bt.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);a.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(d)},Bt.requestFormReset=function(d){a.d.r(d)},Bt.unstable_batchedUpdates=function(d,m){return d(m)},Bt.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},Bt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Bt.version="19.0.0",Bt}var ug;function Ov(){if(ug)return yh.exports;ug=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yh.exports=kv(),yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function zv(){if(hg)return wl;hg=1;var n=Rv(),e=Zh(),i=Ov();function a(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var r=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var H=Symbol.for("react.client.reference");function O(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===H?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case m:return"StrictMode";case M:return"Suspense";case w:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case v:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _:return s=t.displayName||null,s!==null?s:O(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return O(t(s))}catch{}}return null}var L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,J,$;function q(t){if(J===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);J=s&&s[1]||"",$=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+t+$}var ee=!1;function W(t,s){if(!t||ee)return"";ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(oe){var se=oe}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(oe){se=oe}t.call(fe.prototype)}}else{try{throw Error()}catch(oe){se=oe}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(oe){if(oe&&se&&typeof oe.stack=="string")return[oe.stack,se.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],E=y[1];if(T&&E){var F=T.split(`
`),Z=E.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===Z.length)for(u=F.length-1,p=Z.length-1;1<=u&&0<=p&&F[u]!==Z[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==Z[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==Z[p]){var ce=`
`+F[u].replace(" at new "," at ");return t.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",t.displayName)),ce}while(1<=u&&0<=p);break}}}finally{ee=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?q(o):""}function P(t){switch(t.tag){case 26:case 27:case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 15:return t=W(t.type,!1),t;case 11:return t=W(t.type.render,!1),t;case 1:return t=W(t.type,!0),t;default:return""}}function te(t){try{var s="";do s+=P(t),t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function V(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function U(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function R(t){if(V(t)!==t)throw Error(a(188))}function Q(t){var s=t.alternate;if(!s){if(s=V(t),s===null)throw Error(a(188));return s!==t?null:t}for(var o=t,u=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return R(p),t;if(y===u)return R(p),s;y=y.sibling}throw Error(a(188))}if(o.return!==u.return)o=p,u=y;else{for(var T=!1,E=p.child;E;){if(E===o){T=!0,o=p,u=y;break}if(E===u){T=!0,u=p,o=y;break}E=E.sibling}if(!T){for(E=y.child;E;){if(E===o){T=!0,o=y,u=p;break}if(E===u){T=!0,u=y,o=p;break}E=E.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:s}function B(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=B(t),s!==null)return s;t=t.sibling}return null}var G=Array.isArray,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},Y=[],ae=-1;function re(t){return{current:t}}function ye(t){0>ae||(t.current=Y[ae],Y[ae]=null,ae--)}function le(t,s){ae++,Y[ae]=t.current,t.current=s}var pe=re(null),Te=re(null),je=re(null),_e=re(null);function he(t,s){switch(le(je,s),le(Te,t),le(pe,null),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Rp(s):0;break;default:if(t=t===8?s.parentNode:s,s=t.tagName,t=t.namespaceURI)t=Rp(t),s=kp(t,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ye(pe),le(pe,s)}function be(){ye(pe),ye(Te),ye(je)}function Ne(t){t.memoizedState!==null&&le(_e,t);var s=pe.current,o=kp(s,t.type);s!==o&&(le(Te,t),le(pe,o))}function Be(t){Te.current===t&&(ye(pe),ye(Te)),_e.current===t&&(ye(_e),bl._currentValue=I)}var me=Object.prototype.hasOwnProperty,de=n.unstable_scheduleCallback,qe=n.unstable_cancelCallback,Me=n.unstable_shouldYield,Ce=n.unstable_requestPaint,Ee=n.unstable_now,at=n.unstable_getCurrentPriorityLevel,Vt=n.unstable_ImmediatePriority,Gt=n.unstable_UserBlockingPriority,Ut=n.unstable_NormalPriority,Dt=n.unstable_LowPriority,ft=n.unstable_IdlePriority,Ie=n.log,hn=n.unstable_setDisableYieldValue,Ln=null,Nt=null;function lc(t){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ln,t,void 0,(t.current.flags&128)===128)}catch{}}function xe(t){if(typeof Ie=="function"&&hn(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Ln,t)}catch{}}var Ae=Math.clz32?Math.clz32:Wt,bt=Math.log,Xt=Math.LN2;function Wt(t){return t>>>=0,t===0?32:31-(bt(t)/Xt|0)|0}var xt=128,en=4194304;function Et(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _t(t,s){var o=t.pendingLanes;if(o===0)return 0;var u=0,p=t.suspendedLanes,y=t.pingedLanes,T=t.warmLanes;t=t.finishedLanes!==0;var E=o&134217727;return E!==0?(o=E&~p,o!==0?u=Et(o):(y&=E,y!==0?u=Et(y):t||(T=E&~T,T!==0&&(u=Et(T))))):(E=o&~p,E!==0?u=Et(E):y!==0?u=Et(y):t||(T=o&~T,T!==0&&(u=Et(T)))),u===0?0:s!==0&&s!==u&&(s&p)===0&&(p=u&-u,T=s&-s,p>=T||p===32&&(T&4194176)!==0)?s:u}function tn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Os(t,s){switch(t){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wf(){var t=xt;return xt<<=1,(xt&4194176)===0&&(xt=128),t}function jf(){var t=en;return en<<=1,(en&62914560)===0&&(en=4194304),t}function oc(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function Da(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pb(t,s,o,u,p,y){var T=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var E=t.entanglements,F=t.expirationTimes,Z=t.hiddenUpdates;for(o=T&~o;0<o;){var ce=31-Ae(o),fe=1<<ce;E[ce]=0,F[ce]=-1;var se=Z[ce];if(se!==null)for(Z[ce]=null,ce=0;ce<se.length;ce++){var oe=se[ce];oe!==null&&(oe.lane&=-536870913)}o&=~fe}u!==0&&Tf(t,u,0),y!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=y&~(T&~s))}function Tf(t,s,o){t.pendingLanes|=s,t.suspendedLanes&=~s;var u=31-Ae(s);t.entangledLanes|=s,t.entanglements[u]=t.entanglements[u]|1073741824|o&4194218}function Af(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var u=31-Ae(o),p=1<<u;p&s|t[u]&s&&(t[u]|=s),o&=~p}}function Cf(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Df(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Zp(t.type))}function gb(t,s){var o=K.p;try{return K.p=t,s()}finally{K.p=o}}var vi=Math.random().toString(36).slice(2),zt="__reactFiber$"+vi,It="__reactProps$"+vi,zs="__reactContainer$"+vi,rc="__reactEvents$"+vi,yb="__reactListeners$"+vi,bb="__reactHandles$"+vi,Nf="__reactResources$"+vi,Na="__reactMarker$"+vi;function cc(t){delete t[zt],delete t[It],delete t[rc],delete t[yb],delete t[bb]}function Zi(t){var s=t[zt];if(s)return s;for(var o=t.parentNode;o;){if(s=o[zs]||o[zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=Lp(t);t!==null;){if(o=t[zt])return o;t=Lp(t)}return s}t=o,o=t.parentNode}return null}function Ls(t){if(t=t[zt]||t[zs]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Ea(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(a(33))}function Bs(t){var s=t[Nf];return s||(s=t[Nf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(t){t[Na]=!0}var Ef=new Set,Rf={};function Ki(t,s){Fs(t,s),Fs(t+"Capture",s)}function Fs(t,s){for(Rf[t]=s,t=0;t<s.length;t++)Ef.add(s[t])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kf={},Of={};function vb(t){return me.call(Of,t)?!0:me.call(kf,t)?!1:xb.test(t)?Of[t]=!0:(kf[t]=!0,!1)}function lo(t,s,o){if(vb(s))if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+o)}}function oo(t,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+o)}}function Xn(t,s,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(s,o,""+u)}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zf(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Sb(t){var s=zf(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),u=""+t[s];if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ro(t){t._valueTracker||(t._valueTracker=Sb(t))}function Lf(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return t&&(u=zf(t)?t.checked?"true":"false":t.value),t=u,t!==o?(s.setValue(t),!0):!1}function co(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mb=/[\n"\\]/g;function dn(t){return t.replace(Mb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function uc(t,s,o,u,p,y,T,E){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),s!=null?T==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+fn(s)):t.value!==""+fn(s)&&(t.value=""+fn(s)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),s!=null?hc(t,T,fn(s)):o!=null?hc(t,T,fn(o)):u!=null&&t.removeAttribute("value"),p==null&&y!=null&&(t.defaultChecked=!!y),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+fn(E):t.removeAttribute("name")}function Bf(t,s,o,u,p,y,T,E){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+fn(o):"",s=s!=null?""+fn(s):o,E||s===t.value||(t.value=s),t.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function hc(t,s,o){s==="number"&&co(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Hs(t,s,o,u){if(t=t.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<t.length;o++)p=s.hasOwnProperty("$"+t[o].value),t[o].selected!==p&&(t[o].selected=p),p&&u&&(t[o].defaultSelected=!0)}else{for(o=""+fn(o),s=null,p=0;p<t.length;p++){if(t[p].value===o){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function Ff(t,s,o){if(s!=null&&(s=""+fn(s),s!==t.value&&(t.value=s),o==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=o!=null?""+fn(o):""}function Hf(t,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(a(92));if(G(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=fn(s),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u)}function qs(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var _b=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qf(t,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":u?t.setProperty(s,o):typeof o!="number"||o===0||_b.has(s)?s==="float"?t.cssFloat=o:t[s]=(""+o).trim():t[s]=o+"px"}function Pf(t,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&qf(t,p,u)}else for(var y in s)s.hasOwnProperty(y)&&qf(t,y,s[y])}function fc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(t){return jb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var dc=null;function mc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ps=null,Vs=null;function Vf(t){var s=Ls(t);if(s&&(t=s.stateNode)){var o=t[It]||null;e:switch(t=s.stateNode,s.type){case"input":if(uc(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+dn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==t&&u.form===t.form){var p=u[It]||null;if(!p)throw Error(a(90));uc(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===t.form&&Lf(u)}break e;case"textarea":Ff(t,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Hs(t,!!o.multiple,s,!1)}}}var pc=!1;function Uf(t,s,o){if(pc)return t(s,o);pc=!0;try{var u=t(s);return u}finally{if(pc=!1,(Ps!==null||Vs!==null)&&(Xo(),Ps&&(s=Ps,t=Vs,Vs=Ps=null,Vf(s),t)))for(s=0;s<t.length;s++)Vf(t[s])}}function Ra(t,s){var o=t.stateNode;if(o===null)return null;var u=o[It]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var gc=!1;if(Gn)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){gc=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{gc=!1}var Si=null,yc=null,ho=null;function Wf(){if(ho)return ho;var t,s=yc,o=s.length,u,p="value"in Si?Si.value:Si.textContent,y=p.length;for(t=0;t<o&&s[t]===p[t];t++);var T=o-t;for(u=1;u<=T&&s[o-u]===p[y-u];u++);return ho=p.slice(t,1<u?1-u:void 0)}function fo(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function mo(){return!0}function $f(){return!1}function Qt(t){function s(o,u,p,y,T){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(o=t[E],this[E]=o?o(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?mo:$f,this.isPropagationStopped=$f,this}return z(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),s}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=Qt(Ji),Oa=z({},Ji,{view:0,detail:0}),Tb=Qt(Oa),bc,xc,za,go=z({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==za&&(za&&t.type==="mousemove"?(bc=t.screenX-za.screenX,xc=t.screenY-za.screenY):xc=bc=0,za=t),bc)},movementY:function(t){return"movementY"in t?t.movementY:xc}}),Yf=Qt(go),Ab=z({},go,{dataTransfer:0}),Cb=Qt(Ab),Db=z({},Oa,{relatedTarget:0}),vc=Qt(Db),Nb=z({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Eb=Qt(Nb),Rb=z({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kb=Qt(Rb),Ob=z({},Ji,{data:0}),Gf=Qt(Ob),zb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fb(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Bb[t])?!!s[t]:!1}function Sc(){return Fb}var Hb=z({},Oa,{key:function(t){if(t.key){var s=zb[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sc,charCode:function(t){return t.type==="keypress"?fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qb=Qt(Hb),Pb=z({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xf=Qt(Pb),Vb=z({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sc}),Ub=Qt(Vb),Wb=z({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),$b=Qt(Wb),Yb=z({},go,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gb=Qt(Yb),Xb=z({},Ji,{newState:0,oldState:0}),Ib=Qt(Xb),Qb=[9,13,27,32],Mc=Gn&&"CompositionEvent"in window,La=null;Gn&&"documentMode"in document&&(La=document.documentMode);var Zb=Gn&&"TextEvent"in window&&!La,If=Gn&&(!Mc||La&&8<La&&11>=La),Qf=" ",Zf=!1;function Kf(t,s){switch(t){case"keyup":return Qb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function Kb(t,s){switch(t){case"compositionend":return Jf(s);case"keypress":return s.which!==32?null:(Zf=!0,Qf);case"textInput":return t=s.data,t===Qf&&Zf?null:t;default:return null}}function Jb(t,s){if(Us)return t==="compositionend"||!Mc&&Kf(t,s)?(t=Wf(),ho=yc=Si=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return If&&s.locale!=="ko"?null:s.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ed(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!ex[t.type]:s==="textarea"}function td(t,s,o,u){Ps?Vs?Vs.push(u):Vs=[u]:Ps=u,s=Jo(s,"onChange"),0<s.length&&(o=new po("onChange","change",null,o,u),t.push({event:o,listeners:s}))}var Ba=null,Fa=null;function tx(t){Ap(t,0)}function yo(t){var s=Ea(t);if(Lf(s))return t}function nd(t,s){if(t==="change")return s}var id=!1;if(Gn){var _c;if(Gn){var wc="oninput"in document;if(!wc){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),wc=typeof sd.oninput=="function"}_c=wc}else _c=!1;id=_c&&(!document.documentMode||9<document.documentMode)}function ad(){Ba&&(Ba.detachEvent("onpropertychange",ld),Fa=Ba=null)}function ld(t){if(t.propertyName==="value"&&yo(Fa)){var s=[];td(s,Fa,t,mc(t)),Uf(tx,s)}}function nx(t,s,o){t==="focusin"?(ad(),Ba=s,Fa=o,Ba.attachEvent("onpropertychange",ld)):t==="focusout"&&ad()}function ix(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yo(Fa)}function sx(t,s){if(t==="click")return yo(s)}function ax(t,s){if(t==="input"||t==="change")return yo(s)}function lx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var nn=typeof Object.is=="function"?Object.is:lx;function Ha(t,s){if(nn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!me.call(s,p)||!nn(t[p],s[p]))return!1}return!0}function od(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rd(t,s){var o=od(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=s&&u>=s)return{node:o,offset:s-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=od(o)}}function cd(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?cd(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ud(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=co(t.document);s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=co(t.document)}return s}function jc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function ox(t,s){var o=ud(s);s=t.focusedElem;var u=t.selectionRange;if(o!==s&&s&&s.ownerDocument&&cd(s.ownerDocument.documentElement,s)){if(u!==null&&jc(s)){if(t=u.start,o=u.end,o===void 0&&(o=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(o,s.value.length);else if(o=(t=s.ownerDocument||document)&&t.defaultView||window,o.getSelection){o=o.getSelection();var p=s.textContent.length,y=Math.min(u.start,p);u=u.end===void 0?y:Math.min(u.end,p),!o.extend&&y>u&&(p=u,u=y,y=p),p=rd(s,y);var T=rd(s,u);p&&T&&(o.rangeCount!==1||o.anchorNode!==p.node||o.anchorOffset!==p.offset||o.focusNode!==T.node||o.focusOffset!==T.offset)&&(t=t.createRange(),t.setStart(p.node,p.offset),o.removeAllRanges(),y>u?(o.addRange(t),o.extend(T.node,T.offset)):(t.setEnd(T.node,T.offset),o.addRange(t)))}}for(t=[],o=s;o=o.parentNode;)o.nodeType===1&&t.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)o=t[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var rx=Gn&&"documentMode"in document&&11>=document.documentMode,Ws=null,Tc=null,qa=null,Ac=!1;function hd(t,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ac||Ws==null||Ws!==co(u)||(u=Ws,"selectionStart"in u&&jc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),qa&&Ha(qa,u)||(qa=u,u=Jo(Tc,"onSelect"),0<u.length&&(s=new po("onSelect","select",null,s,o),t.push({event:s,listeners:u}),s.target=Ws)))}function es(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var $s={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},Cc={},fd={};Gn&&(fd=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function ts(t){if(Cc[t])return Cc[t];if(!$s[t])return t;var s=$s[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in fd)return Cc[t]=s[o];return t}var dd=ts("animationend"),md=ts("animationiteration"),pd=ts("animationstart"),cx=ts("transitionrun"),ux=ts("transitionstart"),hx=ts("transitioncancel"),gd=ts("transitionend"),yd=new Map,bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function jn(t,s){yd.set(t,s),Ki(s,[t])}var mn=[],Ys=0,Dc=0;function bo(){for(var t=Ys,s=Dc=Ys=0;s<t;){var o=mn[s];mn[s++]=null;var u=mn[s];mn[s++]=null;var p=mn[s];mn[s++]=null;var y=mn[s];if(mn[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}y!==0&&xd(o,p,y)}}function xo(t,s,o,u){mn[Ys++]=t,mn[Ys++]=s,mn[Ys++]=o,mn[Ys++]=u,Dc|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Nc(t,s,o,u){return xo(t,s,o,u),vo(t)}function Mi(t,s){return xo(t,null,null,s),vo(t)}function xd(t,s,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=t.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(p=!0)),t=y,y=y.return;p&&s!==null&&t.tag===3&&(y=t.stateNode,p=31-Ae(o),y=y.hiddenUpdates,t=y[p],t===null?y[p]=[s]:t.push(s),s.lane=o|536870912)}function vo(t){if(50<hl)throw hl=0,Lu=null,Error(a(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Gs={},vd=new WeakMap;function pn(t,s){if(typeof t=="object"&&t!==null){var o=vd.get(t);return o!==void 0?o:(s={value:t,source:s,stack:te(s)},vd.set(t,s),s)}return{value:t,source:s,stack:te(s)}}var Xs=[],Is=0,So=null,Mo=0,gn=[],yn=0,ns=null,In=1,Qn="";function is(t,s){Xs[Is++]=Mo,Xs[Is++]=So,So=t,Mo=s}function Sd(t,s,o){gn[yn++]=In,gn[yn++]=Qn,gn[yn++]=ns,ns=t;var u=In;t=Qn;var p=32-Ae(u)-1;u&=~(1<<p),o+=1;var y=32-Ae(s)+p;if(30<y){var T=p-p%5;y=(u&(1<<T)-1).toString(32),u>>=T,p-=T,In=1<<32-Ae(s)+p|o<<p|u,Qn=y+t}else In=1<<y|o<<p|u,Qn=t}function Ec(t){t.return!==null&&(is(t,1),Sd(t,1,0))}function Rc(t){for(;t===So;)So=Xs[--Is],Xs[Is]=null,Mo=Xs[--Is],Xs[Is]=null;for(;t===ns;)ns=gn[--yn],gn[yn]=null,Qn=gn[--yn],gn[yn]=null,In=gn[--yn],gn[yn]=null}var $t=null,Rt=null,We=!1,Tn=null,Bn=!1,kc=Error(a(519));function ss(t){var s=Error(a(418,""));throw Ua(pn(s,t)),kc}function Md(t){var s=t.stateNode,o=t.type,u=t.memoizedProps;switch(s[zt]=t,s[It]=u,o){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<dl.length;o++)Ve(dl[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),Bf(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ro(s);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Hf(s,u.value,u.defaultValue,u.children),ro(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Ep(s.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),u.onScroll!=null&&Ve("scroll",s),u.onScrollEnd!=null&&Ve("scrollend",s),u.onClick!=null&&(s.onclick=er),s=!0):s=!1,s||ss(t)}function _d(t){for($t=t.return;$t;)switch($t.tag){case 3:case 27:Bn=!0;return;case 5:case 13:Bn=!1;return;default:$t=$t.return}}function Pa(t){if(t!==$t)return!1;if(!We)return _d(t),We=!0,!1;var s=!1,o;if((o=t.tag!==3&&t.tag!==27)&&((o=t.tag===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Ju(t.type,t.memoizedProps)),o=!o),o&&(s=!0),s&&Rt&&ss(t),_d(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(s===0){Rt=Cn(t.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;t=t.nextSibling}Rt=null}}else Rt=$t?Cn(t.stateNode.nextSibling):null;return!0}function Va(){Rt=$t=null,We=!1}function Ua(t){Tn===null?Tn=[t]:Tn.push(t)}var Wa=Error(a(460)),wd=Error(a(474)),Oc={then:function(){}};function jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _o(){}function Td(t,s,o){switch(o=t[o],o===void 0?t.push(s):o!==s&&(s.then(_o,_o),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===Wa?Error(a(483)):t;default:if(typeof s.status=="string")s.then(_o,_o);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=s,t.status="pending",t.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===Wa?Error(a(483)):t}throw $a=s,Wa}}var $a=null;function Ad(){if($a===null)throw Error(a(459));var t=$a;return $a=null,t}var Qs=null,Ya=0;function wo(t){var s=Ya;return Ya+=1,Qs===null&&(Qs=[]),Td(Qs,t,s)}function Ga(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function jo(t,s){throw s.$$typeof===r?Error(a(525)):(t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Cd(t){var s=t._init;return s(t._payload)}function Dd(t){function s(ne,X){if(t){var ie=ne.deletions;ie===null?(ne.deletions=[X],ne.flags|=16):ie.push(X)}}function o(ne,X){if(!t)return null;for(;X!==null;)s(ne,X),X=X.sibling;return null}function u(ne){for(var X=new Map;ne!==null;)ne.key!==null?X.set(ne.key,ne):X.set(ne.index,ne),ne=ne.sibling;return X}function p(ne,X){return ne=Oi(ne,X),ne.index=0,ne.sibling=null,ne}function y(ne,X,ie){return ne.index=ie,t?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<X?(ne.flags|=33554434,X):ie):(ne.flags|=33554434,X)):(ne.flags|=1048576,X)}function T(ne){return t&&ne.alternate===null&&(ne.flags|=33554434),ne}function E(ne,X,ie,ue){return X===null||X.tag!==6?(X=Cu(ie,ne.mode,ue),X.return=ne,X):(X=p(X,ie),X.return=ne,X)}function F(ne,X,ie,ue){var ve=ie.type;return ve===d?ce(ne,X,ie.props.children,ue,ie.key):X!==null&&(X.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Cd(ve)===X.type)?(X=p(X,ie.props),Ga(X,ie),X.return=ne,X):(X=Uo(ie.type,ie.key,ie.props,null,ne.mode,ue),Ga(X,ie),X.return=ne,X)}function Z(ne,X,ie,ue){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=Du(ie,ne.mode,ue),X.return=ne,X):(X=p(X,ie.children||[]),X.return=ne,X)}function ce(ne,X,ie,ue,ve){return X===null||X.tag!==7?(X=ms(ie,ne.mode,ue,ve),X.return=ne,X):(X=p(X,ie),X.return=ne,X)}function fe(ne,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Cu(""+X,ne.mode,ie),X.return=ne,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case c:return ie=Uo(X.type,X.key,X.props,null,ne.mode,ie),Ga(ie,X),ie.return=ne,ie;case h:return X=Du(X,ne.mode,ie),X.return=ne,X;case A:var ue=X._init;return X=ue(X._payload),fe(ne,X,ie)}if(G(X)||k(X))return X=ms(X,ne.mode,ie,null),X.return=ne,X;if(typeof X.then=="function")return fe(ne,wo(X),ie);if(X.$$typeof===x)return fe(ne,qo(ne,X),ie);jo(ne,X)}return null}function se(ne,X,ie,ue){var ve=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ve!==null?null:E(ne,X,""+ie,ue);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case c:return ie.key===ve?F(ne,X,ie,ue):null;case h:return ie.key===ve?Z(ne,X,ie,ue):null;case A:return ve=ie._init,ie=ve(ie._payload),se(ne,X,ie,ue)}if(G(ie)||k(ie))return ve!==null?null:ce(ne,X,ie,ue,null);if(typeof ie.then=="function")return se(ne,X,wo(ie),ue);if(ie.$$typeof===x)return se(ne,X,qo(ne,ie),ue);jo(ne,ie)}return null}function oe(ne,X,ie,ue,ve){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ne=ne.get(ie)||null,E(X,ne,""+ue,ve);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case c:return ne=ne.get(ue.key===null?ie:ue.key)||null,F(X,ne,ue,ve);case h:return ne=ne.get(ue.key===null?ie:ue.key)||null,Z(X,ne,ue,ve);case A:var Le=ue._init;return ue=Le(ue._payload),oe(ne,X,ie,ue,ve)}if(G(ue)||k(ue))return ne=ne.get(ie)||null,ce(X,ne,ue,ve,null);if(typeof ue.then=="function")return oe(ne,X,ie,wo(ue),ve);if(ue.$$typeof===x)return oe(ne,X,ie,qo(X,ue),ve);jo(X,ue)}return null}function Se(ne,X,ie,ue){for(var ve=null,Le=null,we=X,De=X=0,At=null;we!==null&&De<ie.length;De++){we.index>De?(At=we,we=null):At=we.sibling;var $e=se(ne,we,ie[De],ue);if($e===null){we===null&&(we=At);break}t&&we&&$e.alternate===null&&s(ne,we),X=y($e,X,De),Le===null?ve=$e:Le.sibling=$e,Le=$e,we=At}if(De===ie.length)return o(ne,we),We&&is(ne,De),ve;if(we===null){for(;De<ie.length;De++)we=fe(ne,ie[De],ue),we!==null&&(X=y(we,X,De),Le===null?ve=we:Le.sibling=we,Le=we);return We&&is(ne,De),ve}for(we=u(we);De<ie.length;De++)At=oe(we,ne,De,ie[De],ue),At!==null&&(t&&At.alternate!==null&&we.delete(At.key===null?De:At.key),X=y(At,X,De),Le===null?ve=At:Le.sibling=At,Le=At);return t&&we.forEach(function(Pi){return s(ne,Pi)}),We&&is(ne,De),ve}function Re(ne,X,ie,ue){if(ie==null)throw Error(a(151));for(var ve=null,Le=null,we=X,De=X=0,At=null,$e=ie.next();we!==null&&!$e.done;De++,$e=ie.next()){we.index>De?(At=we,we=null):At=we.sibling;var Pi=se(ne,we,$e.value,ue);if(Pi===null){we===null&&(we=At);break}t&&we&&Pi.alternate===null&&s(ne,we),X=y(Pi,X,De),Le===null?ve=Pi:Le.sibling=Pi,Le=Pi,we=At}if($e.done)return o(ne,we),We&&is(ne,De),ve;if(we===null){for(;!$e.done;De++,$e=ie.next())$e=fe(ne,$e.value,ue),$e!==null&&(X=y($e,X,De),Le===null?ve=$e:Le.sibling=$e,Le=$e);return We&&is(ne,De),ve}for(we=u(we);!$e.done;De++,$e=ie.next())$e=oe(we,ne,De,$e.value,ue),$e!==null&&(t&&$e.alternate!==null&&we.delete($e.key===null?De:$e.key),X=y($e,X,De),Le===null?ve=$e:Le.sibling=$e,Le=$e);return t&&we.forEach(function(jv){return s(ne,jv)}),We&&is(ne,De),ve}function ut(ne,X,ie,ue){if(typeof ie=="object"&&ie!==null&&ie.type===d&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case c:e:{for(var ve=ie.key;X!==null;){if(X.key===ve){if(ve=ie.type,ve===d){if(X.tag===7){o(ne,X.sibling),ue=p(X,ie.props.children),ue.return=ne,ne=ue;break e}}else if(X.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Cd(ve)===X.type){o(ne,X.sibling),ue=p(X,ie.props),Ga(ue,ie),ue.return=ne,ne=ue;break e}o(ne,X);break}else s(ne,X);X=X.sibling}ie.type===d?(ue=ms(ie.props.children,ne.mode,ue,ie.key),ue.return=ne,ne=ue):(ue=Uo(ie.type,ie.key,ie.props,null,ne.mode,ue),Ga(ue,ie),ue.return=ne,ne=ue)}return T(ne);case h:e:{for(ve=ie.key;X!==null;){if(X.key===ve)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){o(ne,X.sibling),ue=p(X,ie.children||[]),ue.return=ne,ne=ue;break e}else{o(ne,X);break}else s(ne,X);X=X.sibling}ue=Du(ie,ne.mode,ue),ue.return=ne,ne=ue}return T(ne);case A:return ve=ie._init,ie=ve(ie._payload),ut(ne,X,ie,ue)}if(G(ie))return Se(ne,X,ie,ue);if(k(ie)){if(ve=k(ie),typeof ve!="function")throw Error(a(150));return ie=ve.call(ie),Re(ne,X,ie,ue)}if(typeof ie.then=="function")return ut(ne,X,wo(ie),ue);if(ie.$$typeof===x)return ut(ne,X,qo(ne,ie),ue);jo(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,X!==null&&X.tag===6?(o(ne,X.sibling),ue=p(X,ie),ue.return=ne,ne=ue):(o(ne,X),ue=Cu(ie,ne.mode,ue),ue.return=ne,ne=ue),T(ne)):o(ne,X)}return function(ne,X,ie,ue){try{Ya=0;var ve=ut(ne,X,ie,ue);return Qs=null,ve}catch(we){if(we===Wa)throw we;var Le=Sn(29,we,null,ne.mode);return Le.lanes=ue,Le.return=ne,Le}finally{}}}var as=Dd(!0),Nd=Dd(!1),Zs=re(null),To=re(0);function Ed(t,s){t=oi,le(To,t),le(Zs,s),oi=t|s.baseLanes}function zc(){le(To,oi),le(Zs,Zs.current)}function Lc(){oi=To.current,ye(Zs),ye(To)}var bn=re(null),Fn=null;function _i(t){var s=t.alternate;le(vt,vt.current&1),le(bn,t),Fn===null&&(s===null||Zs.current!==null||s.memoizedState!==null)&&(Fn=t)}function Rd(t){if(t.tag===22){if(le(vt,vt.current),le(bn,t),Fn===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Fn=t)}}else wi()}function wi(){le(vt,vt.current),le(bn,bn.current)}function Zn(t){ye(bn),Fn===t&&(Fn=null),ye(vt)}var vt=re(0);function Ao(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fx=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){s.aborted=!0,t.forEach(function(o){return o()})}},dx=n.unstable_scheduleCallback,mx=n.unstable_NormalPriority,St={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new fx,data:new Map,refCount:0}}function Xa(t){t.refCount--,t.refCount===0&&dx(mx,function(){t.controller.abort()})}var Ia=null,Fc=0,Ks=0,Js=null;function px(t,s){if(Ia===null){var o=Ia=[];Fc=0,Ks=Wu(),Js={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Fc++,s.then(kd,kd),s}function kd(){if(--Fc===0&&Ia!==null){Js!==null&&(Js.status="fulfilled");var t=Ia;Ia=null,Ks=0,Js=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function gx(t,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return t.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Od=L.S;L.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&px(t,s),Od!==null&&Od(t,s)};var ls=re(null);function Hc(){var t=ls.current;return t!==null?t:Ze.pooledCache}function Co(t,s){s===null?le(ls,ls.current):le(ls,s.pool)}function zd(){var t=Hc();return t===null?null:{parent:St._currentValue,pool:t}}var ji=0,ze=null,Ge=null,pt=null,Do=!1,ea=!1,os=!1,No=0,Qa=0,ta=null,yx=0;function dt(){throw Error(a(321))}function qc(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!nn(t[o],s[o]))return!1;return!0}function Pc(t,s,o,u,p,y){return ji=y,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=t===null||t.memoizedState===null?rs:Ti,os=!1,y=o(u,p),os=!1,ea&&(y=Bd(s,o,u,p)),Ld(t),y}function Ld(t){L.H=Hn;var s=Ge!==null&&Ge.next!==null;if(ji=0,pt=Ge=ze=null,Do=!1,Qa=0,ta=null,s)throw Error(a(300));t===null||jt||(t=t.dependencies,t!==null&&Ho(t)&&(jt=!0))}function Bd(t,s,o,u){ze=t;var p=0;do{if(ea&&(ta=null),Qa=0,ea=!1,25<=p)throw Error(a(301));if(p+=1,pt=Ge=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}L.H=cs,y=s(o,u)}while(ea);return y}function bx(){var t=L.H,s=t.useState()[0];return s=typeof s.then=="function"?Za(s):s,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(ze.flags|=1024),s}function Vc(){var t=No!==0;return No=0,t}function Uc(t,s,o){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~o}function Wc(t){if(Do){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Do=!1}ji=0,pt=Ge=ze=null,ea=!1,Qa=No=0,ta=null}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ze.memoizedState=pt=t:pt=pt.next=t,pt}function gt(){if(Ge===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var s=pt===null?ze.memoizedState:pt.next;if(s!==null)pt=s,Ge=t;else{if(t===null)throw ze.alternate===null?Error(a(467)):Error(a(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},pt===null?ze.memoizedState=pt=t:pt=pt.next=t}return pt}var Eo;Eo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Za(t){var s=Qa;return Qa+=1,ta===null&&(ta=[]),t=Td(ta,t,s),s=ze,(pt===null?s.memoizedState:pt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?rs:Ti),t}function Ro(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Za(t);if(t.$$typeof===x)return Lt(t)}throw Error(a(438,String(t)))}function $c(t){var s=null,o=ze.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Eo(),ze.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(t),u=0;u<t;u++)o[u]=D;return s.index++,o}function Kn(t,s){return typeof s=="function"?s(t):s}function ko(t){var s=gt();return Yc(s,Ge,t)}function Yc(t,s,o){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var p=t.baseQueue,y=u.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}s.baseQueue=p=y,u.pending=null}if(y=t.baseState,p===null)t.memoizedState=y;else{s=p.next;var E=T=null,F=null,Z=s,ce=!1;do{var fe=Z.lane&-536870913;if(fe!==Z.lane?(Ue&fe)===fe:(ji&fe)===fe){var se=Z.revertLane;if(se===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),fe===Ks&&(ce=!0);else if((ji&se)===se){Z=Z.next,se===Ks&&(ce=!0);continue}else fe={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(E=F=fe,T=y):F=F.next=fe,ze.lanes|=se,zi|=se;fe=Z.action,os&&o(y,fe),y=Z.hasEagerState?Z.eagerState:o(y,fe)}else se={lane:fe,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(E=F=se,T=y):F=F.next=se,ze.lanes|=fe,zi|=fe;Z=Z.next}while(Z!==null&&Z!==s);if(F===null?T=y:F.next=E,!nn(y,t.memoizedState)&&(jt=!0,ce&&(o=Js,o!==null)))throw o;t.memoizedState=y,t.baseState=T,t.baseQueue=F,u.lastRenderedState=y}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Gc(t){var s=gt(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var u=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do y=t(y,T.action),T=T.next;while(T!==p);nn(y,s.memoizedState)||(jt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function Fd(t,s,o){var u=ze,p=gt(),y=We;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=s();var T=!nn((Ge||p).memoizedState,o);if(T&&(p.memoizedState=o,jt=!0),p=p.queue,Qc(Pd.bind(null,u,p,t),[t]),p.getSnapshot!==s||T||pt!==null&&pt.memoizedState.tag&1){if(u.flags|=2048,na(9,qd.bind(null,u,p,o,s),{destroy:void 0},null),Ze===null)throw Error(a(349));y||(ji&60)!==0||Hd(u,s,o)}return o}function Hd(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=ze.updateQueue,s===null?(s=Eo(),ze.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function qd(t,s,o,u){s.value=o,s.getSnapshot=u,Vd(s)&&Ud(t)}function Pd(t,s,o){return o(function(){Vd(s)&&Ud(t)})}function Vd(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!nn(t,o)}catch{return!0}}function Ud(t){var s=Mi(t,2);s!==null&&Yt(s,t,2)}function Xc(t){var s=Zt();if(typeof t=="function"){var o=t;if(t=o(),os){xe(!0);try{o()}finally{xe(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:t},s}function Wd(t,s,o,u){return t.baseState=o,Yc(t,Ge,typeof u=="function"?u:Kn)}function xx(t,s,o,u,p){if(Lo(t))throw Error(a(485));if(t=s.action,t!==null){var y={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};L.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,$d(s,y)):(y.next=o.next,s.pending=o.next=y)}}function $d(t,s){var o=s.action,u=s.payload,p=t.state;if(s.isTransition){var y=L.T,T={};L.T=T;try{var E=o(p,u),F=L.S;F!==null&&F(T,E),Yd(t,s,E)}catch(Z){Ic(t,s,Z)}finally{L.T=y}}else try{y=o(p,u),Yd(t,s,y)}catch(Z){Ic(t,s,Z)}}function Yd(t,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Gd(t,s,u)},function(u){return Ic(t,s,u)}):Gd(t,s,o)}function Gd(t,s,o){s.status="fulfilled",s.value=o,Xd(s),t.state=o,s=t.pending,s!==null&&(o=s.next,o===s?t.pending=null:(o=o.next,s.next=o,$d(t,o)))}function Ic(t,s,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Xd(s),s=s.next;while(s!==u)}t.action=null}function Xd(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Id(t,s){return s}function Qd(t,s){if(We){var o=Ze.formState;if(o!==null){e:{var u=ze;if(We){if(Rt){t:{for(var p=Rt,y=Bn;p.nodeType!==8;){if(!y){p=null;break t}if(p=Cn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Rt=Cn(p.nextSibling),u=p.data==="F!";break e}}ss(u)}u=!1}u&&(s=o[0])}}return o=Zt(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:s},o.queue=u,o=mm.bind(null,ze,u),u.dispatch=o,u=Xc(!1),y=tu.bind(null,ze,!1,u.queue),u=Zt(),p={state:s,dispatch:null,action:t,pending:null},u.queue=p,o=xx.bind(null,ze,p,y,o),p.dispatch=o,u.memoizedState=t,[s,o,!1]}function Zd(t){var s=gt();return Kd(s,Ge,t)}function Kd(t,s,o){s=Yc(t,s,Id)[0],t=ko(Kn)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Za(s):s;var u=gt(),p=u.queue,y=p.dispatch;return o!==u.memoizedState&&(ze.flags|=2048,na(9,vx.bind(null,p,o),{destroy:void 0},null)),[s,y,t]}function vx(t,s){t.action=s}function Jd(t){var s=gt(),o=Ge;if(o!==null)return Kd(s,o,t);gt(),s=s.memoizedState,o=gt();var u=o.queue.dispatch;return o.memoizedState=t,[s,u,!1]}function na(t,s,o,u){return t={tag:t,create:s,inst:o,deps:u,next:null},s=ze.updateQueue,s===null&&(s=Eo(),ze.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,s.lastEffect=t),t}function em(){return gt().memoizedState}function Oo(t,s,o,u){var p=Zt();ze.flags|=t,p.memoizedState=na(1|s,o,{destroy:void 0},u===void 0?null:u)}function zo(t,s,o,u){var p=gt();u=u===void 0?null:u;var y=p.memoizedState.inst;Ge!==null&&u!==null&&qc(u,Ge.memoizedState.deps)?p.memoizedState=na(s,o,y,u):(ze.flags|=t,p.memoizedState=na(1|s,o,y,u))}function tm(t,s){Oo(8390656,8,t,s)}function Qc(t,s){zo(2048,8,t,s)}function nm(t,s){return zo(4,2,t,s)}function im(t,s){return zo(4,4,t,s)}function sm(t,s){if(typeof s=="function"){t=t();var o=s(t);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function am(t,s,o){o=o!=null?o.concat([t]):null,zo(4,4,sm.bind(null,s,t),o)}function Zc(){}function lm(t,s){var o=gt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&qc(s,u[1])?u[0]:(o.memoizedState=[t,s],t)}function om(t,s){var o=gt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&qc(s,u[1]))return u[0];if(u=t(),os){xe(!0);try{t()}finally{xe(!1)}}return o.memoizedState=[u,s],u}function Kc(t,s,o){return o===void 0||(ji&1073741824)!==0?t.memoizedState=s:(t.memoizedState=o,t=cp(),ze.lanes|=t,zi|=t,o)}function rm(t,s,o,u){return nn(o,s)?o:Zs.current!==null?(t=Kc(t,o,u),nn(t,s)||(jt=!0),t):(ji&42)===0?(jt=!0,t.memoizedState=o):(t=cp(),ze.lanes|=t,zi|=t,s)}function cm(t,s,o,u,p){var y=K.p;K.p=y!==0&&8>y?y:8;var T=L.T,E={};L.T=E,tu(t,!1,s,o);try{var F=p(),Z=L.S;if(Z!==null&&Z(E,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=gx(F,u);Ka(t,s,ce,on(t))}else Ka(t,s,u,on(t))}catch(fe){Ka(t,s,{then:function(){},status:"rejected",reason:fe},on())}finally{K.p=y,L.T=T}}function Sx(){}function Jc(t,s,o,u){if(t.tag!==5)throw Error(a(476));var p=um(t).queue;cm(t,p,s,I,o===null?Sx:function(){return hm(t),o(u)})}function um(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:I},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:o},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function hm(t){var s=um(t).next.queue;Ka(t,s,{},on())}function eu(){return Lt(bl)}function fm(){return gt().memoizedState}function dm(){return gt().memoizedState}function Mx(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var o=on();t=Di(o);var u=Ni(s,t,o);u!==null&&(Yt(u,s,o),tl(u,s,o)),s={cache:Bc()},t.payload=s;return}s=s.return}}function _x(t,s,o){var u=on();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Lo(t)?pm(s,o):(o=Nc(t,s,o,u),o!==null&&(Yt(o,t,u),gm(o,s,u)))}function mm(t,s,o){var u=on();Ka(t,s,o,u)}function Ka(t,s,o,u){var p={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lo(t))pm(s,p);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,E=y(T,o);if(p.hasEagerState=!0,p.eagerState=E,nn(E,T))return xo(t,s,p,0),Ze===null&&bo(),!1}catch{}finally{}if(o=Nc(t,s,p,u),o!==null)return Yt(o,t,u),gm(o,s,u),!0}return!1}function tu(t,s,o,u){if(u={lane:2,revertLane:Wu(),action:u,hasEagerState:!1,eagerState:null,next:null},Lo(t)){if(s)throw Error(a(479))}else s=Nc(t,o,u,2),s!==null&&Yt(s,t,2)}function Lo(t){var s=t.alternate;return t===ze||s!==null&&s===ze}function pm(t,s){ea=Do=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function gm(t,s,o){if((o&4194176)!==0){var u=s.lanes;u&=t.pendingLanes,o|=u,s.lanes=o,Af(t,o)}}var Hn={readContext:Lt,use:Ro,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt};Hn.useCacheRefresh=dt,Hn.useMemoCache=dt,Hn.useHostTransitionStatus=dt,Hn.useFormState=dt,Hn.useActionState=dt,Hn.useOptimistic=dt;var rs={readContext:Lt,use:Ro,useCallback:function(t,s){return Zt().memoizedState=[t,s===void 0?null:s],t},useContext:Lt,useEffect:tm,useImperativeHandle:function(t,s,o){o=o!=null?o.concat([t]):null,Oo(4194308,4,sm.bind(null,s,t),o)},useLayoutEffect:function(t,s){return Oo(4194308,4,t,s)},useInsertionEffect:function(t,s){Oo(4,2,t,s)},useMemo:function(t,s){var o=Zt();s=s===void 0?null:s;var u=t();if(os){xe(!0);try{t()}finally{xe(!1)}}return o.memoizedState=[u,s],u},useReducer:function(t,s,o){var u=Zt();if(o!==void 0){var p=o(s);if(os){xe(!0);try{o(s)}finally{xe(!1)}}}else p=s;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=_x.bind(null,ze,t),[u.memoizedState,t]},useRef:function(t){var s=Zt();return t={current:t},s.memoizedState=t},useState:function(t){t=Xc(t);var s=t.queue,o=mm.bind(null,ze,s);return s.dispatch=o,[t.memoizedState,o]},useDebugValue:Zc,useDeferredValue:function(t,s){var o=Zt();return Kc(o,t,s)},useTransition:function(){var t=Xc(!1);return t=cm.bind(null,ze,t.queue,!0,!1),Zt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,o){var u=ze,p=Zt();if(We){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Ze===null)throw Error(a(349));(Ue&60)!==0||Hd(u,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,tm(Pd.bind(null,u,y,t),[t]),u.flags|=2048,na(9,qd.bind(null,u,y,o,s),{destroy:void 0},null),o},useId:function(){var t=Zt(),s=Ze.identifierPrefix;if(We){var o=Qn,u=In;o=(u&~(1<<32-Ae(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=No++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=yx++,s=":"+s+"r"+o.toString(32)+":";return t.memoizedState=s},useCacheRefresh:function(){return Zt().memoizedState=Mx.bind(null,ze)}};rs.useMemoCache=$c,rs.useHostTransitionStatus=eu,rs.useFormState=Qd,rs.useActionState=Qd,rs.useOptimistic=function(t){var s=Zt();s.memoizedState=s.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=tu.bind(null,ze,!0,o),o.dispatch=s,[t,s]};var Ti={readContext:Lt,use:Ro,useCallback:lm,useContext:Lt,useEffect:Qc,useImperativeHandle:am,useInsertionEffect:nm,useLayoutEffect:im,useMemo:om,useReducer:ko,useRef:em,useState:function(){return ko(Kn)},useDebugValue:Zc,useDeferredValue:function(t,s){var o=gt();return rm(o,Ge.memoizedState,t,s)},useTransition:function(){var t=ko(Kn)[0],s=gt().memoizedState;return[typeof t=="boolean"?t:Za(t),s]},useSyncExternalStore:Fd,useId:fm};Ti.useCacheRefresh=dm,Ti.useMemoCache=$c,Ti.useHostTransitionStatus=eu,Ti.useFormState=Zd,Ti.useActionState=Zd,Ti.useOptimistic=function(t,s){var o=gt();return Wd(o,Ge,t,s)};var cs={readContext:Lt,use:Ro,useCallback:lm,useContext:Lt,useEffect:Qc,useImperativeHandle:am,useInsertionEffect:nm,useLayoutEffect:im,useMemo:om,useReducer:Gc,useRef:em,useState:function(){return Gc(Kn)},useDebugValue:Zc,useDeferredValue:function(t,s){var o=gt();return Ge===null?Kc(o,t,s):rm(o,Ge.memoizedState,t,s)},useTransition:function(){var t=Gc(Kn)[0],s=gt().memoizedState;return[typeof t=="boolean"?t:Za(t),s]},useSyncExternalStore:Fd,useId:fm};cs.useCacheRefresh=dm,cs.useMemoCache=$c,cs.useHostTransitionStatus=eu,cs.useFormState=Jd,cs.useActionState=Jd,cs.useOptimistic=function(t,s){var o=gt();return Ge!==null?Wd(o,Ge,t,s):(o.baseState=t,[t,o.queue.dispatch])};function nu(t,s,o,u){s=t.memoizedState,o=o(u,s),o=o==null?s:z({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var iu={isMounted:function(t){return(t=t._reactInternals)?V(t)===t:!1},enqueueSetState:function(t,s,o){t=t._reactInternals;var u=on(),p=Di(u);p.payload=s,o!=null&&(p.callback=o),s=Ni(t,p,u),s!==null&&(Yt(s,t,u),tl(s,t,u))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var u=on(),p=Di(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=Ni(t,p,u),s!==null&&(Yt(s,t,u),tl(s,t,u))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=on(),u=Di(o);u.tag=2,s!=null&&(u.callback=s),s=Ni(t,u,o),s!==null&&(Yt(s,t,o),tl(s,t,o))}};function ym(t,s,o,u,p,y,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,y,T):s.prototype&&s.prototype.isPureReactComponent?!Ha(o,u)||!Ha(p,y):!0}function bm(t,s,o,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==t&&iu.enqueueReplaceState(s,s.state,null)}function us(t,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(t=t.defaultProps){o===s&&(o=z({},o));for(var p in t)o[p]===void 0&&(o[p]=t[p])}return o}var Bo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xm(t){Bo(t)}function vm(t){console.error(t)}function Sm(t){Bo(t)}function Fo(t,s){try{var o=t.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Mm(t,s,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function su(t,s,o){return o=Di(o),o.tag=3,o.payload={element:null},o.callback=function(){Fo(t,s)},o}function _m(t){return t=Di(t),t.tag=3,t}function wm(t,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;t.payload=function(){return p(y)},t.callback=function(){Mm(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Mm(s,o,u),typeof p!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function wx(t,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&el(s,o,p,!0),o=bn.current,o!==null){switch(o.tag){case 13:return Fn===null?Hu():o.alternate===null&&ct===0&&(ct=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Oc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Pu(t,u,p)),!1;case 22:return o.flags|=65536,u===Oc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Pu(t,u,p)),!1}throw Error(a(435,o.tag))}return Pu(t,u,p),Hu(),!1}if(We)return s=bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==kc&&(t=Error(a(422),{cause:u}),Ua(pn(t,o)))):(u!==kc&&(s=Error(a(423),{cause:u}),Ua(pn(s,o))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=pn(u,o),p=su(t.stateNode,u,p),xu(t,p),ct!==4&&(ct=2)),!1;var y=Error(a(520),{cause:u});if(y=pn(y,o),cl===null?cl=[y]:cl.push(y),ct!==4&&(ct=2),s===null)return!0;u=pn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,t=p&-p,o.lanes|=t,t=su(o.stateNode,u,t),xu(o,t),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Li===null||!Li.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=_m(p),wm(p,t,o,u),xu(o,p),!1}o=o.return}while(o!==null);return!1}var jm=Error(a(461)),jt=!1;function kt(t,s,o,u){s.child=t===null?Nd(s,null,o,u):as(s,t.child,o,u)}function Tm(t,s,o,u,p){o=o.render;var y=s.ref;if("ref"in u){var T={};for(var E in u)E!=="ref"&&(T[E]=u[E])}else T=u;return fs(s),u=Pc(t,s,o,T,y,p),E=Vc(),t!==null&&!jt?(Uc(t,s,p),Jn(t,s,p)):(We&&E&&Ec(s),s.flags|=1,kt(t,s,u,p),s.child)}function Am(t,s,o,u,p){if(t===null){var y=o.type;return typeof y=="function"&&!Au(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Cm(t,s,y,u,p)):(t=Uo(o.type,null,u,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(y=t.child,!du(t,p)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ha,o(T,u)&&t.ref===s.ref)return Jn(t,s,p)}return s.flags|=1,t=Oi(y,u),t.ref=s.ref,t.return=s,s.child=t}function Cm(t,s,o,u,p){if(t!==null){var y=t.memoizedProps;if(Ha(y,u)&&t.ref===s.ref)if(jt=!1,s.pendingProps=u=y,du(t,p))(t.flags&131072)!==0&&(jt=!0);else return s.lanes=t.lanes,Jn(t,s,p)}return au(t,s,o,u,p)}function Dm(t,s,o){var u=s.pendingProps,p=u.children,y=(s.stateNode._pendingVisibility&2)!==0,T=t!==null?t.memoizedState:null;if(Ja(t,s),u.mode==="hidden"||y){if((s.flags&128)!==0){if(u=T!==null?T.baseLanes|o:o,t!==null){for(p=s.child=t.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return Nm(t,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Co(s,T!==null?T.cachePool:null),T!==null?Ed(s,T):zc(),Rd(s);else return s.lanes=s.childLanes=536870912,Nm(t,s,T!==null?T.baseLanes|o:o,o)}else T!==null?(Co(s,T.cachePool),Ed(s,T),wi(),s.memoizedState=null):(t!==null&&Co(s,null),zc(),wi());return kt(t,s,p,o),s.child}function Nm(t,s,o,u){var p=Hc();return p=p===null?null:{parent:St._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},t!==null&&Co(s,null),zc(),Rd(s),t!==null&&el(t,s,u,!0),null}function Ja(t,s){var o=s.ref;if(o===null)t!==null&&t.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(s.flags|=2097664)}}function au(t,s,o,u,p){return fs(s),o=Pc(t,s,o,u,void 0,p),u=Vc(),t!==null&&!jt?(Uc(t,s,p),Jn(t,s,p)):(We&&u&&Ec(s),s.flags|=1,kt(t,s,o,p),s.child)}function Em(t,s,o,u,p,y){return fs(s),s.updateQueue=null,o=Bd(s,u,o,p),Ld(t),u=Vc(),t!==null&&!jt?(Uc(t,s,y),Jn(t,s,y)):(We&&u&&Ec(s),s.flags|=1,kt(t,s,o,y),s.child)}function Rm(t,s,o,u,p){if(fs(s),s.stateNode===null){var y=Gs,T=o.contextType;typeof T=="object"&&T!==null&&(y=Lt(T)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=iu,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},yu(s),T=o.contextType,y.context=typeof T=="object"&&T!==null?Lt(T):Gs,y.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(nu(s,o,T,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&iu.enqueueReplaceState(y,y.state,null),il(s,u,y,p),nl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(t===null){y=s.stateNode;var E=s.memoizedProps,F=us(o,E);y.props=F;var Z=y.context,ce=o.contextType;T=Gs,typeof ce=="object"&&ce!==null&&(T=Lt(ce));var fe=o.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E||Z!==T)&&bm(s,y,u,T),Ci=!1;var se=s.memoizedState;y.state=se,il(s,u,y,p),nl(),Z=s.memoizedState,E||se!==Z||Ci?(typeof fe=="function"&&(nu(s,o,fe,u),Z=s.memoizedState),(F=Ci||ym(s,o,F,u,se,Z,T))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Z),y.props=u,y.state=Z,y.context=T,u=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,bu(t,s),T=s.memoizedProps,ce=us(o,T),y.props=ce,fe=s.pendingProps,se=y.context,Z=o.contextType,F=Gs,typeof Z=="object"&&Z!==null&&(F=Lt(Z)),E=o.getDerivedStateFromProps,(Z=typeof E=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==fe||se!==F)&&bm(s,y,u,F),Ci=!1,se=s.memoizedState,y.state=se,il(s,u,y,p),nl();var oe=s.memoizedState;T!==fe||se!==oe||Ci||t!==null&&t.dependencies!==null&&Ho(t.dependencies)?(typeof E=="function"&&(nu(s,o,E,u),oe=s.memoizedState),(ce=Ci||ym(s,o,ce,u,se,oe,F)||t!==null&&t.dependencies!==null&&Ho(t.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,oe,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,oe,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=oe),y.props=u,y.state=oe,y.context=F,u=ce):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(s.flags|=1024),u=!1)}return y=u,Ja(t,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,t!==null&&u?(s.child=as(s,t.child,null,p),s.child=as(s,null,o,p)):kt(t,s,o,p),s.memoizedState=y.state,t=s.child):t=Jn(t,s,p),t}function km(t,s,o,u){return Va(),s.flags|=256,kt(t,s,o,u),s.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function ou(t){return{baseLanes:t,cachePool:zd()}}function ru(t,s,o){return t=t!==null?t.childLanes&~o:0,s&&(t|=Mn),t}function Om(t,s,o){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,t===null){if(We){if(p?_i(s):wi(),We){var E=Rt,F;if(F=E){e:{for(F=E,E=Bn;F.nodeType!==8;){if(!E){E=null;break e}if(F=Cn(F.nextSibling),F===null){E=null;break e}}E=F}E!==null?(s.memoizedState={dehydrated:E,treeContext:ns!==null?{id:In,overflow:Qn}:null,retryLane:536870912},F=Sn(18,null,null,0),F.stateNode=E,F.return=s,s.child=F,$t=s,Rt=null,F=!0):F=!1}F||ss(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?s.lanes=16:s.lanes=536870912,null;Zn(s)}return E=u.children,u=u.fallback,p?(wi(),p=s.mode,E=uu({mode:"hidden",children:E},p),u=ms(u,p,o,null),E.return=s,u.return=s,E.sibling=u,s.child=E,p=s.child,p.memoizedState=ou(o),p.childLanes=ru(t,T,o),s.memoizedState=lu,u):(_i(s),cu(s,E))}if(F=t.memoizedState,F!==null&&(E=F.dehydrated,E!==null)){if(y)s.flags&256?(_i(s),s.flags&=-257,s=hu(t,s,o)):s.memoizedState!==null?(wi(),s.child=t.child,s.flags|=128,s=null):(wi(),p=u.fallback,E=s.mode,u=uu({mode:"visible",children:u.children},E),p=ms(p,E,o,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,as(s,t.child,null,o),u=s.child,u.memoizedState=ou(o),u.childLanes=ru(t,T,o),s.memoizedState=lu,s=p);else if(_i(s),E.data==="$!"){if(T=E.nextSibling&&E.nextSibling.dataset,T)var Z=T.dgst;T=Z,u=Error(a(419)),u.stack="",u.digest=T,Ua({value:u,source:null,stack:null}),s=hu(t,s,o)}else if(jt||el(t,s,o,!1),T=(o&t.childLanes)!==0,jt||T){if(T=Ze,T!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==F.retryLane)throw F.retryLane=u,Mi(t,u),Yt(T,t,u),jm}E.data==="$?"||Hu(),s=hu(t,s,o)}else E.data==="$?"?(s.flags|=128,s.child=t.child,s=Hx.bind(null,t),E._reactRetry=s,s=null):(t=F.treeContext,Rt=Cn(E.nextSibling),$t=s,We=!0,Tn=null,Bn=!1,t!==null&&(gn[yn++]=In,gn[yn++]=Qn,gn[yn++]=ns,In=t.id,Qn=t.overflow,ns=s),s=cu(s,u.children),s.flags|=4096);return s}return p?(wi(),p=u.fallback,E=s.mode,F=t.child,Z=F.sibling,u=Oi(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&31457280,Z!==null?p=Oi(Z,p):(p=ms(p,E,o,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,E=t.child.memoizedState,E===null?E=ou(o):(F=E.cachePool,F!==null?(Z=St._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=zd(),E={baseLanes:E.baseLanes|o,cachePool:F}),p.memoizedState=E,p.childLanes=ru(t,T,o),s.memoizedState=lu,u):(_i(s),o=t.child,t=o.sibling,o=Oi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,t!==null&&(T=s.deletions,T===null?(s.deletions=[t],s.flags|=16):T.push(t)),s.child=o,s.memoizedState=null,o)}function cu(t,s){return s=uu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function uu(t,s){return lp(t,s,0,null)}function hu(t,s,o){return as(s,t.child,null,o),t=cu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function zm(t,s,o){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),pu(t.return,s,o)}function fu(t,s,o,u,p){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=p)}function Lm(t,s,o){var u=s.pendingProps,p=u.revealOrder,y=u.tail;if(kt(t,s,u.children,o),u=vt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zm(t,o,s);else if(t.tag===19)zm(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(le(vt,u),p){case"forwards":for(o=s.child,p=null;o!==null;)t=o.alternate,t!==null&&Ao(t)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),fu(s,!1,p,o,y);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&Ao(t)===null){s.child=p;break}t=p.sibling,p.sibling=o,o=p,p=t}fu(s,!0,o,null,y);break;case"together":fu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Jn(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),zi|=s.lanes,(o&s.childLanes)===0)if(t!==null){if(el(t,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,o=Oi(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=Oi(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function du(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Ho(t)))}function jx(t,s,o){switch(s.tag){case 3:he(s,s.stateNode.containerInfo),Ai(s,St,t.memoizedState.cache),Va();break;case 27:case 5:Ne(s);break;case 4:he(s,s.stateNode.containerInfo);break;case 10:Ai(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(_i(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Om(t,s,o):(_i(s),t=Jn(t,s,o),t!==null?t.sibling:null);_i(s);break;case 19:var p=(t.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(el(t,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return Lm(t,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le(vt,vt.current),u)break;return null;case 22:case 23:return s.lanes=0,Dm(t,s,o);case 24:Ai(s,St,t.memoizedState.cache)}return Jn(t,s,o)}function Bm(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps)jt=!0;else{if(!du(t,o)&&(s.flags&128)===0)return jt=!1,jx(t,s,o);jt=(t.flags&131072)!==0}else jt=!1,We&&(s.flags&1048576)!==0&&Sd(s,Mo,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")Au(u)?(t=us(u,t),s.tag=1,s=Rm(null,s,u,t,o)):(s.tag=0,s=au(null,s,u,t,o));else{if(u!=null){if(p=u.$$typeof,p===v){s.tag=11,s=Tm(null,s,u,t,o);break e}else if(p===_){s.tag=14,s=Am(null,s,u,t,o);break e}}throw s=O(u)||u,Error(a(306,s,""))}}return s;case 0:return au(t,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=us(u,s.pendingProps),Rm(t,s,u,p,o);case 3:e:{if(he(s,s.stateNode.containerInfo),t===null)throw Error(a(387));var y=s.pendingProps;p=s.memoizedState,u=p.element,bu(t,s),il(s,y,null,o);var T=s.memoizedState;if(y=T.cache,Ai(s,St,y),y!==p.cache&&gu(s,[St],o,!0),nl(),y=T.element,p.isDehydrated)if(p={element:y,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=km(t,s,y,o);break e}else if(y!==u){u=pn(Error(a(424)),s),Ua(u),s=km(t,s,y,o);break e}else for(Rt=Cn(s.stateNode.containerInfo.firstChild),$t=s,We=!0,Tn=null,Bn=!0,o=Nd(s,null,y,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Va(),y===u){s=Jn(t,s,o);break e}kt(t,s,y,o)}s=s.child}return s;case 26:return Ja(t,s),t===null?(o=qp(s.type,null,s.pendingProps,null))?s.memoizedState=o:We||(o=s.type,t=s.pendingProps,u=tr(je.current).createElement(o),u[zt]=s,u[It]=t,Ot(u,o,t),wt(u),s.stateNode=u):s.memoizedState=qp(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ne(s),t===null&&We&&(u=s.stateNode=Bp(s.type,s.pendingProps,je.current),$t=s,Bn=!0,Rt=Cn(u.firstChild)),u=s.pendingProps.children,t!==null||We?kt(t,s,u,o):s.child=as(s,null,u,o),Ja(t,s),s.child;case 5:return t===null&&We&&((p=u=Rt)&&(u=tv(u,s.type,s.pendingProps,Bn),u!==null?(s.stateNode=u,$t=s,Rt=Cn(u.firstChild),Bn=!1,p=!0):p=!1),p||ss(s)),Ne(s),p=s.type,y=s.pendingProps,T=t!==null?t.memoizedProps:null,u=y.children,Ju(p,y)?u=null:T!==null&&Ju(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=Pc(t,s,bx,null,null,o),bl._currentValue=p),Ja(t,s),kt(t,s,u,o),s.child;case 6:return t===null&&We&&((t=o=Rt)&&(o=nv(o,s.pendingProps,Bn),o!==null?(s.stateNode=o,$t=s,Rt=null,t=!0):t=!1),t||ss(s)),null;case 13:return Om(t,s,o);case 4:return he(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=as(s,null,u,o):kt(t,s,u,o),s.child;case 11:return Tm(t,s,s.type,s.pendingProps,o);case 7:return kt(t,s,s.pendingProps,o),s.child;case 8:return kt(t,s,s.pendingProps.children,o),s.child;case 12:return kt(t,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ai(s,s.type,u.value),kt(t,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,fs(s),p=Lt(p),u=u(p),s.flags|=1,kt(t,s,u,o),s.child;case 14:return Am(t,s,s.type,s.pendingProps,o);case 15:return Cm(t,s,s.type,s.pendingProps,o);case 19:return Lm(t,s,o);case 22:return Dm(t,s,o);case 24:return fs(s),u=Lt(St),t===null?(p=Hc(),p===null&&(p=Ze,y=Bc(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:u,cache:p},yu(s),Ai(s,St,p)):((t.lanes&o)!==0&&(bu(t,s),il(s,null,null,o),nl()),p=t.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ai(s,St,u)):(u=y.cache,Ai(s,St,u),u!==p.cache&&gu(s,[St],o,!0))),kt(t,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}var mu=re(null),hs=null,ei=null;function Ai(t,s,o){le(mu,s._currentValue),s._currentValue=o}function ti(t){t._currentValue=mu.current,ye(mu)}function pu(t,s,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===o)break;t=t.return}}function gu(t,s,o,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var E=y;y=p;for(var F=0;F<s.length;F++)if(E.context===s[F]){y.lanes|=o,E=y.alternate,E!==null&&(E.lanes|=o),pu(y.return,o,t),u||(T=null);break e}y=E.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(a(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),pu(T,o,t),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===t){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function el(t,s,o,u){t=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var E=p.type;nn(p.pendingProps.value,T.value)||(t!==null?t.push(E):t=[E])}}else if(p===_e.current){if(T=p.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}p=p.return}t!==null&&gu(s,t,o,u),s.flags|=262144}function Ho(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fs(t){hs=t,ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Lt(t){return Fm(hs,t)}function qo(t,s){return hs===null&&fs(t),Fm(t,s)}function Fm(t,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ei===null){if(t===null)throw Error(a(308));ei=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ei=ei.next=s;return o}var Ci=!1;function yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ni(t,s,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ot&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=vo(t),xd(t,null,o),s}return xo(t,u,s,o),vo(t)}function tl(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=t.pendingLanes,o|=u,s.lanes=o,Af(t,o)}}function xu(t,s){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}var vu=!1;function nl(){if(vu){var t=Js;if(t!==null)throw t}}function il(t,s,o,u){vu=!1;var p=t.updateQueue;Ci=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var F=E,Z=F.next;F.next=null,T===null?y=Z:T.next=Z,T=F;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,E=ce.lastBaseUpdate,E!==T&&(E===null?ce.firstBaseUpdate=Z:E.next=Z,ce.lastBaseUpdate=F))}if(y!==null){var fe=p.baseState;T=0,ce=Z=F=null,E=y;do{var se=E.lane&-536870913,oe=se!==E.lane;if(oe?(Ue&se)===se:(u&se)===se){se!==0&&se===Ks&&(vu=!0),ce!==null&&(ce=ce.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Se=t,Re=E;se=s;var ut=o;switch(Re.tag){case 1:if(Se=Re.payload,typeof Se=="function"){fe=Se.call(ut,fe,se);break e}fe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Re.payload,se=typeof Se=="function"?Se.call(ut,fe,se):Se,se==null)break e;fe=z({},fe,se);break e;case 2:Ci=!0}}se=E.callback,se!==null&&(t.flags|=64,oe&&(t.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[se]:oe.push(se))}else oe={lane:se,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ce===null?(Z=ce=oe,F=fe):ce=ce.next=oe,T|=se;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;oe=E,E=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);ce===null&&(F=fe),p.baseState=F,p.firstBaseUpdate=Z,p.lastBaseUpdate=ce,y===null&&(p.shared.lanes=0),zi|=T,t.lanes=T,t.memoizedState=fe}}function Hm(t,s){if(typeof t!="function")throw Error(a(191,t));t.call(s)}function qm(t,s){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Hm(o[t],s)}function sl(t,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&t)===t){u=void 0;var y=o.create,T=o.inst;u=y(),T.destroy=u}o=o.next}while(o!==p)}}catch(E){Qe(s,s.return,E)}}function Ei(t,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&t)===t){var T=u.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,p=s;var F=o;try{E()}catch(Z){Qe(p,F,Z)}}}u=u.next}while(u!==y)}}catch(Z){Qe(s,s.return,Z)}}function Pm(t){var s=t.updateQueue;if(s!==null){var o=t.stateNode;try{qm(s,o)}catch(u){Qe(t,t.return,u)}}}function Vm(t,s,o){o.props=us(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Qe(t,s,u)}}function ds(t,s){try{var o=t.ref;if(o!==null){var u=t.stateNode;switch(t.tag){case 26:case 27:case 5:var p=u;break;default:p=u}typeof o=="function"?t.refCleanup=o(p):o.current=p}}catch(y){Qe(t,s,y)}}function sn(t,s){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Qe(t,s,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Qe(t,s,p)}else o.current=null}function Um(t){var s=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Qe(t,t.return,p)}}function Wm(t,s,o){try{var u=t.stateNode;Qx(u,t.type,o,s),u[It]=s}catch(p){Qe(t,t.return,p)}}function $m(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Su(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$m(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mu(t,s,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(t,s):o.insertBefore(t,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(t,o)):(s=o,s.appendChild(t)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=er));else if(u!==4&&u!==27&&(t=t.child,t!==null))for(Mu(t,s,o),t=t.sibling;t!==null;)Mu(t,s,o),t=t.sibling}function Po(t,s,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(u!==4&&u!==27&&(t=t.child,t!==null))for(Po(t,s,o),t=t.sibling;t!==null;)Po(t,s,o),t=t.sibling}var ni=!1,rt=!1,_u=!1,Ym=typeof WeakSet=="function"?WeakSet:Set,Tt=null,Gm=!1;function Tx(t,s){if(t=t.containerInfo,Zu=or,t=ud(t),jc(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,E=-1,F=-1,Z=0,ce=0,fe=t,se=null;t:for(;;){for(var oe;fe!==o||p!==0&&fe.nodeType!==3||(E=T+p),fe!==y||u!==0&&fe.nodeType!==3||(F=T+u),fe.nodeType===3&&(T+=fe.nodeValue.length),(oe=fe.firstChild)!==null;)se=fe,fe=oe;for(;;){if(fe===t)break t;if(se===o&&++Z===p&&(E=T),se===y&&++ce===u&&(F=T),(oe=fe.nextSibling)!==null)break;fe=se,se=fe.parentNode}fe=oe}o=E===-1||F===-1?null:{start:E,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ku={focusedElem:t,selectionRange:o},or=!1,Tt=s;Tt!==null;)if(s=Tt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Tt=t;else for(;Tt!==null;){switch(s=Tt,y=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Se=us(o.type,p,o.elementType===o.type);t=u.getSnapshotBeforeUpdate(Se,y),u.__reactInternalSnapshotBeforeUpdate=t}catch(Re){Qe(o,o.return,Re)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,o=t.nodeType,o===9)nh(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=s.sibling,t!==null){t.return=s.return,Tt=t;break}Tt=s.return}return Se=Gm,Gm=!1,Se}function Xm(t,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:si(t,o),u&4&&sl(5,o);break;case 1:if(si(t,o),u&4)if(t=o.stateNode,s===null)try{t.componentDidMount()}catch(E){Qe(o,o.return,E)}else{var p=us(o.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(p,s,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Qe(o,o.return,E)}}u&64&&Pm(o),u&512&&ds(o,o.return);break;case 3:if(si(t,o),u&64&&(u=o.updateQueue,u!==null)){if(t=null,o.child!==null)switch(o.child.tag){case 27:case 5:t=o.child.stateNode;break;case 1:t=o.child.stateNode}try{qm(u,t)}catch(E){Qe(o,o.return,E)}}break;case 26:si(t,o),u&512&&ds(o,o.return);break;case 27:case 5:si(t,o),s===null&&u&4&&Um(o),u&512&&ds(o,o.return);break;case 12:si(t,o);break;case 13:si(t,o),u&4&&Zm(t,o);break;case 22:if(p=o.memoizedState!==null||ni,!p){s=s!==null&&s.memoizedState!==null||rt;var y=ni,T=rt;ni=p,(rt=s)&&!T?Ri(t,o,(o.subtreeFlags&8772)!==0):si(t,o),ni=y,rt=T}u&512&&(o.memoizedProps.mode==="manual"?ds(o,o.return):sn(o,o.return));break;default:si(t,o)}}function Im(t){var s=t.alternate;s!==null&&(t.alternate=null,Im(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&cc(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,an=!1;function ii(t,s,o){for(o=o.child;o!==null;)Qm(t,s,o),o=o.sibling}function Qm(t,s,o){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ln,o)}catch{}switch(o.tag){case 26:rt||sn(o,s),ii(t,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:rt||sn(o,s);var u=yt,p=an;for(yt=o.stateNode,ii(t,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);cc(o),yt=u,an=p;break;case 5:rt||sn(o,s);case 6:p=yt;var y=an;if(yt=null,ii(t,s,o),yt=p,an=y,yt!==null)if(an)try{t=yt,u=o.stateNode,t.nodeType===8?t.parentNode.removeChild(u):t.removeChild(u)}catch(T){Qe(o,s,T)}else try{yt.removeChild(o.stateNode)}catch(T){Qe(o,s,T)}break;case 18:yt!==null&&(an?(s=yt,o=o.stateNode,s.nodeType===8?th(s.parentNode,o):s.nodeType===1&&th(s,o),Ml(s)):th(yt,o.stateNode));break;case 4:u=yt,p=an,yt=o.stateNode.containerInfo,an=!0,ii(t,s,o),yt=u,an=p;break;case 0:case 11:case 14:case 15:rt||Ei(2,o,s),rt||Ei(4,o,s),ii(t,s,o);break;case 1:rt||(sn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Vm(o,s,u)),ii(t,s,o);break;case 21:ii(t,s,o);break;case 22:rt||sn(o,s),rt=(u=rt)||o.memoizedState!==null,ii(t,s,o),rt=u;break;default:ii(t,s,o)}}function Zm(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(o){Qe(s,s.return,o)}}function Ax(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Ym),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Ym),s;default:throw Error(a(435,t.tag))}}function wu(t,s){var o=Ax(t);s.forEach(function(u){var p=qx.bind(null,t,u);o.has(u)||(o.add(u),u.then(p,p))})}function xn(t,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=t,T=s,E=T;e:for(;E!==null;){switch(E.tag){case 27:case 5:yt=E.stateNode,an=!1;break e;case 3:yt=E.stateNode.containerInfo,an=!0;break e;case 4:yt=E.stateNode.containerInfo,an=!0;break e}E=E.return}if(yt===null)throw Error(a(160));Qm(y,T,p),yt=null,an=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Km(s,t),s=s.sibling}var An=null;function Km(t,s){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(s,t),vn(t),u&4&&(Ei(3,t,t.return),sl(3,t),Ei(5,t,t.return));break;case 1:xn(s,t),vn(t),u&512&&(rt||o===null||sn(o,o.return)),u&64&&ni&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=An;if(xn(s,t),vn(t),u&512&&(rt||o===null||sn(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Na]||y[zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Ot(y,u,o),y[zt]=t,wt(y),u=y;break e;case"link":var T=Up("link","href",p).get(u+(o.href||""));if(T){for(var E=0;E<T.length;E++)if(y=T[E],y.getAttribute("href")===(o.href==null?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(E,1);break t}}y=p.createElement(u),Ot(y,u,o),p.head.appendChild(y);break;case"meta":if(T=Up("meta","content",p).get(u+(o.content||""))){for(E=0;E<T.length;E++)if(y=T[E],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(E,1);break t}}y=p.createElement(u),Ot(y,u,o),p.head.appendChild(y);break;default:throw Error(a(468,u))}y[zt]=t,wt(y),u=y}t.stateNode=u}else Wp(p,t.type,t.stateNode);else t.stateNode=Vp(p,u,t.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?Wp(p,t.type,t.stateNode):Vp(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Wm(t,t.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&t.alternate===null){p=t.stateNode,y=t.memoizedProps;try{for(var F=p.firstChild;F;){var Z=F.nextSibling,ce=F.nodeName;F[Na]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&F.rel.toLowerCase()==="stylesheet"||p.removeChild(F),F=Z}for(var fe=t.type,se=p.attributes;se.length;)p.removeAttributeNode(se[0]);Ot(p,fe,y),p[zt]=t,p[It]=y}catch(Se){Qe(t,t.return,Se)}}case 5:if(xn(s,t),vn(t),u&512&&(rt||o===null||sn(o,o.return)),t.flags&32){p=t.stateNode;try{qs(p,"")}catch(Se){Qe(t,t.return,Se)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,Wm(t,p,o!==null?o.memoizedProps:p)),u&1024&&(_u=!0);break;case 6:if(xn(s,t),vn(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(Se){Qe(t,t.return,Se)}}break;case 3:if(sr=null,p=An,An=nr(s.containerInfo),xn(s,t),An=p,vn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ml(s.containerInfo)}catch(Se){Qe(t,t.return,Se)}_u&&(_u=!1,Jm(t));break;case 4:u=An,An=nr(t.stateNode.containerInfo),xn(s,t),vn(t),An=u;break;case 12:xn(s,t),vn(t);break;case 13:xn(s,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ku=Ee()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,wu(t,u)));break;case 22:if(u&512&&(rt||o===null||sn(o,o.return)),F=t.memoizedState!==null,Z=o!==null&&o.memoizedState!==null,ce=ni,fe=rt,ni=ce||F,rt=fe||Z,xn(s,t),rt=fe,ni=ce,vn(t),s=t.stateNode,s._current=t,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=F?s._visibility&-2:s._visibility|1,F&&(s=ni||rt,o===null||Z||s||ia(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(o=null,s=t;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){Z=o=s;try{if(p=Z.stateNode,F)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=Z.stateNode,E=Z.memoizedProps.style;var oe=E!=null&&E.hasOwnProperty("display")?E.display:null;T.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Se){Qe(Z,Z.return,Se)}}}else if(s.tag===6){if(o===null){Z=s;try{Z.stateNode.nodeValue=F?"":Z.memoizedProps}catch(Se){Qe(Z,Z.return,Se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,wu(t,o))));break;case 19:xn(s,t),vn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,wu(t,u)));break;case 21:break;default:xn(s,t),vn(t)}}function vn(t){var s=t.flags;if(s&2){try{if(t.tag!==27){e:{for(var o=t.return;o!==null;){if($m(o)){var u=o;break e}o=o.return}throw Error(a(160))}switch(u.tag){case 27:var p=u.stateNode,y=Su(t);Po(t,y,p);break;case 5:var T=u.stateNode;u.flags&32&&(qs(T,""),u.flags&=-33);var E=Su(t);Po(t,E,T);break;case 3:case 4:var F=u.stateNode.containerInfo,Z=Su(t);Mu(t,Z,F);break;default:throw Error(a(161))}}}catch(ce){Qe(t,t.return,ce)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Jm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Jm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function si(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Xm(t,s.alternate,s),s=s.sibling}function ia(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ei(4,s,s.return),ia(s);break;case 1:sn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Vm(s,s.return,o),ia(s);break;case 26:case 27:case 5:sn(s,s.return),ia(s);break;case 22:sn(s,s.return),s.memoizedState===null&&ia(s);break;default:ia(s)}t=t.sibling}}function Ri(t,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=t,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:Ri(p,y,o),sl(4,y);break;case 1:if(Ri(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){Qe(u,u.return,Z)}if(u=y,p=u.updateQueue,p!==null){var E=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Hm(F[p],E)}catch(Z){Qe(u,u.return,Z)}}o&&T&64&&Pm(y),ds(y,y.return);break;case 26:case 27:case 5:Ri(p,y,o),o&&u===null&&T&4&&Um(y),ds(y,y.return);break;case 12:Ri(p,y,o);break;case 13:Ri(p,y,o),o&&T&4&&Zm(p,y);break;case 22:y.memoizedState===null&&Ri(p,y,o),ds(y,y.return);break;default:Ri(p,y,o)}s=s.sibling}}function ju(t,s){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Xa(o))}function Tu(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Xa(t))}function ki(t,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ep(t,s,o,u),s=s.sibling}function ep(t,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:ki(t,s,o,u),p&2048&&sl(9,s);break;case 3:ki(t,s,o,u),p&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Xa(t)));break;case 12:if(p&2048){ki(t,s,o,u),t=s.stateNode;try{var y=s.memoizedProps,T=y.id,E=y.onPostCommit;typeof E=="function"&&E(T,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(F){Qe(s,s.return,F)}}else ki(t,s,o,u);break;case 23:break;case 22:y=s.stateNode,s.memoizedState!==null?y._visibility&4?ki(t,s,o,u):al(t,s):y._visibility&4?ki(t,s,o,u):(y._visibility|=4,sa(t,s,o,u,(s.subtreeFlags&10256)!==0)),p&2048&&ju(s.alternate,s);break;case 24:ki(t,s,o,u),p&2048&&Tu(s.alternate,s);break;default:ki(t,s,o,u)}}function sa(t,s,o,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=t,T=s,E=o,F=u,Z=T.flags;switch(T.tag){case 0:case 11:case 15:sa(y,T,E,F,p),sl(8,T);break;case 23:break;case 22:var ce=T.stateNode;T.memoizedState!==null?ce._visibility&4?sa(y,T,E,F,p):al(y,T):(ce._visibility|=4,sa(y,T,E,F,p)),p&&Z&2048&&ju(T.alternate,T);break;case 24:sa(y,T,E,F,p),p&&Z&2048&&Tu(T.alternate,T);break;default:sa(y,T,E,F,p)}s=s.sibling}}function al(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=t,u=s,p=u.flags;switch(u.tag){case 22:al(o,u),p&2048&&ju(u.alternate,u);break;case 24:al(o,u),p&2048&&Tu(u.alternate,u);break;default:al(o,u)}s=s.sibling}}var ll=8192;function aa(t){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)tp(t),t=t.sibling}function tp(t){switch(t.tag){case 26:aa(t),t.flags&ll&&t.memoizedState!==null&&pv(An,t.memoizedState,t.memoizedProps);break;case 5:aa(t);break;case 3:case 4:var s=An;An=nr(t.stateNode.containerInfo),aa(t),An=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=ll,ll=16777216,aa(t),ll=s):aa(t));break;default:aa(t)}}function np(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ol(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Tt=u,sp(u,t)}np(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ip(t),t=t.sibling}function ip(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&Ei(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&4&&(t.return===null||t.return.tag!==13)?(s._visibility&=-5,Vo(t)):ol(t);break;default:ol(t)}}function Vo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Tt=u,sp(u,t)}np(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ei(8,s,s.return),Vo(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Vo(s));break;default:Vo(s)}t=t.sibling}}function sp(t,s){for(;Tt!==null;){var o=Tt;switch(o.tag){case 0:case 11:case 15:Ei(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Xa(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Tt=u;else e:for(o=t;Tt!==null;){u=Tt;var p=u.sibling,y=u.return;if(Im(u),u===o){Tt=null;break e}if(p!==null){p.return=y,Tt=p;break e}Tt=y}}}function Cx(t,s,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,s,o,u){return new Cx(t,s,o,u)}function Au(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oi(t,s){var o=t.alternate;return o===null?(o=Sn(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&31457280,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function ap(t,s){t.flags&=31457282;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,s=o.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Uo(t,s,o,u,p,y){var T=0;if(u=t,typeof t=="function")Au(t)&&(T=1);else if(typeof t=="string")T=dv(t,o,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case d:return ms(o.children,p,y,s);case m:T=8,p|=24;break;case g:return t=Sn(12,o,s,p|2),t.elementType=g,t.lanes=y,t;case M:return t=Sn(13,o,s,p),t.elementType=M,t.lanes=y,t;case w:return t=Sn(19,o,s,p),t.elementType=w,t.lanes=y,t;case j:return lp(o,p,y,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case x:T=10;break e;case S:T=9;break e;case v:T=11;break e;case _:T=14;break e;case A:T=16,u=null;break e}T=29,o=Error(a(130,t===null?"null":typeof t,"")),u=null}return s=Sn(T,o,s,p),s.elementType=t,s.type=u,s.lanes=y,s}function ms(t,s,o,u){return t=Sn(7,t,u,s),t.lanes=o,t}function lp(t,s,o,u){t=Sn(22,t,u,s),t.elementType=j,t.lanes=o;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=p._current;if(y===null)throw Error(a(456));if((p._pendingVisibility&2)===0){var T=Mi(y,2);T!==null&&(p._pendingVisibility|=2,Yt(T,y,2))}},attach:function(){var y=p._current;if(y===null)throw Error(a(456));if((p._pendingVisibility&2)!==0){var T=Mi(y,2);T!==null&&(p._pendingVisibility&=-3,Yt(T,y,2))}}};return t.stateNode=p,t}function Cu(t,s,o){return t=Sn(6,t,null,s),t.lanes=o,t}function Du(t,s,o){return s=Sn(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function ai(t){t.flags|=4}function op(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$p(s)){if(s=bn.current,s!==null&&((Ue&4194176)===Ue?Fn!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||s!==Fn))throw $a=Oc,wd;t.flags|=8192}}function Wo(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?jf():536870912,t.lanes|=s,oa|=s)}function rl(t,s){if(!We)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function lt(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(s)for(var p=t.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&31457280,u|=p.flags&31457280,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=o,s}function Dx(t,s,o){var u=s.pendingProps;switch(Rc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return o=s.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ti(St),be(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Pa(s)?ai(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Tn!==null&&(Bu(Tn),Tn=null))),lt(s),null;case 26:return o=s.memoizedState,t===null?(ai(s),o!==null?(lt(s),op(s,o)):(lt(s),s.flags&=-16777217)):o?o!==t.memoizedState?(ai(s),lt(s),op(s,o)):(lt(s),s.flags&=-16777217):(t.memoizedProps!==u&&ai(s),lt(s),s.flags&=-16777217),null;case 27:Be(s),o=je.current;var p=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==u&&ai(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return lt(s),null}t=pe.current,Pa(s)?Md(s):(t=Bp(p,u,o),s.stateNode=t,ai(s))}return lt(s),null;case 5:if(Be(s),o=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&ai(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return lt(s),null}if(t=pe.current,Pa(s))Md(s);else{switch(p=tr(je.current),t){case 1:t=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?p.createElement(o,{is:u.is}):p.createElement(o)}}t[zt]=s,t[It]=u;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)t.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=t;e:switch(Ot(t,o,u),o){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ai(s)}}return lt(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==u&&ai(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(t=je.current,Pa(s)){if(t=s.stateNode,o=s.memoizedProps,u=null,p=$t,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[zt]=s,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Ep(t.nodeValue,o)),t||ss(s)}else t=tr(t).createTextNode(u),t[zt]=s,s.stateNode=t}return lt(s),null;case 13:if(u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Pa(s),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(a(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[zt]=s}else Va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),p=!1}else Tn!==null&&(Bu(Tn),Tn=null),p=!0;if(!p)return s.flags&256?(Zn(s),s):(Zn(s),null)}if(Zn(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,t=t!==null&&t.memoizedState!==null,o){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return o!==t&&o&&(s.child.flags|=8192),Wo(s,s.updateQueue),lt(s),null;case 4:return be(),t===null&&Xu(s.stateNode.containerInfo),lt(s),null;case 10:return ti(s.type),lt(s),null;case 19:if(ye(vt),p=s.memoizedState,p===null)return lt(s),null;if(u=(s.flags&128)!==0,y=p.rendering,y===null)if(u)rl(p,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(y=Ao(t),y!==null){for(s.flags|=128,rl(p,!1),t=y.updateQueue,s.updateQueue=t,Wo(s,t),s.subtreeFlags=0,t=o,o=s.child;o!==null;)ap(o,t),o=o.sibling;return le(vt,vt.current&1|2),s.child}t=t.sibling}p.tail!==null&&Ee()>$o&&(s.flags|=128,u=!0,rl(p,!1),s.lanes=4194304)}else{if(!u)if(t=Ao(y),t!==null){if(s.flags|=128,u=!0,t=t.updateQueue,s.updateQueue=t,Wo(s,t),rl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!We)return lt(s),null}else 2*Ee()-p.renderingStartTime>$o&&o!==536870912&&(s.flags|=128,u=!0,rl(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(t=p.last,t!==null?t.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Ee(),s.sibling=null,t=vt.current,le(vt,u?t&1|2:t&1),s):(lt(s),null);case 22:case 23:return Zn(s),Lc(),u=s.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),o=s.updateQueue,o!==null&&Wo(s,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),t!==null&&ye(ls),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ti(St),lt(s),null;case 25:return null}throw Error(a(156,s.tag))}function Nx(t,s){switch(Rc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ti(St),be(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Be(s),null;case 13:if(Zn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Va()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ye(vt),null;case 4:return be(),null;case 10:return ti(s.type),null;case 22:case 23:return Zn(s),Lc(),t!==null&&ye(ls),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ti(St),null;case 25:return null;default:return null}}function rp(t,s){switch(Rc(s),s.tag){case 3:ti(St),be();break;case 26:case 27:case 5:Be(s);break;case 4:be();break;case 13:Zn(s);break;case 19:ye(vt);break;case 10:ti(s.type);break;case 22:case 23:Zn(s),Lc(),t!==null&&ye(ls);break;case 24:ti(St)}}var Ex={getCacheForType:function(t){var s=Lt(St),o=s.data.get(t);return o===void 0&&(o=t(),s.data.set(t,o)),o}},Rx=typeof WeakMap=="function"?WeakMap:Map,ot=0,Ze=null,Fe=null,Ue=0,Ke=0,ln=null,li=!1,la=!1,Nu=!1,oi=0,ct=0,zi=0,ps=0,Eu=0,Mn=0,oa=0,cl=null,qn=null,Ru=!1,ku=0,$o=1/0,Yo=null,Li=null,Go=!1,gs=null,ul=0,Ou=0,zu=null,hl=0,Lu=null;function on(){if((ot&2)!==0&&Ue!==0)return Ue&-Ue;if(L.T!==null){var t=Ks;return t!==0?t:Wu()}return Df()}function cp(){Mn===0&&(Mn=(Ue&536870912)===0||We?wf():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Mn}function Yt(t,s,o){(t===Ze&&Ke===2||t.cancelPendingCommit!==null)&&(ra(t,0),ri(t,Ue,Mn,!1)),Da(t,o),((ot&2)===0||t!==Ze)&&(t===Ze&&((ot&2)===0&&(ps|=o),ct===4&&ri(t,Ue,Mn,!1)),Pn(t))}function up(t,s,o){if((ot&6)!==0)throw Error(a(327));var u=!o&&(s&60)===0&&(s&t.expiredLanes)===0||tn(t,s),p=u?zx(t,s):qu(t,s,!0),y=u;do{if(p===0){la&&!u&&ri(t,s,0,!1);break}else if(p===6)ri(t,s,0,!li);else{if(o=t.current.alternate,y&&!kx(o)){p=qu(t,s,!1),y=!1;continue}if(p===2){if(y=s,t.errorRecoveryDisabledLanes&y)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var E=t;p=cl;var F=E.current.memoizedState.isDehydrated;if(F&&(ra(E,T).flags|=256),T=qu(E,T,!1),T!==2){if(Nu&&!F){E.errorRecoveryDisabledLanes|=y,ps|=y,p=4;break e}y=qn,qn=p,y!==null&&Bu(y)}p=T}if(y=!1,p!==2)continue}}if(p===1){ra(t,0),ri(t,s,0,!0);break}e:{switch(u=t,p){case 0:case 1:throw Error(a(345));case 4:if((s&4194176)===s){ri(u,s,Mn,!li);break e}break;case 2:qn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(y=ku+300-Ee(),10<y)){if(ri(u,s,Mn,!li),_t(u,0)!==0)break e;u.timeoutHandle=Op(hp.bind(null,u,o,qn,Yo,Ru,s,Mn,ps,oa,li,2,-0,0),y);break e}hp(u,o,qn,Yo,Ru,s,Mn,ps,oa,li,0,-0,0)}}break}while(!0);Pn(t)}function Bu(t){qn===null?qn=t:qn.push.apply(qn,t)}function hp(t,s,o,u,p,y,T,E,F,Z,ce,fe,se){var oe=s.subtreeFlags;if((oe&8192||(oe&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:mv},tp(s),s=gv(),s!==null)){t.cancelPendingCommit=s(bp.bind(null,t,o,u,p,T,E,F,1,fe,se)),ri(t,y,T,!Z);return}bp(t,o,u,p,T,E,F,ce,fe,se)}function kx(t){for(var s=t;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!nn(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ri(t,s,o,u){s&=~Eu,s&=~ps,t.suspendedLanes|=s,t.pingedLanes&=~s,u&&(t.warmLanes|=s),u=t.expirationTimes;for(var p=s;0<p;){var y=31-Ae(p),T=1<<y;u[y]=-1,p&=~T}o!==0&&Tf(t,o,s)}function Xo(){return(ot&6)===0?(fl(0),!1):!0}function Fu(){if(Fe!==null){if(Ke===0)var t=Fe.return;else t=Fe,ei=hs=null,Wc(t),Qs=null,Ya=0,t=Fe;for(;t!==null;)rp(t.alternate,t),t=t.return;Fe=null}}function ra(t,s){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,Kx(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Fu(),Ze=t,Fe=o=Oi(t.current,null),Ue=s,Ke=0,ln=null,li=!1,la=tn(t,s),Nu=!1,oa=Mn=Eu=ps=zi=ct=0,qn=cl=null,Ru=!1,(s&8)!==0&&(s|=s&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=s;0<u;){var p=31-Ae(u),y=1<<p;s|=t[p],u&=~y}return oi=s,bo(),o}function fp(t,s){ze=null,L.H=Hn,s===Wa?(s=Ad(),Ke=3):s===wd?(s=Ad(),Ke=4):Ke=s===jm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ln=s,Fe===null&&(ct=1,Fo(t,pn(s,t.current)))}function dp(){var t=L.H;return L.H=Hn,t===null?Hn:t}function mp(){var t=L.A;return L.A=Ex,t}function Hu(){ct=4,li||(Ue&4194176)!==Ue&&bn.current!==null||(la=!0),(zi&134217727)===0&&(ps&134217727)===0||Ze===null||ri(Ze,Ue,Mn,!1)}function qu(t,s,o){var u=ot;ot|=2;var p=dp(),y=mp();(Ze!==t||Ue!==s)&&(Yo=null,ra(t,s)),s=!1;var T=ct;e:do try{if(Ke!==0&&Fe!==null){var E=Fe,F=ln;switch(Ke){case 8:Fu(),T=6;break e;case 3:case 2:case 6:bn.current===null&&(s=!0);var Z=Ke;if(Ke=0,ln=null,ca(t,E,F,Z),o&&la){T=0;break e}break;default:Z=Ke,Ke=0,ln=null,ca(t,E,F,Z)}}Ox(),T=ct;break}catch(ce){fp(t,ce)}while(!0);return s&&t.shellSuspendCounter++,ei=hs=null,ot=u,L.H=p,L.A=y,Fe===null&&(Ze=null,Ue=0,bo()),T}function Ox(){for(;Fe!==null;)pp(Fe)}function zx(t,s){var o=ot;ot|=2;var u=dp(),p=mp();Ze!==t||Ue!==s?(Yo=null,$o=Ee()+500,ra(t,s)):la=tn(t,s);e:do try{if(Ke!==0&&Fe!==null){s=Fe;var y=ln;t:switch(Ke){case 1:Ke=0,ln=null,ca(t,s,y,1);break;case 2:if(jd(y)){Ke=0,ln=null,gp(s);break}s=function(){Ke===2&&Ze===t&&(Ke=7),Pn(t)},y.then(s,s);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:jd(y)?(Ke=0,ln=null,gp(s)):(Ke=0,ln=null,ca(t,s,y,7));break;case 5:var T=null;switch(Fe.tag){case 26:T=Fe.memoizedState;case 5:case 27:var E=Fe;if(!T||$p(T)){Ke=0,ln=null;var F=E.sibling;if(F!==null)Fe=F;else{var Z=E.return;Z!==null?(Fe=Z,Io(Z)):Fe=null}break t}}Ke=0,ln=null,ca(t,s,y,5);break;case 6:Ke=0,ln=null,ca(t,s,y,6);break;case 8:Fu(),ct=6;break e;default:throw Error(a(462))}}Lx();break}catch(ce){fp(t,ce)}while(!0);return ei=hs=null,L.H=u,L.A=p,ot=o,Fe!==null?0:(Ze=null,Ue=0,bo(),ct)}function Lx(){for(;Fe!==null&&!Me();)pp(Fe)}function pp(t){var s=Bm(t.alternate,t,oi);t.memoizedProps=t.pendingProps,s===null?Io(t):Fe=s}function gp(t){var s=t,o=s.alternate;switch(s.tag){case 15:case 0:s=Em(o,s,s.pendingProps,s.type,void 0,Ue);break;case 11:s=Em(o,s,s.pendingProps,s.type.render,s.ref,Ue);break;case 5:Wc(s);default:rp(o,s),s=Fe=ap(s,oi),s=Bm(o,s,oi)}t.memoizedProps=t.pendingProps,s===null?Io(t):Fe=s}function ca(t,s,o,u){ei=hs=null,Wc(s),Qs=null,Ya=0;var p=s.return;try{if(wx(t,p,s,o,Ue)){ct=1,Fo(t,pn(o,t.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;ct=1,Fo(t,pn(o,t.current)),Fe=null;return}s.flags&32768?(We||u===1?t=!0:la||(Ue&536870912)!==0?t=!1:(li=t=!0,(u===2||u===3||u===6)&&(u=bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),yp(s,t)):Io(s)}function Io(t){var s=t;do{if((s.flags&32768)!==0){yp(s,li);return}t=s.return;var o=Dx(s.alternate,s,oi);if(o!==null){Fe=o;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=t}while(s!==null);ct===0&&(ct=5)}function yp(t,s){do{var o=Nx(t.alternate,t);if(o!==null){o.flags&=32767,Fe=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=o}while(t!==null);ct=6,Fe=null}function bp(t,s,o,u,p,y,T,E,F,Z){var ce=L.T,fe=K.p;try{K.p=2,L.T=null,Bx(t,s,o,u,fe,p,y,T,E,F,Z)}finally{L.T=ce,K.p=fe}}function Bx(t,s,o,u,p,y,T,E){do ua();while(gs!==null);if((ot&6)!==0)throw Error(a(327));var F=t.finishedWork;if(u=t.finishedLanes,F===null)return null;if(t.finishedWork=null,t.finishedLanes=0,F===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var Z=F.lanes|F.childLanes;if(Z|=Dc,pb(t,u,Z,y,T,E),t===Ze&&(Fe=Ze=null,Ue=0),(F.subtreeFlags&10256)===0&&(F.flags&10256)===0||Go||(Go=!0,Ou=Z,zu=o,Px(Ut,function(){return ua(),null})),o=(F.flags&15990)!==0,(F.subtreeFlags&15990)!==0||o?(o=L.T,L.T=null,y=K.p,K.p=2,T=ot,ot|=4,Tx(t,F),Km(F,t),ox(Ku,t.containerInfo),or=!!Zu,Ku=Zu=null,t.current=F,Xm(t,F.alternate,F),Ce(),ot=T,K.p=y,L.T=o):t.current=F,Go?(Go=!1,gs=t,ul=u):xp(t,Z),Z=t.pendingLanes,Z===0&&(Li=null),lc(F.stateNode),Pn(t),s!==null)for(p=t.onRecoverableError,F=0;F<s.length;F++)Z=s[F],p(Z.value,{componentStack:Z.stack});return(ul&3)!==0&&ua(),Z=t.pendingLanes,(u&4194218)!==0&&(Z&42)!==0?t===Lu?hl++:(hl=0,Lu=t):hl=0,fl(0),null}function xp(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Xa(s)))}function ua(){if(gs!==null){var t=gs,s=Ou;Ou=0;var o=Cf(ul),u=L.T,p=K.p;try{if(K.p=32>o?32:o,L.T=null,gs===null)var y=!1;else{o=zu,zu=null;var T=gs,E=ul;if(gs=null,ul=0,(ot&6)!==0)throw Error(a(331));var F=ot;if(ot|=4,ip(T.current),ep(T,T.current,E,o),ot=F,fl(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ln,T)}catch{}y=!0}return y}finally{K.p=p,L.T=u,xp(t,s)}}return!1}function vp(t,s,o){s=pn(o,s),s=su(t.stateNode,s,2),t=Ni(t,s,2),t!==null&&(Da(t,2),Pn(t))}function Qe(t,s,o){if(t.tag===3)vp(t,t,o);else for(;s!==null;){if(s.tag===3){vp(s,t,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Li===null||!Li.has(u))){t=pn(o,t),o=_m(2),u=Ni(s,o,2),u!==null&&(wm(o,u,s,t),Da(u,2),Pn(u));break}}s=s.return}}function Pu(t,s,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Rx;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Nu=!0,p.add(o),t=Fx.bind(null,t,s,o),s.then(t,t))}function Fx(t,s,o){var u=t.pingCache;u!==null&&u.delete(s),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Ze===t&&(Ue&o)===o&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>Ee()-ku?(ot&2)===0&&ra(t,0):Eu|=o,oa===Ue&&(oa=0)),Pn(t)}function Sp(t,s){s===0&&(s=jf()),t=Mi(t,s),t!==null&&(Da(t,s),Pn(t))}function Hx(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),Sp(t,o)}function qx(t,s){var o=0;switch(t.tag){case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),Sp(t,o)}function Px(t,s){return de(t,s)}var Qo=null,ha=null,Vu=!1,Zo=!1,Uu=!1,ys=0;function Pn(t){t!==ha&&t.next===null&&(ha===null?Qo=ha=t:ha=ha.next=t),Zo=!0,Vu||(Vu=!0,Ux(Vx))}function fl(t,s){if(!Uu&&Zo){Uu=!0;do for(var o=!1,u=Qo;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var T=u.suspendedLanes,E=u.pingedLanes;y=(1<<31-Ae(42|t)+1)-1,y&=p&~(T&~E),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(o=!0,wp(u,y))}else y=Ue,y=_t(u,u===Ze?y:0),(y&3)===0||tn(u,y)||(o=!0,wp(u,y));u=u.next}while(o);Uu=!1}}function Vx(){Zo=Vu=!1;var t=0;ys!==0&&(Zx()&&(t=ys),ys=0);for(var s=Ee(),o=null,u=Qo;u!==null;){var p=u.next,y=Mp(u,s);y===0?(u.next=null,o===null?Qo=p:o.next=p,p===null&&(ha=o)):(o=u,(t!==0||(y&3)!==0)&&(Zo=!0)),u=p}fl(t)}function Mp(t,s){for(var o=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var T=31-Ae(y),E=1<<T,F=p[T];F===-1?((E&o)===0||(E&u)!==0)&&(p[T]=Os(E,s)):F<=s&&(t.expiredLanes|=E),y&=~E}if(s=Ze,o=Ue,o=_t(t,t===s?o:0),u=t.callbackNode,o===0||t===s&&Ke===2||t.cancelPendingCommit!==null)return u!==null&&u!==null&&qe(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||tn(t,o)){if(s=o&-o,s===t.callbackPriority)return s;switch(u!==null&&qe(u),Cf(o)){case 2:case 8:o=Gt;break;case 32:o=Ut;break;case 268435456:o=ft;break;default:o=Ut}return u=_p.bind(null,t),o=de(o,u),t.callbackPriority=s,t.callbackNode=o,s}return u!==null&&u!==null&&qe(u),t.callbackPriority=2,t.callbackNode=null,2}function _p(t,s){var o=t.callbackNode;if(ua()&&t.callbackNode!==o)return null;var u=Ue;return u=_t(t,t===Ze?u:0),u===0?null:(up(t,u,s),Mp(t,Ee()),t.callbackNode!=null&&t.callbackNode===o?_p.bind(null,t):null)}function wp(t,s){if(ua())return null;up(t,s,!0)}function Ux(t){Jx(function(){(ot&6)!==0?de(Vt,t):t()})}function Wu(){return ys===0&&(ys=wf()),ys}function jp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:uo(""+t)}function Tp(t,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,t.id&&o.setAttribute("form",t.id),s.parentNode.insertBefore(o,s),t=new FormData(t),o.parentNode.removeChild(o),t}function Wx(t,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var y=jp((p[It]||null).action),T=u.submitter;T&&(s=(s=T[It]||null)?jp(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var E=new po("action","action",null,u,p);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ys!==0){var F=T?Tp(p,T):new FormData(p);Jc(o,{pending:!0,data:F,method:p.method,action:y},null,F)}}else typeof y=="function"&&(E.preventDefault(),F=T?Tp(p,T):new FormData(p),Jc(o,{pending:!0,data:F,method:p.method,action:y},y,F))},currentTarget:p}]})}}for(var $u=0;$u<bd.length;$u++){var Yu=bd[$u],$x=Yu.toLowerCase(),Yx=Yu[0].toUpperCase()+Yu.slice(1);jn($x,"on"+Yx)}jn(dd,"onAnimationEnd"),jn(md,"onAnimationIteration"),jn(pd,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(cx,"onTransitionRun"),jn(ux,"onTransitionStart"),jn(hx,"onTransitionCancel"),jn(gd,"onTransitionEnd"),Fs("onMouseEnter",["mouseout","mouseover"]),Fs("onMouseLeave",["mouseout","mouseover"]),Fs("onPointerEnter",["pointerout","pointerover"]),Fs("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Ap(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],p=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var T=u.length-1;0<=T;T--){var E=u[T],F=E.instance,Z=E.currentTarget;if(E=E.listener,F!==y&&p.isPropagationStopped())break e;y=E,p.currentTarget=Z;try{y(p)}catch(ce){Bo(ce)}p.currentTarget=null,y=F}else for(T=0;T<u.length;T++){if(E=u[T],F=E.instance,Z=E.currentTarget,E=E.listener,F!==y&&p.isPropagationStopped())break e;y=E,p.currentTarget=Z;try{y(p)}catch(ce){Bo(ce)}p.currentTarget=null,y=F}}}}function Ve(t,s){var o=s[rc];o===void 0&&(o=s[rc]=new Set);var u=t+"__bubble";o.has(u)||(Cp(s,t,2,!1),o.add(u))}function Gu(t,s,o){var u=0;s&&(u|=4),Cp(o,t,u,s)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function Xu(t){if(!t[Ko]){t[Ko]=!0,Ef.forEach(function(o){o!=="selectionchange"&&(Gx.has(o)||Gu(o,!1,t),Gu(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ko]||(s[Ko]=!0,Gu("selectionchange",!1,s))}}function Cp(t,s,o,u){switch(Zp(s)){case 2:var p=xv;break;case 8:p=vv;break;default:p=oh}o=p.bind(null,s,o,t),p=void 0,!gc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(s,o,{capture:!0,passive:p}):t.addEventListener(s,o,!0):p!==void 0?t.addEventListener(s,o,{passive:p}):t.addEventListener(s,o,!1)}function Iu(t,s,o,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var E=u.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(T===4)for(T=u.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;T=T.return}for(;E!==null;){if(T=Zi(E),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){u=y=T;continue e}E=E.parentNode}}u=u.return}Uf(function(){var Z=y,ce=mc(o),fe=[];e:{var se=yd.get(t);if(se!==void 0){var oe=po,Se=t;switch(t){case"keypress":if(fo(o)===0)break e;case"keydown":case"keyup":oe=qb;break;case"focusin":Se="focus",oe=vc;break;case"focusout":Se="blur",oe=vc;break;case"beforeblur":case"afterblur":oe=vc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=Ub;break;case dd:case md:case pd:oe=Eb;break;case gd:oe=$b;break;case"scroll":case"scrollend":oe=Tb;break;case"wheel":oe=Gb;break;case"copy":case"cut":case"paste":oe=kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Xf;break;case"toggle":case"beforetoggle":oe=Ib}var Re=(s&4)!==0,ut=!Re&&(t==="scroll"||t==="scrollend"),ne=Re?se!==null?se+"Capture":null:se;Re=[];for(var X=Z,ie;X!==null;){var ue=X;if(ie=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ie===null||ne===null||(ue=Ra(X,ne),ue!=null&&Re.push(ml(X,ue,ie))),ut)break;X=X.return}0<Re.length&&(se=new oe(se,Se,null,o,ce),fe.push({event:se,listeners:Re}))}}if((s&7)===0){e:{if(se=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",se&&o!==dc&&(Se=o.relatedTarget||o.fromElement)&&(Zi(Se)||Se[zs]))break e;if((oe||se)&&(se=ce.window===ce?ce:(se=ce.ownerDocument)?se.defaultView||se.parentWindow:window,oe?(Se=o.relatedTarget||o.toElement,oe=Z,Se=Se?Zi(Se):null,Se!==null&&(ut=V(Se),Re=Se.tag,Se!==ut||Re!==5&&Re!==27&&Re!==6)&&(Se=null)):(oe=null,Se=Z),oe!==Se)){if(Re=Yf,ue="onMouseLeave",ne="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(Re=Xf,ue="onPointerLeave",ne="onPointerEnter",X="pointer"),ut=oe==null?se:Ea(oe),ie=Se==null?se:Ea(Se),se=new Re(ue,X+"leave",oe,o,ce),se.target=ut,se.relatedTarget=ie,ue=null,Zi(ce)===Z&&(Re=new Re(ne,X+"enter",Se,o,ce),Re.target=ie,Re.relatedTarget=ut,ue=Re),ut=ue,oe&&Se)t:{for(Re=oe,ne=Se,X=0,ie=Re;ie;ie=fa(ie))X++;for(ie=0,ue=ne;ue;ue=fa(ue))ie++;for(;0<X-ie;)Re=fa(Re),X--;for(;0<ie-X;)ne=fa(ne),ie--;for(;X--;){if(Re===ne||ne!==null&&Re===ne.alternate)break t;Re=fa(Re),ne=fa(ne)}Re=null}else Re=null;oe!==null&&Dp(fe,se,oe,Re,!1),Se!==null&&ut!==null&&Dp(fe,ut,Se,Re,!0)}}e:{if(se=Z?Ea(Z):window,oe=se.nodeName&&se.nodeName.toLowerCase(),oe==="select"||oe==="input"&&se.type==="file")var ve=nd;else if(ed(se))if(id)ve=ax;else{ve=ix;var Le=nx}else oe=se.nodeName,!oe||oe.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?Z&&fc(Z.elementType)&&(ve=nd):ve=sx;if(ve&&(ve=ve(t,Z))){td(fe,ve,o,ce);break e}Le&&Le(t,se,Z),t==="focusout"&&Z&&se.type==="number"&&Z.memoizedProps.value!=null&&hc(se,"number",se.value)}switch(Le=Z?Ea(Z):window,t){case"focusin":(ed(Le)||Le.contentEditable==="true")&&(Ws=Le,Tc=Z,qa=null);break;case"focusout":qa=Tc=Ws=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,hd(fe,o,ce);break;case"selectionchange":if(rx)break;case"keydown":case"keyup":hd(fe,o,ce)}var we;if(Mc)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Us?Kf(t,o)&&(De="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(De="onCompositionStart");De&&(If&&o.locale!=="ko"&&(Us||De!=="onCompositionStart"?De==="onCompositionEnd"&&Us&&(we=Wf()):(Si=ce,yc="value"in Si?Si.value:Si.textContent,Us=!0)),Le=Jo(Z,De),0<Le.length&&(De=new Gf(De,t,null,o,ce),fe.push({event:De,listeners:Le}),we?De.data=we:(we=Jf(o),we!==null&&(De.data=we)))),(we=Zb?Kb(t,o):Jb(t,o))&&(De=Jo(Z,"onBeforeInput"),0<De.length&&(Le=new Gf("onBeforeInput","beforeinput",null,o,ce),fe.push({event:Le,listeners:De}),Le.data=we)),Wx(fe,t,Z,o,ce)}Ap(fe,s)})}function ml(t,s,o){return{instance:t,listener:s,currentTarget:o}}function Jo(t,s){for(var o=s+"Capture",u=[];t!==null;){var p=t,y=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ra(t,o),p!=null&&u.unshift(ml(t,p,y)),p=Ra(t,s),p!=null&&u.push(ml(t,p,y))),t=t.return}return u}function fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dp(t,s,o,u,p){for(var y=s._reactName,T=[];o!==null&&o!==u;){var E=o,F=E.alternate,Z=E.stateNode;if(E=E.tag,F!==null&&F===u)break;E!==5&&E!==26&&E!==27||Z===null||(F=Z,p?(Z=Ra(o,y),Z!=null&&T.unshift(ml(o,Z,F))):p||(Z=Ra(o,y),Z!=null&&T.push(ml(o,Z,F)))),o=o.return}T.length!==0&&t.push({event:s,listeners:T})}var Xx=/\r\n?/g,Ix=/\u0000|\uFFFD/g;function Np(t){return(typeof t=="string"?t:""+t).replace(Xx,`
`).replace(Ix,"")}function Ep(t,s){return s=Np(s),Np(t)===s}function er(){}function Xe(t,s,o,u,p,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||qs(t,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&qs(t,""+u);break;case"className":oo(t,"class",u);break;case"tabIndex":oo(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":oo(t,o,u);break;case"style":Pf(t,u,y);break;case"data":if(s!=="object"){oo(t,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=uo(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Xe(t,s,"name",p.name,p,null),Xe(t,s,"formEncType",p.formEncType,p,null),Xe(t,s,"formMethod",p.formMethod,p,null),Xe(t,s,"formTarget",p.formTarget,p,null)):(Xe(t,s,"encType",p.encType,p,null),Xe(t,s,"method",p.method,p,null),Xe(t,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=uo(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=er);break;case"onScroll":u!=null&&Ve("scroll",t);break;case"onScrollEnd":u!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=uo(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),lo(t,"popover",u);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":lo(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=wb.get(o)||o,lo(t,o,u))}}function Qu(t,s,o,u,p,y){switch(o){case"style":Pf(t,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof u=="string"?qs(t,u):(typeof u=="number"||typeof u=="bigint")&&qs(t,""+u);break;case"onScroll":u!=null&&Ve("scroll",t);break;case"onScrollEnd":u!=null&&Ve("scrollend",t);break;case"onClick":u!=null&&(t.onclick=er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rf.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=t[It]||null,y=y!=null?y[o]:null,typeof y=="function"&&t.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(s,u,p);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):lo(t,o,u)}}}function Ot(t,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Xe(t,s,y,T,o,null)}}p&&Xe(t,s,"srcSet",o.srcSet,o,null),u&&Xe(t,s,"src",o.src,o,null);return;case"input":Ve("invalid",t);var E=y=T=p=null,F=null,Z=null;for(u in o)if(o.hasOwnProperty(u)){var ce=o[u];if(ce!=null)switch(u){case"name":p=ce;break;case"type":T=ce;break;case"checked":F=ce;break;case"defaultChecked":Z=ce;break;case"value":y=ce;break;case"defaultValue":E=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a(137,s));break;default:Xe(t,s,u,ce,o,null)}}Bf(t,y,E,F,Z,T,p,!1),ro(t);return;case"select":Ve("invalid",t),u=T=y=null;for(p in o)if(o.hasOwnProperty(p)&&(E=o[p],E!=null))switch(p){case"value":y=E;break;case"defaultValue":T=E;break;case"multiple":u=E;default:Xe(t,s,p,E,o,null)}s=y,o=T,t.multiple=!!u,s!=null?Hs(t,!!u,s,!1):o!=null&&Hs(t,!!u,o,!0);return;case"textarea":Ve("invalid",t),y=p=u=null;for(T in o)if(o.hasOwnProperty(T)&&(E=o[T],E!=null))switch(T){case"value":u=E;break;case"defaultValue":p=E;break;case"children":y=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xe(t,s,T,E,o,null)}Hf(t,u,p,y),ro(t);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xe(t,s,F,u,o,null)}return;case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(u=0;u<dl.length;u++)Ve(dl[u],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(u=o[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Xe(t,s,Z,u,o,null)}return;default:if(fc(s)){for(ce in o)o.hasOwnProperty(ce)&&(u=o[ce],u!==void 0&&Qu(t,s,ce,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&Xe(t,s,E,u,o,null))}function Qx(t,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,E=null,F=null,Z=null,ce=null;for(oe in o){var fe=o[oe];if(o.hasOwnProperty(oe)&&fe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":F=fe;default:u.hasOwnProperty(oe)||Xe(t,s,oe,null,u,fe)}}for(var se in u){var oe=u[se];if(fe=o[se],u.hasOwnProperty(se)&&(oe!=null||fe!=null))switch(se){case"type":y=oe;break;case"name":p=oe;break;case"checked":Z=oe;break;case"defaultChecked":ce=oe;break;case"value":T=oe;break;case"defaultValue":E=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,s));break;default:oe!==fe&&Xe(t,s,se,oe,u,fe)}}uc(t,T,E,F,Z,ce,y,p);return;case"select":oe=T=E=se=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":oe=F;default:u.hasOwnProperty(y)||Xe(t,s,y,null,u,F)}for(p in u)if(y=u[p],F=o[p],u.hasOwnProperty(p)&&(y!=null||F!=null))switch(p){case"value":se=y;break;case"defaultValue":E=y;break;case"multiple":T=y;default:y!==F&&Xe(t,s,p,y,u,F)}s=E,o=T,u=oe,se!=null?Hs(t,!!o,se,!1):!!u!=!!o&&(s!=null?Hs(t,!!o,s,!0):Hs(t,!!o,o?[]:"",!1));return;case"textarea":oe=se=null;for(E in o)if(p=o[E],o.hasOwnProperty(E)&&p!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xe(t,s,E,null,u,p)}for(T in u)if(p=u[T],y=o[T],u.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":se=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==y&&Xe(t,s,T,p,u,y)}Ff(t,se,oe);return;case"option":for(var Se in o)if(se=o[Se],o.hasOwnProperty(Se)&&se!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Xe(t,s,Se,null,u,se)}for(F in u)if(se=u[F],oe=o[F],u.hasOwnProperty(F)&&se!==oe&&(se!=null||oe!=null))switch(F){case"selected":t.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Xe(t,s,F,se,u,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)se=o[Re],o.hasOwnProperty(Re)&&se!=null&&!u.hasOwnProperty(Re)&&Xe(t,s,Re,null,u,se);for(Z in u)if(se=u[Z],oe=o[Z],u.hasOwnProperty(Z)&&se!==oe&&(se!=null||oe!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,s));break;default:Xe(t,s,Z,se,u,oe)}return;default:if(fc(s)){for(var ut in o)se=o[ut],o.hasOwnProperty(ut)&&se!==void 0&&!u.hasOwnProperty(ut)&&Qu(t,s,ut,void 0,u,se);for(ce in u)se=u[ce],oe=o[ce],!u.hasOwnProperty(ce)||se===oe||se===void 0&&oe===void 0||Qu(t,s,ce,se,u,oe);return}}for(var ne in o)se=o[ne],o.hasOwnProperty(ne)&&se!=null&&!u.hasOwnProperty(ne)&&Xe(t,s,ne,null,u,se);for(fe in u)se=u[fe],oe=o[fe],!u.hasOwnProperty(fe)||se===oe||se==null&&oe==null||Xe(t,s,fe,se,u,oe)}var Zu=null,Ku=null;function tr(t){return t.nodeType===9?t:t.ownerDocument}function Rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Ju(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var eh=null;function Zx(){var t=window.event;return t&&t.type==="popstate"?t===eh?!1:(eh=t,!0):(eh=null,!1)}var Op=typeof setTimeout=="function"?setTimeout:void 0,Kx=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,Jx=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(t){return zp.resolve(null).then(t).catch(ev)}:Op;function ev(t){setTimeout(function(){throw t})}function th(t,s){var o=s,u=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(u===0){t.removeChild(p),Ml(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=p}while(o);Ml(s)}function nh(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":nh(o),cc(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function tv(t,s,o,u){for(;t.nodeType===1;){var p=o;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Na])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==p.rel||t.getAttribute("href")!==(p.href==null?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function nv(t,s,o){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Cn(t.nextSibling),t===null))return null;return t}function Cn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}function Lp(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return t;s--}else o==="/$"&&s++}t=t.previousSibling}return null}function Bp(t,s,o){switch(s=tr(o),t){case"html":if(t=s.documentElement,!t)throw Error(a(452));return t;case"head":if(t=s.head,!t)throw Error(a(453));return t;case"body":if(t=s.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var _n=new Map,Fp=new Set;function nr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ci=K.d;K.d={f:iv,r:sv,D:av,C:lv,L:ov,m:rv,X:uv,S:cv,M:hv};function iv(){var t=ci.f(),s=Xo();return t||s}function sv(t){var s=Ls(t);s!==null&&s.tag===5&&s.type==="form"?hm(s):ci.r(t)}var da=typeof document>"u"?null:document;function Hp(t,s,o){var u=da;if(u&&typeof s=="string"&&s){var p=dn(s);p='link[rel="'+t+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Fp.has(p)||(Fp.add(p),t={rel:t,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Ot(s,"link",t),wt(s),u.head.appendChild(s)))}}function av(t){ci.D(t),Hp("dns-prefetch",t,null)}function lv(t,s){ci.C(t,s),Hp("preconnect",t,s)}function ov(t,s,o){ci.L(t,s,o);var u=da;if(u&&t&&s){var p='link[rel="preload"][as="'+dn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+dn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+dn(o.imageSizes)+'"]')):p+='[href="'+dn(t)+'"]';var y=p;switch(s){case"style":y=ma(t);break;case"script":y=pa(t)}_n.has(y)||(t=z({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:t,as:s},o),_n.set(y,t),u.querySelector(p)!==null||s==="style"&&u.querySelector(pl(y))||s==="script"&&u.querySelector(gl(y))||(s=u.createElement("link"),Ot(s,"link",t),wt(s),u.head.appendChild(s)))}}function rv(t,s){ci.m(t,s);var o=da;if(o&&t){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+dn(u)+'"][href="'+dn(t)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=pa(t)}if(!_n.has(y)&&(t=z({rel:"modulepreload",href:t},s),_n.set(y,t),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gl(y)))return}u=o.createElement("link"),Ot(u,"link",t),wt(u),o.head.appendChild(u)}}}function cv(t,s,o){ci.S(t,s,o);var u=da;if(u&&t){var p=Bs(u).hoistableStyles,y=ma(t);s=s||"default";var T=p.get(y);if(!T){var E={loading:0,preload:null};if(T=u.querySelector(pl(y)))E.loading=5;else{t=z({rel:"stylesheet",href:t,"data-precedence":s},o),(o=_n.get(y))&&ih(t,o);var F=T=u.createElement("link");wt(F),Ot(F,"link",t),F._p=new Promise(function(Z,ce){F.onload=Z,F.onerror=ce}),F.addEventListener("load",function(){E.loading|=1}),F.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ir(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:E},p.set(y,T)}}}function uv(t,s){ci.X(t,s);var o=da;if(o&&t){var u=Bs(o).hoistableScripts,p=pa(t),y=u.get(p);y||(y=o.querySelector(gl(p)),y||(t=z({src:t,async:!0},s),(s=_n.get(p))&&sh(t,s),y=o.createElement("script"),wt(y),Ot(y,"link",t),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function hv(t,s){ci.M(t,s);var o=da;if(o&&t){var u=Bs(o).hoistableScripts,p=pa(t),y=u.get(p);y||(y=o.querySelector(gl(p)),y||(t=z({src:t,async:!0,type:"module"},s),(s=_n.get(p))&&sh(t,s),y=o.createElement("script"),wt(y),Ot(y,"link",t),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function qp(t,s,o,u){var p=(p=je.current)?nr(p):null;if(!p)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ma(o.href),o=Bs(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=ma(o.href);var y=Bs(p).hoistableStyles,T=y.get(t);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,T),(y=p.querySelector(pl(t)))&&!y._p&&(T.instance=y,T.state.loading=5),_n.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_n.set(t,o),y||fv(p,t,o,T.state))),s&&u===null)throw Error(a(528,""));return T}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pa(o),o=Bs(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ma(t){return'href="'+dn(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function Pp(t){return z({},t,{"data-precedence":t.precedence,precedence:null})}function fv(t,s,o,u){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=t.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ot(s,"link",o),wt(s),t.head.appendChild(s))}function pa(t){return'[src="'+dn(t)+'"]'}function gl(t){return"script[async]"+t}function Vp(t,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=t.querySelector('style[data-href~="'+dn(o.href)+'"]');if(u)return s.instance=u,wt(u),u;var p=z({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),wt(u),Ot(u,"style",p),ir(u,o.precedence,t),s.instance=u;case"stylesheet":p=ma(o.href);var y=t.querySelector(pl(p));if(y)return s.state.loading|=4,s.instance=y,wt(y),y;u=Pp(o),(p=_n.get(p))&&ih(u,p),y=(t.ownerDocument||t).createElement("link"),wt(y);var T=y;return T._p=new Promise(function(E,F){T.onload=E,T.onerror=F}),Ot(y,"link",u),s.state.loading|=4,ir(y,o.precedence,t),s.instance=y;case"script":return y=pa(o.src),(p=t.querySelector(gl(y)))?(s.instance=p,wt(p),p):(u=o,(p=_n.get(y))&&(u=z({},o),sh(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),wt(p),Ot(p,"link",u),t.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ir(u,o.precedence,t));return s.instance}function ir(t,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,T=0;T<u.length;T++){var E=u[T];if(E.dataset.precedence===s)y=E;else if(y!==p)break}y?y.parentNode.insertBefore(t,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(t,s.firstChild))}function ih(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function sh(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var sr=null;function Up(t,s,o){if(sr===null){var u=new Map,p=sr=new Map;p.set(o,u)}else p=sr,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),p=0;p<o.length;p++){var y=o[p];if(!(y[Na]||y[zt]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=t+T;var E=u.get(T);E?E.push(y):u.set(T,[y])}}return u}function Wp(t,s,o){t=t.ownerDocument||t,t.head.insertBefore(o,s==="title"?t.querySelector("head > title"):null)}function dv(t,s,o){if(o===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function $p(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var yl=null;function mv(){}function pv(t,s,o){if(yl===null)throw Error(a(475));var u=yl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=ma(o.href),y=t.querySelector(pl(p));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=ar.bind(u),t.then(u,u)),s.state.loading|=4,s.instance=y,wt(y);return}y=t.ownerDocument||t,o=Pp(o),(p=_n.get(p))&&ih(o,p),y=y.createElement("link"),wt(y);var T=y;T._p=new Promise(function(E,F){T.onload=E,T.onerror=F}),Ot(y,"link",o),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=ar.bind(u),t.addEventListener("load",s),t.addEventListener("error",s))}}function gv(){if(yl===null)throw Error(a(475));var t=yl;return t.stylesheets&&t.count===0&&ah(t,t.stylesheets),0<t.count?function(s){var o=setTimeout(function(){if(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o)}}:null}function ar(){if(this.count--,this.count===0){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lr=null;function ah(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lr=new Map,s.forEach(yv,t),lr=null,ar.call(t))}function yv(t,s){if(!(s.state.loading&4)){var o=lr.get(t);if(o)var u=o.get(null);else{o=new Map,lr.set(t,o);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),y=o.get(T)||u,y===u&&o.set(null,p),o.set(T,p),this.count++,u=ar.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),s.state.loading|=4}}var bl={$$typeof:x,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function bv(t,s,o,u,p,y,T,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Yp(t,s,o,u,p,y,T,E,F,Z,ce,fe){return t=new bv(t,s,o,T,E,F,Z,fe),s=1,y===!0&&(s|=24),y=Sn(3,null,null,s),t.current=y,y.stateNode=t,s=Bc(),s.refCount++,t.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},yu(y),t}function Gp(t){return t?(t=Gs,t):Gs}function Xp(t,s,o,u,p,y){p=Gp(p),u.context===null?u.context=p:u.pendingContext=p,u=Di(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Ni(t,u,s),o!==null&&(Yt(o,t,s),tl(o,t,s))}function Ip(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function lh(t,s){Ip(t,s),(t=t.alternate)&&Ip(t,s)}function Qp(t){if(t.tag===13){var s=Mi(t,67108864);s!==null&&Yt(s,t,67108864),lh(t,67108864)}}var or=!0;function xv(t,s,o,u){var p=L.T;L.T=null;var y=K.p;try{K.p=2,oh(t,s,o,u)}finally{K.p=y,L.T=p}}function vv(t,s,o,u){var p=L.T;L.T=null;var y=K.p;try{K.p=8,oh(t,s,o,u)}finally{K.p=y,L.T=p}}function oh(t,s,o,u){if(or){var p=rh(u);if(p===null)Iu(t,s,u,rr,o),Kp(t,u);else if(Mv(p,t,s,o,u))u.stopPropagation();else if(Kp(t,u),s&4&&-1<Sv.indexOf(t)){for(;p!==null;){var y=Ls(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Et(y.pendingLanes);if(T!==0){var E=y;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var F=1<<31-Ae(T);E.entanglements[1]|=F,T&=~F}Pn(y),(ot&6)===0&&($o=Ee()+500,fl(0))}}break;case 13:E=Mi(y,2),E!==null&&Yt(E,y,2),Xo(),lh(y,2)}if(y=rh(u),y===null&&Iu(t,s,u,rr,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else Iu(t,s,u,null,o)}}function rh(t){return t=mc(t),ch(t)}var rr=null;function ch(t){if(rr=null,t=Zi(t),t!==null){var s=V(t);if(s===null)t=null;else{var o=s.tag;if(o===13){if(t=U(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return rr=t,null}function Zp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case Vt:return 2;case Gt:return 8;case Ut:case Dt:return 32;case ft:return 268435456;default:return 32}default:return 32}}var uh=!1,Bi=null,Fi=null,Hi=null,xl=new Map,vl=new Map,qi=[],Sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(t,s){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":xl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(s.pointerId)}}function Sl(t,s,o,u,p,y){return t===null||t.nativeEvent!==y?(t={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ls(s),s!==null&&Qp(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function Mv(t,s,o,u,p){switch(s){case"focusin":return Bi=Sl(Bi,t,s,o,u,p),!0;case"dragenter":return Fi=Sl(Fi,t,s,o,u,p),!0;case"mouseover":return Hi=Sl(Hi,t,s,o,u,p),!0;case"pointerover":var y=p.pointerId;return xl.set(y,Sl(xl.get(y)||null,t,s,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,vl.set(y,Sl(vl.get(y)||null,t,s,o,u,p)),!0}return!1}function Jp(t){var s=Zi(t.target);if(s!==null){var o=V(s);if(o!==null){if(s=o.tag,s===13){if(s=U(o),s!==null){t.blockedOn=s,gb(t.priority,function(){if(o.tag===13){var u=on(),p=Mi(o,u);p!==null&&Yt(p,o,u),lh(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cr(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=rh(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);dc=u,o.target.dispatchEvent(u),dc=null}else return s=Ls(o),s!==null&&Qp(s),t.blockedOn=o,!1;s.shift()}return!0}function eg(t,s,o){cr(t)&&o.delete(s)}function _v(){uh=!1,Bi!==null&&cr(Bi)&&(Bi=null),Fi!==null&&cr(Fi)&&(Fi=null),Hi!==null&&cr(Hi)&&(Hi=null),xl.forEach(eg),vl.forEach(eg)}function ur(t,s){t.blockedOn===s&&(t.blockedOn=null,uh||(uh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_v)))}var hr=null;function tg(t){hr!==t&&(hr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){hr===t&&(hr=null);for(var s=0;s<t.length;s+=3){var o=t[s],u=t[s+1],p=t[s+2];if(typeof u!="function"){if(ch(u||o)===null)continue;break}var y=Ls(o);y!==null&&(t.splice(s,3),s-=3,Jc(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function Ml(t){function s(F){return ur(F,t)}Bi!==null&&ur(Bi,t),Fi!==null&&ur(Fi,t),Hi!==null&&ur(Hi,t),xl.forEach(s),vl.forEach(s);for(var o=0;o<qi.length;o++){var u=qi[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<qi.length&&(o=qi[0],o.blockedOn===null);)Jp(o),o.blockedOn===null&&qi.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],T=p[It]||null;if(typeof y=="function")T||tg(o);else if(T){var E=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[It]||null)E=T.formAction;else if(ch(p)!==null)continue}else E=T.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),tg(o)}}}function hh(t){this._internalRoot=t}fr.prototype.render=hh.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,u=on();Xp(o,u,t,s,null,null)},fr.prototype.unmount=hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;t.tag===0&&ua(),Xp(t.current,2,null,t,null,null),Xo(),s[zs]=null}};function fr(t){this._internalRoot=t}fr.prototype.unstable_scheduleHydration=function(t){if(t){var s=Df();t={blockedOn:null,target:t,priority:s};for(var o=0;o<qi.length&&s!==0&&s<qi[o].priority;o++);qi.splice(o,0,t),o===0&&Jp(t)}};var ng=e.version;if(ng!=="19.0.0")throw Error(a(527,ng,"19.0.0"));K.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Q(s),t=t!==null?B(t):null,t=t===null?null:t.stateNode,t};var wv={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:L,findFiberByHostInstance:Zi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dr.isDisabled&&dr.supportsFiber)try{Ln=dr.inject(wv),Nt=dr}catch{}}return wl.createRoot=function(t,s){if(!l(t))throw Error(a(299));var o=!1,u="",p=xm,y=vm,T=Sm,E=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=Yp(t,1,!1,null,null,o,u,p,y,T,E,null),t[zs]=s.current,Xu(t.nodeType===8?t.parentNode:t),new hh(s)},wl.hydrateRoot=function(t,s,o){if(!l(t))throw Error(a(299));var u=!1,p="",y=xm,T=vm,E=Sm,F=null,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(Z=o.formState)),s=Yp(t,1,!0,s,o??null,u,p,y,T,E,F,Z),s.context=Gp(null),o=s.current,u=on(),p=Di(u),p.callback=null,Ni(o,p,u),s.current.lanes=u,Da(s,u),Pn(s),t[zs]=s.current,Xu(t),new fr(s)},wl.version="19.0.0",wl}var fg;function Lv(){if(fg)return mh.exports;fg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mh.exports=zv(),mh.exports}var Bv=Lv();const Fv=Z0(Bv);var jl={},dg;function Hv(){if(dg)return jl;dg=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=c,jl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,r=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,x){const v=new r,M=S.length;if(M<2)return v;const w=(x==null?void 0:x.decode)||g;let _=0;do{const A=S.indexOf("=",_);if(A===-1)break;const j=S.indexOf(";",_),D=j===-1?M:j;if(A>D){_=S.lastIndexOf(";",A-1)+1;continue}const N=h(S,_,A),k=d(S,A,N),H=S.slice(N,k);if(v[H]===void 0){let O=h(S,A+1,D),L=d(S,D,O);const z=w(S.slice(O,L));v[H]=z}_=D+1}while(_<M);return v}function h(S,x,v){do{const M=S.charCodeAt(x);if(M!==32&&M!==9)return x}while(++x<v);return v}function d(S,x,v){for(;x>v;){const M=S.charCodeAt(--x);if(M!==32&&M!==9)return x+1}return v}function m(S,x,v){const M=(v==null?void 0:v.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const w=M(x);if(!e.test(w))throw new TypeError(`argument val is invalid: ${x}`);let _=S+"="+w;if(!v)return _;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);_+="; Max-Age="+v.maxAge}if(v.domain){if(!i.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);_+="; Domain="+v.domain}if(v.path){if(!a.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);_+="; Path="+v.path}if(v.expires){if(!b(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);_+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(_+="; HttpOnly"),v.secure&&(_+="; Secure"),v.partitioned&&(_+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return _}function g(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return l.call(S)==="[object Date]"}return jl}Hv();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mg="popstate";function qv(n={}){function e(a,l){let{pathname:r,search:c,hash:h}=a.location;return Lh("",{pathname:r,search:c,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(a,l){return typeof l=="string"?l:Yl(l)}return Vv(e,i,null,n)}function st(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pv(){return Math.random().toString(36).substring(2,10)}function pg(n,e){return{usr:n.state,key:n.key,idx:e}}function Lh(n,e,i=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ta(e):e,state:i,key:e&&e.key||a||Pv()}}function Yl({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Ta(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function Vv(n,e,i,a={}){let{window:l=document.defaultView,v5Compat:r=!1}=a,c=l.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function b(){h="POP";let w=g(),_=w==null?null:w-m;m=w,d&&d({action:h,location:M.location,delta:_})}function S(w,_){h="PUSH";let A=Lh(M.location,w,_);m=g()+1;let j=pg(A,m),D=M.createHref(A);try{c.pushState(j,"",D)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;l.location.assign(D)}r&&d&&d({action:h,location:M.location,delta:1})}function x(w,_){h="REPLACE";let A=Lh(M.location,w,_);m=g();let j=pg(A,m),D=M.createHref(A);c.replaceState(j,"",D),r&&d&&d({action:h,location:M.location,delta:0})}function v(w){let _=l.location.origin!=="null"?l.location.origin:l.location.href,A=typeof w=="string"?w:Yl(w);return A=A.replace(/ $/,"%20"),st(_,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,_)}let M={get action(){return h},get location(){return n(l,c)},listen(w){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(mg,b),d=w,()=>{l.removeEventListener(mg,b),d=null}},createHref(w){return e(l,w)},createURL:v,encodeLocation(w){let _=v(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:S,replace:x,go(w){return c.go(w)}};return M}function K0(n,e,i="/"){return Uv(n,e,i,!1)}function Uv(n,e,i,a){let l=typeof e=="string"?Ta(e):e,r=xi(l.pathname||"/",i);if(r==null)return null;let c=J0(n);Wv(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=t1(r);h=Jv(c[d],m,a)}return h}function J0(n,e=[],i=[],a=""){let l=(r,c,h)=>{let d={relativePath:h===void 0?r.path||"":h,caseSensitive:r.caseSensitive===!0,childrenIndex:c,route:r};d.relativePath.startsWith("/")&&(st(d.relativePath.startsWith(a),`Absolute route path "${d.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(a.length));let m=yi([a,d.relativePath]),g=i.concat(d);r.children&&r.children.length>0&&(st(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),J0(r.children,e,g,m)),!(r.path==null&&!r.index)&&e.push({path:m,score:Zv(m,r.index),routesMeta:g})};return n.forEach((r,c)=>{var h;if(r.path===""||!((h=r.path)!=null&&h.includes("?")))l(r,c);else for(let d of ey(r.path))l(r,c,d)}),e}function ey(n){let e=n.split("/");if(e.length===0)return[];let[i,...a]=e,l=i.endsWith("?"),r=i.replace(/\?$/,"");if(a.length===0)return l?[r,""]:[r];let c=ey(a.join("/")),h=[];return h.push(...c.map(d=>d===""?r:[r,d].join("/"))),l&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function Wv(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:Kv(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var $v=/^:[\w-]+$/,Yv=3,Gv=2,Xv=1,Iv=10,Qv=-2,gg=n=>n==="*";function Zv(n,e){let i=n.split("/"),a=i.length;return i.some(gg)&&(a+=Qv),e&&(a+=Gv),i.filter(l=>!gg(l)).reduce((l,r)=>l+($v.test(r)?Yv:r===""?Xv:Iv),a)}function Kv(n,e){return n.length===e.length&&n.slice(0,-1).every((a,l)=>a===e[l])?n[n.length-1]-e[e.length-1]:0}function Jv(n,e,i=!1){let{routesMeta:a}=n,l={},r="/",c=[];for(let h=0;h<a.length;++h){let d=a[h],m=h===a.length-1,g=r==="/"?e:e.slice(r.length)||"/",b=Fr({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),S=d.route;if(!b&&m&&i&&!a[a.length-1].route.index&&(b=Fr({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!b)return null;Object.assign(l,b.params),c.push({params:l,pathname:yi([r,b.pathname]),pathnameBase:a1(yi([r,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(r=yi([r,b.pathnameBase]))}return c}function Fr(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,a]=e1(n.path,n.caseSensitive,n.end),l=e.match(i);if(!l)return null;let r=l[0],c=r.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:a.reduce((m,{paramName:g,isOptional:b},S)=>{if(g==="*"){let v=h[S]||"";c=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const x=h[S];return b&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:r,pathnameBase:c,pattern:n}}function e1(n,e=!1,i=!0){kn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(a.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function t1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function xi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=n.charAt(i);return a&&a!=="/"?null:n.slice(i)||"/"}function n1(n,e="/"){let{pathname:i,search:a="",hash:l=""}=typeof n=="string"?Ta(n):n;return{pathname:i?i.startsWith("/")?i:i1(i,e):e,search:l1(a),hash:o1(l)}}function i1(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function bh(n,e,i,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s1(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Kh(n){let e=s1(n);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Jh(n,e,i,a=!1){let l;typeof n=="string"?l=Ta(n):(l={...n},st(!l.pathname||!l.pathname.includes("?"),bh("?","pathname","search",l)),st(!l.pathname||!l.pathname.includes("#"),bh("#","pathname","hash",l)),st(!l.search||!l.search.includes("#"),bh("#","search","hash",l)));let r=n===""||l.pathname==="",c=r?"/":l.pathname,h;if(c==null)h=i;else{let b=e.length-1;if(!a&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;l.pathname=S.join("/")}h=b>=0?e[b]:"/"}let d=n1(l,h),m=c&&c!=="/"&&c.endsWith("/"),g=(r||c===".")&&i.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var yi=n=>n.join("/").replace(/\/\/+/g,"/"),a1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),l1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,o1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function r1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ty=["POST","PUT","PATCH","DELETE"];new Set(ty);var c1=["GET",...ty];new Set(c1);var Aa=C.createContext(null);Aa.displayName="DataRouter";var Ir=C.createContext(null);Ir.displayName="DataRouterState";var ny=C.createContext({isTransitioning:!1});ny.displayName="ViewTransition";var u1=C.createContext(new Map);u1.displayName="Fetchers";var h1=C.createContext(null);h1.displayName="Await";var zn=C.createContext(null);zn.displayName="Navigation";var no=C.createContext(null);no.displayName="Location";var Yn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var ef=C.createContext(null);ef.displayName="RouteError";function f1(n,{relative:e}={}){st(Ca(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=C.useContext(zn),{hash:l,pathname:r,search:c}=io(n,{relative:e}),h=r;return i!=="/"&&(h=r==="/"?i:yi([i,r])),a.createHref({pathname:h,search:c,hash:l})}function Ca(){return C.useContext(no)!=null}function Ii(){return st(Ca(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(no).location}var iy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sy(n){C.useContext(zn).static||C.useLayoutEffect(n)}function tf(){let{isDataRoute:n}=C.useContext(Yn);return n?j1():d1()}function d1(){st(Ca(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(Aa),{basename:e,navigator:i}=C.useContext(zn),{matches:a}=C.useContext(Yn),{pathname:l}=Ii(),r=JSON.stringify(Kh(a)),c=C.useRef(!1);return sy(()=>{c.current=!0}),C.useCallback((d,m={})=>{if(kn(c.current,iy),!c.current)return;if(typeof d=="number"){i.go(d);return}let g=Jh(d,JSON.parse(r),l,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:yi([e,g.pathname])),(m.replace?i.replace:i.push)(g,m.state,m)},[e,i,r,l,n])}C.createContext(null);function io(n,{relative:e}={}){let{matches:i}=C.useContext(Yn),{pathname:a}=Ii(),l=JSON.stringify(Kh(i));return C.useMemo(()=>Jh(n,JSON.parse(l),a,e==="path"),[n,l,a,e])}function m1(n,e){return ay(n,e)}function ay(n,e,i,a){var A;st(Ca(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:r}=C.useContext(zn),{matches:c}=C.useContext(Yn),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let j=b&&b.path||"";ly(m,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=Ii(),x;if(e){let j=typeof e=="string"?Ta(e):e;st(g==="/"||((A=j.pathname)==null?void 0:A.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=S;let v=x.pathname||"/",M=v;if(g!=="/"){let j=g.replace(/^\//,"").split("/");M="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=!r&&i&&i.matches&&i.matches.length>0?i.matches:K0(n,{pathname:M});kn(b||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),kn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=x1(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:yi([g,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:yi([g,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,i,a);return e&&_?C.createElement(no.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},_):_}function p1(){let n=w1(),e=r1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},r={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:r},"ErrorBoundary")," or"," ",C.createElement("code",{style:r},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),i?C.createElement("pre",{style:l},i):null,c)}var g1=C.createElement(p1,null),y1=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(Yn.Provider,{value:this.props.routeContext},C.createElement(ef.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b1({routeContext:n,match:e,children:i}){let a=C.useContext(Aa);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Yn.Provider,{value:n},i)}function x1(n,e=[],i=null,a=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let l=n,r=i==null?void 0:i.errors;if(r!=null){let d=l.findIndex(m=>m.route.id&&(r==null?void 0:r[m.route.id])!==void 0);st(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,h=-1;if(i)for(let d=0;d<l.length;d++){let m=l[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:b}=i,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||S){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((d,m,g)=>{let b,S=!1,x=null,v=null;i&&(b=r&&m.route.id?r[m.route.id]:void 0,x=m.route.errorElement||g1,c&&(h<0&&g===0?(ly("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,v=null):h===g&&(S=!0,v=m.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,g+1)),w=()=>{let _;return b?_=x:S?_=v:m.route.Component?_=C.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=d,C.createElement(b1,{match:m,routeContext:{outlet:d,matches:M,isDataRoute:i!=null},children:_})};return i&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?C.createElement(y1,{location:i.location,revalidation:i.revalidation,component:x,error:b,children:w(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):w()},null)}function nf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v1(n){let e=C.useContext(Aa);return st(e,nf(n)),e}function S1(n){let e=C.useContext(Ir);return st(e,nf(n)),e}function M1(n){let e=C.useContext(Yn);return st(e,nf(n)),e}function sf(n){let e=M1(n),i=e.matches[e.matches.length-1];return st(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function _1(){return sf("useRouteId")}function w1(){var a;let n=C.useContext(ef),e=S1("useRouteError"),i=sf("useRouteError");return n!==void 0?n:(a=e.errors)==null?void 0:a[i]}function j1(){let{router:n}=v1("useNavigate"),e=sf("useNavigate"),i=C.useRef(!1);return sy(()=>{i.current=!0}),C.useCallback(async(l,r={})=>{kn(i.current,iy),i.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...r}))},[n,e])}var yg={};function ly(n,e,i){!e&&!yg[n]&&(yg[n]=!0,kn(!1,i))}C.memo(T1);function T1({routes:n,future:e,state:i}){return ay(n,void 0,i,e)}function A1({to:n,replace:e,state:i,relative:a}){st(Ca(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=C.useContext(zn);kn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=C.useContext(Yn),{pathname:c}=Ii(),h=tf(),d=Jh(n,Kh(r),c,a==="path"),m=JSON.stringify(d);return C.useEffect(()=>{h(JSON.parse(m),{replace:e,state:i,relative:a})},[h,m,a,e,i]),null}function Ft(n){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function C1({basename:n="/",children:e=null,location:i,navigationType:a="POP",navigator:l,static:r=!1}){st(!Ca(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:c,navigator:l,static:r,future:{}}),[c,l,r]);typeof i=="string"&&(i=Ta(i));let{pathname:d="/",search:m="",hash:g="",state:b=null,key:S="default"}=i,x=C.useMemo(()=>{let v=xi(d,c);return v==null?null:{location:{pathname:v,search:m,hash:g,state:b,key:S},navigationType:a}},[c,d,m,g,b,S,a]);return kn(x!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:C.createElement(zn.Provider,{value:h},C.createElement(no.Provider,{children:e,value:x}))}function D1({children:n,location:e}){return m1(Bh(n),e)}function Bh(n,e=[]){let i=[];return C.Children.forEach(n,(a,l)=>{if(!C.isValidElement(a))return;let r=[...e,l];if(a.type===C.Fragment){i.push.apply(i,Bh(a.props.children,r));return}st(a.type===Ft,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||r.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Bh(a.props.children,r)),i.push(c)}),i}var Nr="get",Er="application/x-www-form-urlencoded";function Qr(n){return n!=null&&typeof n.tagName=="string"}function N1(n){return Qr(n)&&n.tagName.toLowerCase()==="button"}function E1(n){return Qr(n)&&n.tagName.toLowerCase()==="form"}function R1(n){return Qr(n)&&n.tagName.toLowerCase()==="input"}function k1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function O1(n,e){return n.button===0&&(!e||e==="_self")&&!k1(n)}var mr=null;function z1(){if(mr===null)try{new FormData(document.createElement("form"),0),mr=!1}catch{mr=!0}return mr}var L1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xh(n){return n!=null&&!L1.has(n)?(kn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Er}"`),null):n}function B1(n,e){let i,a,l,r,c;if(E1(n)){let h=n.getAttribute("action");a=h?xi(h,e):null,i=n.getAttribute("method")||Nr,l=xh(n.getAttribute("enctype"))||Er,r=new FormData(n)}else if(N1(n)||R1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(a=d?xi(d,e):null,i=n.getAttribute("formmethod")||h.getAttribute("method")||Nr,l=xh(n.getAttribute("formenctype"))||xh(h.getAttribute("enctype"))||Er,r=new FormData(h,n),!z1()){let{name:m,type:g,value:b}=n;if(g==="image"){let S=m?`${m}.`:"";r.append(`${S}x`,"0"),r.append(`${S}y`,"0")}else m&&r.append(m,b)}}else{if(Qr(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Nr,a=null,l=Er,c=n}return r&&l==="text/plain"&&(c=r,r=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:r,body:c}}function af(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function F1(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function q1(n,e,i){let a=await Promise.all(n.map(async l=>{let r=e.routes[l.route.id];if(r){let c=await F1(r,i);return c.links?c.links():[]}return[]}));return W1(a.flat(1).filter(H1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function bg(n,e,i,a,l,r){let c=(d,m)=>i[m]?d.route.id!==i[m].route.id:!0,h=(d,m)=>{var g;return i[m].pathname!==d.pathname||((g=i[m].route.path)==null?void 0:g.endsWith("*"))&&i[m].params["*"]!==d.params["*"]};return r==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):r==="data"?e.filter((d,m)=>{var b;let g=a.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let S=d.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function P1(n,e,{includeHydrateFallback:i}={}){return V1(n.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let r=[l.module];return l.clientActionModule&&(r=r.concat(l.clientActionModule)),l.clientLoaderModule&&(r=r.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(r=r.concat(l.hydrateFallbackModule)),l.imports&&(r=r.concat(l.imports)),r}).flat(1))}function V1(n){return[...new Set(n)]}function U1(n){let e={},i=Object.keys(n).sort();for(let a of i)e[a]=n[a];return e}function W1(n,e){let i=new Set;return new Set(e),n.reduce((a,l)=>{let r=JSON.stringify(U1(l));return i.has(r)||(i.add(r),a.push({key:r,link:l})),a},[])}function $1(n,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname="_root.data":e&&xi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function oy(){let n=C.useContext(Aa);return af(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Y1(){let n=C.useContext(Ir);return af(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lf=C.createContext(void 0);lf.displayName="FrameworkContext";function ry(){let n=C.useContext(lf);return af(n,"You must render this element inside a <HydratedRouter> element"),n}function G1(n,e){let i=C.useContext(lf),[a,l]=C.useState(!1),[r,c]=C.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:b}=e,S=C.useRef(null);C.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=_=>{_.forEach(A=>{c(A.isIntersecting)})},w=new IntersectionObserver(M,{threshold:.5});return S.current&&w.observe(S.current),()=>{w.disconnect()}}},[n]),C.useEffect(()=>{if(a){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[a]);let x=()=>{l(!0)},v=()=>{l(!1),c(!1)};return i?n!=="intent"?[r,S,{}]:[r,S,{onFocus:Tl(h,x),onBlur:Tl(d,v),onMouseEnter:Tl(m,x),onMouseLeave:Tl(g,v),onTouchStart:Tl(b,x)}]:[!1,S,{}]}function Tl(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function X1({page:n,...e}){let{router:i}=oy(),a=C.useMemo(()=>K0(i.routes,n,i.basename),[i.routes,n,i.basename]);return a?C.createElement(Q1,{page:n,matches:a,...e}):null}function I1(n){let{manifest:e,routeModules:i}=ry(),[a,l]=C.useState([]);return C.useEffect(()=>{let r=!1;return q1(n,e,i).then(c=>{r||l(c)}),()=>{r=!0}},[n,e,i]),a}function Q1({page:n,matches:e,...i}){let a=Ii(),{manifest:l,routeModules:r}=ry(),{basename:c}=oy(),{loaderData:h,matches:d}=Y1(),m=C.useMemo(()=>bg(n,e,d,l,a,"data"),[n,e,d,l,a]),g=C.useMemo(()=>bg(n,e,d,l,a,"assets"),[n,e,d,l,a]),b=C.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let v=new Set,M=!1;if(e.forEach(_=>{var j;let A=l.routes[_.route.id];!A||!A.hasLoader||(!m.some(D=>D.route.id===_.route.id)&&_.route.id in h&&((j=r[_.route.id])!=null&&j.shouldRevalidate)||A.hasClientLoader?M=!0:v.add(_.route.id))}),v.size===0)return[];let w=$1(n,c);return M&&v.size>0&&w.searchParams.set("_routes",e.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[w.pathname+w.search]},[c,h,a,l,m,e,n,r]),S=C.useMemo(()=>P1(g,l),[g,l]),x=I1(g);return C.createElement(C.Fragment,null,b.map(v=>C.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...i})),S.map(v=>C.createElement("link",{key:v,rel:"modulepreload",href:v,...i})),x.map(({key:v,link:M})=>C.createElement("link",{key:v,...M})))}function Z1(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var cy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cy&&(window.__reactRouterVersion="7.3.0")}catch{}function K1({basename:n,children:e,window:i}){let a=C.useRef();a.current==null&&(a.current=qv({window:i,v5Compat:!0}));let l=a.current,[r,c]=C.useState({action:l.action,location:l.location}),h=C.useCallback(d=>{C.startTransition(()=>c(d))},[c]);return C.useLayoutEffect(()=>l.listen(h),[l,h]),C.createElement(C1,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:l})}var uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hr=C.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:l,reloadDocument:r,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:b,...S},x){let{basename:v}=C.useContext(zn),M=typeof m=="string"&&uy.test(m),w,_=!1;if(typeof m=="string"&&M&&(w=m,cy))try{let L=new URL(window.location.href),z=m.startsWith("//")?new URL(L.protocol+m):new URL(m),J=xi(z.pathname,v);z.origin===L.origin&&J!=null?m=J+z.search+z.hash:_=!0}catch{kn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=f1(m,{relative:l}),[j,D,N]=G1(a,S),k=nS(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:l,viewTransition:b});function H(L){e&&e(L),L.defaultPrevented||k(L)}let O=C.createElement("a",{...S,...N,href:w||A,onClick:_||r?e:H,ref:Z1(x,D),target:d,"data-discover":!M&&i==="render"?"true":void 0});return j&&!M?C.createElement(C.Fragment,null,O,C.createElement(X1,{page:A})):O});Hr.displayName="Link";var J1=C.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:l=!1,style:r,to:c,viewTransition:h,children:d,...m},g){let b=io(c,{relative:m.relative}),S=Ii(),x=C.useContext(Ir),{navigator:v,basename:M}=C.useContext(zn),w=x!=null&&oS(b)&&h===!0,_=v.encodeLocation?v.encodeLocation(b).pathname:b.pathname,A=S.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(A=A.toLowerCase(),j=j?j.toLowerCase():null,_=_.toLowerCase()),j&&M&&(j=xi(j,M)||j);const D=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let N=A===_||!l&&A.startsWith(_)&&A.charAt(D)==="/",k=j!=null&&(j===_||!l&&j.startsWith(_)&&j.charAt(_.length)==="/"),H={isActive:N,isPending:k,isTransitioning:w},O=N?e:void 0,L;typeof a=="function"?L=a(H):L=[a,N?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let z=typeof r=="function"?r(H):r;return C.createElement(Hr,{...m,"aria-current":O,className:L,ref:g,style:z,to:c,viewTransition:h},typeof d=="function"?d(H):d)});J1.displayName="NavLink";var eS=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:l,state:r,method:c=Nr,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:b,...S},x)=>{let v=aS(),M=lS(h,{relative:m}),w=c.toLowerCase()==="get"?"get":"post",_=typeof h=="string"&&uy.test(h),A=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let D=j.nativeEvent.submitter,N=(D==null?void 0:D.getAttribute("formmethod"))||c;v(D||j.currentTarget,{fetcherKey:e,method:N,navigate:i,replace:l,state:r,relative:m,preventScrollReset:g,viewTransition:b})};return C.createElement("form",{ref:x,method:w,action:M,onSubmit:a?d:A,...S,"data-discover":!_&&n==="render"?"true":void 0})});eS.displayName="Form";function tS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hy(n){let e=C.useContext(Aa);return st(e,tS(n)),e}function nS(n,{target:e,replace:i,state:a,preventScrollReset:l,relative:r,viewTransition:c}={}){let h=tf(),d=Ii(),m=io(n,{relative:r});return C.useCallback(g=>{if(O1(g,e)){g.preventDefault();let b=i!==void 0?i:Yl(d)===Yl(m);h(n,{replace:b,state:a,preventScrollReset:l,relative:r,viewTransition:c})}},[d,h,m,i,a,e,n,l,r,c])}var iS=0,sS=()=>`__${String(++iS)}__`;function aS(){let{router:n}=hy("useSubmit"),{basename:e}=C.useContext(zn),i=_1();return C.useCallback(async(a,l={})=>{let{action:r,method:c,encType:h,formData:d,body:m}=B1(a,e);if(l.navigate===!1){let g=l.fetcherKey||sS();await n.fetch(g,i,l.action||r,{preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||c,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||r,{preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||c,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,i])}function lS(n,{relative:e}={}){let{basename:i}=C.useContext(zn),a=C.useContext(Yn);st(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),r={...io(n||".",{relative:e})},c=Ii();if(n==null){r.search=c.search;let h=new URLSearchParams(r.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();r.search=g?`?${g}`:""}}return(!n||n===".")&&l.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(r.pathname=r.pathname==="/"?i:yi([i,r.pathname])),Yl(r)}function oS(n,e={}){let i=C.useContext(ny);st(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=hy("useViewTransitionState"),l=io(n,{relative:e.relative});if(!i.isTransitioning)return!1;let r=xi(i.currentLocation.pathname,a)||i.currentLocation.pathname,c=xi(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Fr(l.pathname,c)!=null||Fr(l.pathname,r)!=null}new TextEncoder;function rS(){return f.jsx("header",{className:"bg-gray-800 text-white shadow-md",children:f.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[f.jsx("div",{className:"flex items-center space-x-2",children:f.jsxs(Hr,{to:"/",className:"flex items-center space-x-2",children:[f.jsx("img",{src:"/webdemos/logo.svg",alt:"Logo"}),f.jsx("h1",{className:"text-xl font-bold",children:"DSP Demos"})]})}),f.jsx("nav",{children:f.jsxs("ul",{className:"flex space-x-6",children:[f.jsx("li",{children:f.jsx(Hr,{to:"/",className:"hover:text-blue-500 transition-colors",children:"Home"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"About"})}),f.jsx("li",{children:f.jsx("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"Lectures"})})]})})]})})}function cS({demo:n}){const{title:e,description:i,icon:a,path:l,status:r}=n,c=tf(),h=()=>{switch(r){case"available":return f.jsx("span",{className:"status-badge bg-green-500",children:"Available"});case"coming-soon":return f.jsx("span",{className:"status-badge bg-yellow-500",children:"Coming Soon"});case"in-development":return f.jsx("span",{className:"status-badge bg-gray-500",children:"In Development"});default:return null}},d=()=>{r==="available"&&c(l)};return f.jsxs("div",{className:"card",children:[h(),f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"text-4xl mb-4",children:a}),f.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:e}),f.jsx("p",{className:"text-gray-600 mb-4",children:i}),f.jsx("button",{disabled:r!=="available",className:`btn ${r==="available"?"btn-primary":"bg-gray-300 cursor-not-allowed"} w-full`,onClick:d,children:r==="available"?"Launch Demo":"Coming Soon"})]})]})}function uS(){const n=new Date().getFullYear();return f.jsx("footer",{className:"bg-gray-800 text-white py-6",children:f.jsx("div",{className:"container mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[f.jsx("div",{className:"mb-4 md:mb-0",children:f.jsxs("p",{children:[" ",n," Dr. Kay Rottmann - Digital Speech Processing"]})}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"Contact"}),f.jsx("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"GitHub"}),f.jsx("a",{href:"#",className:"hover:text-blue-500 transition-colors",children:"Privacy Policy"})]})]})})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function so(n){return n+.5|0}const Ui=(n,e,i)=>Math.max(Math.min(n,i),e);function kl(n){return Ui(so(n*2.55),0,255)}function Yi(n){return Ui(so(n*255),0,255)}function di(n){return Ui(so(n/2.55)/100,0,1)}function xg(n){return Ui(so(n*100),0,100)}const wn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fh=[..."0123456789ABCDEF"],hS=n=>Fh[n&15],fS=n=>Fh[(n&240)>>4]+Fh[n&15],pr=n=>(n&240)>>4===(n&15),dS=n=>pr(n.r)&&pr(n.g)&&pr(n.b)&&pr(n.a);function mS(n){var e=n.length,i;return n[0]==="#"&&(e===4||e===5?i={r:255&wn[n[1]]*17,g:255&wn[n[2]]*17,b:255&wn[n[3]]*17,a:e===5?wn[n[4]]*17:255}:(e===7||e===9)&&(i={r:wn[n[1]]<<4|wn[n[2]],g:wn[n[3]]<<4|wn[n[4]],b:wn[n[5]]<<4|wn[n[6]],a:e===9?wn[n[7]]<<4|wn[n[8]]:255})),i}const pS=(n,e)=>n<255?e(n):"";function gS(n){var e=dS(n)?hS:fS;return n?"#"+e(n.r)+e(n.g)+e(n.b)+pS(n.a,e):void 0}const yS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fy(n,e,i){const a=e*Math.min(i,1-i),l=(r,c=(r+n/30)%12)=>i-a*Math.max(Math.min(c-3,9-c,1),-1);return[l(0),l(8),l(4)]}function bS(n,e,i){const a=(l,r=(l+n/60)%6)=>i-i*e*Math.max(Math.min(r,4-r,1),0);return[a(5),a(3),a(1)]}function xS(n,e,i){const a=fy(n,1,.5);let l;for(e+i>1&&(l=1/(e+i),e*=l,i*=l),l=0;l<3;l++)a[l]*=1-e-i,a[l]+=e;return a}function vS(n,e,i,a,l){return n===l?(e-i)/a+(e<i?6:0):e===l?(i-n)/a+2:(n-e)/a+4}function of(n){const i=n.r/255,a=n.g/255,l=n.b/255,r=Math.max(i,a,l),c=Math.min(i,a,l),h=(r+c)/2;let d,m,g;return r!==c&&(g=r-c,m=h>.5?g/(2-r-c):g/(r+c),d=vS(i,a,l,g,r),d=d*60+.5),[d|0,m||0,h]}function rf(n,e,i,a){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,i,a)).map(Yi)}function cf(n,e,i){return rf(fy,n,e,i)}function SS(n,e,i){return rf(xS,n,e,i)}function MS(n,e,i){return rf(bS,n,e,i)}function dy(n){return(n%360+360)%360}function _S(n){const e=yS.exec(n);let i=255,a;if(!e)return;e[5]!==a&&(i=e[6]?kl(+e[5]):Yi(+e[5]));const l=dy(+e[2]),r=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?a=SS(l,r,c):e[1]==="hsv"?a=MS(l,r,c):a=cf(l,r,c),{r:a[0],g:a[1],b:a[2],a:i}}function wS(n,e){var i=of(n);i[0]=dy(i[0]+e),i=cf(i),n.r=i[0],n.g=i[1],n.b=i[2]}function jS(n){if(!n)return;const e=of(n),i=e[0],a=xg(e[1]),l=xg(e[2]);return n.a<255?`hsla(${i}, ${a}%, ${l}%, ${di(n.a)})`:`hsl(${i}, ${a}%, ${l}%)`}const vg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Sg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function TS(){const n={},e=Object.keys(Sg),i=Object.keys(vg);let a,l,r,c,h;for(a=0;a<e.length;a++){for(c=h=e[a],l=0;l<i.length;l++)r=i[l],h=h.replace(r,vg[r]);r=parseInt(Sg[c],16),n[h]=[r>>16&255,r>>8&255,r&255]}return n}let gr;function AS(n){gr||(gr=TS(),gr.transparent=[0,0,0,0]);const e=gr[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const CS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function DS(n){const e=CS.exec(n);let i=255,a,l,r;if(e){if(e[7]!==a){const c=+e[7];i=e[8]?kl(c):Ui(c*255,0,255)}return a=+e[1],l=+e[3],r=+e[5],a=255&(e[2]?kl(a):Ui(a,0,255)),l=255&(e[4]?kl(l):Ui(l,0,255)),r=255&(e[6]?kl(r):Ui(r,0,255)),{r:a,g:l,b:r,a:i}}}function NS(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${di(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const vh=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ga=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ES(n,e,i){const a=ga(di(n.r)),l=ga(di(n.g)),r=ga(di(n.b));return{r:Yi(vh(a+i*(ga(di(e.r))-a))),g:Yi(vh(l+i*(ga(di(e.g))-l))),b:Yi(vh(r+i*(ga(di(e.b))-r))),a:n.a+i*(e.a-n.a)}}function yr(n,e,i){if(n){let a=of(n);a[e]=Math.max(0,Math.min(a[e]+a[e]*i,e===0?360:1)),a=cf(a),n.r=a[0],n.g=a[1],n.b=a[2]}}function my(n,e){return n&&Object.assign(e||{},n)}function Mg(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Yi(n[3]))):(e=my(n,{r:0,g:0,b:0,a:1}),e.a=Yi(e.a)),e}function RS(n){return n.charAt(0)==="r"?DS(n):_S(n)}class Gl{constructor(e){if(e instanceof Gl)return e;const i=typeof e;let a;i==="object"?a=Mg(e):i==="string"&&(a=mS(e)||AS(e)||RS(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=my(this._rgb);return e&&(e.a=di(e.a)),e}set rgb(e){this._rgb=Mg(e)}rgbString(){return this._valid?NS(this._rgb):void 0}hexString(){return this._valid?gS(this._rgb):void 0}hslString(){return this._valid?jS(this._rgb):void 0}mix(e,i){if(e){const a=this.rgb,l=e.rgb;let r;const c=i===r?.5:i,h=2*c-1,d=a.a-l.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;r=1-m,a.r=255&m*a.r+r*l.r+.5,a.g=255&m*a.g+r*l.g+.5,a.b=255&m*a.b+r*l.b+.5,a.a=c*a.a+(1-c)*l.a,this.rgb=a}return this}interpolate(e,i){return e&&(this._rgb=ES(this._rgb,e._rgb,i)),this}clone(){return new Gl(this.rgb)}alpha(e){return this._rgb.a=Yi(e),this}clearer(e){const i=this._rgb;return i.a*=1-e,this}greyscale(){const e=this._rgb,i=so(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=i,this}opaquer(e){const i=this._rgb;return i.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return yr(this._rgb,2,e),this}darken(e){return yr(this._rgb,2,-e),this}saturate(e){return yr(this._rgb,1,e),this}desaturate(e){return yr(this._rgb,1,-e),this}rotate(e){return wS(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ui(){}const kS=(()=>{let n=0;return()=>n++})();function He(n){return n==null}function nt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Pe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ht(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function cn(n,e){return ht(n)?n:e}function ke(n,e){return typeof n>"u"?e:n}const OS=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,py=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Je(n,e,i){if(n&&typeof n.call=="function")return n.apply(i,e)}function Ye(n,e,i,a){let l,r,c;if(nt(n))for(r=n.length,l=0;l<r;l++)e.call(i,n[l],l);else if(Pe(n))for(c=Object.keys(n),r=c.length,l=0;l<r;l++)e.call(i,n[c[l]],c[l])}function qr(n,e){let i,a,l,r;if(!n||!e||n.length!==e.length)return!1;for(i=0,a=n.length;i<a;++i)if(l=n[i],r=e[i],l.datasetIndex!==r.datasetIndex||l.index!==r.index)return!1;return!0}function Pr(n){if(nt(n))return n.map(Pr);if(Pe(n)){const e=Object.create(null),i=Object.keys(n),a=i.length;let l=0;for(;l<a;++l)e[i[l]]=Pr(n[i[l]]);return e}return n}function gy(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function zS(n,e,i,a){if(!gy(n))return;const l=e[n],r=i[n];Pe(l)&&Pe(r)?Xl(l,r,a):e[n]=Pr(r)}function Xl(n,e,i){const a=nt(e)?e:[e],l=a.length;if(!Pe(n))return n;i=i||{};const r=i.merger||zS;let c;for(let h=0;h<l;++h){if(c=a[h],!Pe(c))continue;const d=Object.keys(c);for(let m=0,g=d.length;m<g;++m)r(d[m],n,c,i)}return n}function Hl(n,e){return Xl(n,e,{merger:LS})}function LS(n,e,i){if(!gy(n))return;const a=e[n],l=i[n];Pe(a)&&Pe(l)?Hl(a,l):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Pr(l))}const _g={"":n=>n,x:n=>n.x,y:n=>n.y};function BS(n){const e=n.split("."),i=[];let a="";for(const l of e)a+=l,a.endsWith("\\")?a=a.slice(0,-1)+".":(i.push(a),a="");return i}function FS(n){const e=BS(n);return i=>{for(const a of e){if(a==="")break;i=i&&i[a]}return i}}function Gi(n,e){return(_g[e]||(_g[e]=FS(e)))(n)}function uf(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Il=n=>typeof n<"u",Xi=n=>typeof n=="function",wg=(n,e)=>{if(n.size!==e.size)return!1;for(const i of n)if(!e.has(i))return!1;return!0};function HS(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const tt=Math.PI,et=2*tt,qS=et+tt,Vr=Number.POSITIVE_INFINITY,PS=tt/180,mt=tt/2,bs=tt/4,jg=tt*2/3,Wi=Math.log10,$n=Math.sign;function ql(n,e,i){return Math.abs(n-e)<i}function Tg(n){const e=Math.round(n);n=ql(n,e,n/1e3)?e:n;const i=Math.pow(10,Math.floor(Wi(n))),a=n/i;return(a<=1?1:a<=2?2:a<=5?5:10)*i}function VS(n){const e=[],i=Math.sqrt(n);let a;for(a=1;a<i;a++)n%a===0&&(e.push(a),e.push(n/a));return i===(i|0)&&e.push(i),e.sort((l,r)=>l-r).pop(),e}function US(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function va(n){return!US(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function WS(n,e){const i=Math.round(n);return i-e<=n&&i+e>=n}function yy(n,e,i){let a,l,r;for(a=0,l=n.length;a<l;a++)r=n[a][i],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Nn(n){return n*(tt/180)}function hf(n){return n*(180/tt)}function Ag(n){if(!ht(n))return;let e=1,i=0;for(;Math.round(n*e)/e!==n;)e*=10,i++;return i}function by(n,e){const i=e.x-n.x,a=e.y-n.y,l=Math.sqrt(i*i+a*a);let r=Math.atan2(a,i);return r<-.5*tt&&(r+=et),{angle:r,distance:l}}function Hh(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function $S(n,e){return(n-e+qS)%et-tt}function un(n){return(n%et+et)%et}function Ql(n,e,i,a){const l=un(n),r=un(e),c=un(i),h=un(r-l),d=un(c-l),m=un(l-r),g=un(l-c);return l===r||l===c||a&&r===c||h>d&&m<g}function Ct(n,e,i){return Math.max(e,Math.min(i,n))}function YS(n){return Ct(n,-32768,32767)}function mi(n,e,i,a=1e-6){return n>=Math.min(e,i)-a&&n<=Math.max(e,i)+a}function ff(n,e,i){i=i||(c=>n[c]<e);let a=n.length-1,l=0,r;for(;a-l>1;)r=l+a>>1,i(r)?l=r:a=r;return{lo:l,hi:a}}const pi=(n,e,i,a)=>ff(n,i,a?l=>{const r=n[l][e];return r<i||r===i&&n[l+1][e]===i}:l=>n[l][e]<i),GS=(n,e,i)=>ff(n,i,a=>n[a][e]>=i);function XS(n,e,i){let a=0,l=n.length;for(;a<l&&n[a]<e;)a++;for(;l>a&&n[l-1]>i;)l--;return a>0||l<n.length?n.slice(a,l):n}const xy=["push","pop","shift","splice","unshift"];function IS(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),xy.forEach(i=>{const a="_onData"+uf(i),l=n[i];Object.defineProperty(n,i,{configurable:!0,enumerable:!1,value(...r){const c=l.apply(this,r);return n._chartjs.listeners.forEach(h=>{typeof h[a]=="function"&&h[a](...r)}),c}})})}function Cg(n,e){const i=n._chartjs;if(!i)return;const a=i.listeners,l=a.indexOf(e);l!==-1&&a.splice(l,1),!(a.length>0)&&(xy.forEach(r=>{delete n[r]}),delete n._chartjs)}function vy(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Sy=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function My(n,e){let i=[],a=!1;return function(...l){i=l,a||(a=!0,Sy.call(window,()=>{a=!1,n.apply(e,i)}))}}function QS(n,e){let i;return function(...a){return e?(clearTimeout(i),i=setTimeout(n,e,a)):n.apply(this,a),e}}const df=n=>n==="start"?"left":n==="end"?"right":"center",Ht=(n,e,i)=>n==="start"?e:n==="end"?i:(e+i)/2,ZS=(n,e,i,a)=>n===(a?"left":"right")?i:n==="center"?(e+i)/2:e;function _y(n,e,i){const a=e.length;let l=0,r=a;if(n._sorted){const{iScale:c,vScale:h,_parsed:d}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=c.axis,{min:b,max:S,minDefined:x,maxDefined:v}=c.getUserBounds();if(x){if(l=Math.min(pi(d,g,b).lo,i?a:pi(e,g,c.getPixelForValue(b)).lo),m){const M=d.slice(0,l+1).reverse().findIndex(w=>!He(w[h.axis]));l-=Math.max(0,M)}l=Ct(l,0,a-1)}if(v){let M=Math.max(pi(d,c.axis,S,!0).hi+1,i?0:pi(e,g,c.getPixelForValue(S),!0).hi+1);if(m){const w=d.slice(M-1).findIndex(_=>!He(_[h.axis]));M+=Math.max(0,w)}r=Ct(M,l,a)-l}else r=a-l}return{start:l,count:r}}function wy(n){const{xScale:e,yScale:i,_scaleRanges:a}=n,l={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!a)return n._scaleRanges=l,!0;const r=a.xmin!==e.min||a.xmax!==e.max||a.ymin!==i.min||a.ymax!==i.max;return Object.assign(a,l),r}const br=n=>n===0||n===1,Dg=(n,e,i)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*et/i)),Ng=(n,e,i)=>Math.pow(2,-10*n)*Math.sin((n-e)*et/i)+1,Pl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*mt)+1,easeOutSine:n=>Math.sin(n*mt),easeInOutSine:n=>-.5*(Math.cos(tt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>br(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>br(n)?n:Dg(n,.075,.3),easeOutElastic:n=>br(n)?n:Ng(n,.075,.3),easeInOutElastic(n){return br(n)?n:n<.5?.5*Dg(n*2,.1125,.45):.5+.5*Ng(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Pl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Pl.easeInBounce(n*2)*.5:Pl.easeOutBounce(n*2-1)*.5+.5};function mf(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Eg(n){return mf(n)?n:new Gl(n)}function Sh(n){return mf(n)?n:new Gl(n).saturate(.5).darken(.1).hexString()}const KS=["x","y","borderWidth","radius","tension"],JS=["color","borderColor","backgroundColor"];function eM(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:JS},numbers:{type:"number",properties:KS}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function tM(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Rg=new Map;function nM(n,e){e=e||{};const i=n+JSON.stringify(e);let a=Rg.get(i);return a||(a=new Intl.NumberFormat(n,e),Rg.set(i,a)),a}function ao(n,e,i){return nM(e,i).format(n)}const jy={values(n){return nt(n)?n:""+n},numeric(n,e,i){if(n===0)return"0";const a=this.chart.options.locale;let l,r=n;if(i.length>1){const m=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(m<1e-4||m>1e15)&&(l="scientific"),r=iM(n,i)}const c=Wi(Math.abs(r)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:l,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),ao(n,a,d)},logarithmic(n,e,i){if(n===0)return"0";const a=i[e].significand||n/Math.pow(10,Math.floor(Wi(n)));return[1,2,3,5,10,15].includes(a)||e>.8*i.length?jy.numeric.call(this,n,e,i):""}};function iM(n,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&n!==Math.floor(n)&&(i=n-Math.floor(n)),i}var Zr={formatters:jy};function sM(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,i)=>i.lineWidth,tickColor:(e,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ns=Object.create(null),qh=Object.create(null);function Vl(n,e){if(!e)return n;const i=e.split(".");for(let a=0,l=i.length;a<l;++a){const r=i[a];n=n[r]||(n[r]=Object.create(null))}return n}function Mh(n,e,i){return typeof e=="string"?Xl(Vl(n,e),i):Xl(Vl(n,""),e)}class aM{constructor(e,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,l)=>Sh(l.backgroundColor),this.hoverBorderColor=(a,l)=>Sh(l.borderColor),this.hoverColor=(a,l)=>Sh(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(i)}set(e,i){return Mh(this,e,i)}get(e){return Vl(this,e)}describe(e,i){return Mh(qh,e,i)}override(e,i){return Mh(Ns,e,i)}route(e,i,a,l){const r=Vl(this,e),c=Vl(this,a),h="_"+i;Object.defineProperties(r,{[h]:{value:r[i],writable:!0},[i]:{enumerable:!0,get(){const d=this[h],m=c[l];return Pe(d)?Object.assign({},m,d):ke(d,m)},set(d){this[h]=d}}})}apply(e){e.forEach(i=>i(this))}}var it=new aM({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[eM,tM,sM]);function lM(n){return!n||He(n.size)||He(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ur(n,e,i,a,l){let r=e[l];return r||(r=e[l]=n.measureText(l).width,i.push(l)),r>a&&(a=r),a}function oM(n,e,i,a){a=a||{};let l=a.data=a.data||{},r=a.garbageCollect=a.garbageCollect||[];a.font!==e&&(l=a.data={},r=a.garbageCollect=[],a.font=e),n.save(),n.font=e;let c=0;const h=i.length;let d,m,g,b,S;for(d=0;d<h;d++)if(b=i[d],b!=null&&!nt(b))c=Ur(n,l,r,c,b);else if(nt(b))for(m=0,g=b.length;m<g;m++)S=b[m],S!=null&&!nt(S)&&(c=Ur(n,l,r,c,S));n.restore();const x=r.length/2;if(x>i.length){for(d=0;d<x;d++)delete l[r[d]];r.splice(0,x)}return c}function xs(n,e,i){const a=n.currentDevicePixelRatio,l=i!==0?Math.max(i/2,.5):0;return Math.round((e-l)*a)/a+l}function kg(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Ph(n,e,i,a){Ty(n,e,i,a,null)}function Ty(n,e,i,a,l){let r,c,h,d,m,g,b,S;const x=e.pointStyle,v=e.rotation,M=e.radius;let w=(v||0)*PS;if(x&&typeof x=="object"&&(r=x.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(i,a),n.rotate(w),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(M)||M<=0)){switch(n.beginPath(),x){default:l?n.ellipse(i,a,l/2,M,0,0,et):n.arc(i,a,M,0,et),n.closePath();break;case"triangle":g=l?l/2:M,n.moveTo(i+Math.sin(w)*g,a-Math.cos(w)*M),w+=jg,n.lineTo(i+Math.sin(w)*g,a-Math.cos(w)*M),w+=jg,n.lineTo(i+Math.sin(w)*g,a-Math.cos(w)*M),n.closePath();break;case"rectRounded":m=M*.516,d=M-m,c=Math.cos(w+bs)*d,b=Math.cos(w+bs)*(l?l/2-m:d),h=Math.sin(w+bs)*d,S=Math.sin(w+bs)*(l?l/2-m:d),n.arc(i-b,a-h,m,w-tt,w-mt),n.arc(i+S,a-c,m,w-mt,w),n.arc(i+b,a+h,m,w,w+mt),n.arc(i-S,a+c,m,w+mt,w+tt),n.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*M,g=l?l/2:d,n.rect(i-g,a-d,2*g,2*d);break}w+=bs;case"rectRot":b=Math.cos(w)*(l?l/2:M),c=Math.cos(w)*M,h=Math.sin(w)*M,S=Math.sin(w)*(l?l/2:M),n.moveTo(i-b,a-h),n.lineTo(i+S,a-c),n.lineTo(i+b,a+h),n.lineTo(i-S,a+c),n.closePath();break;case"crossRot":w+=bs;case"cross":b=Math.cos(w)*(l?l/2:M),c=Math.cos(w)*M,h=Math.sin(w)*M,S=Math.sin(w)*(l?l/2:M),n.moveTo(i-b,a-h),n.lineTo(i+b,a+h),n.moveTo(i+S,a-c),n.lineTo(i-S,a+c);break;case"star":b=Math.cos(w)*(l?l/2:M),c=Math.cos(w)*M,h=Math.sin(w)*M,S=Math.sin(w)*(l?l/2:M),n.moveTo(i-b,a-h),n.lineTo(i+b,a+h),n.moveTo(i+S,a-c),n.lineTo(i-S,a+c),w+=bs,b=Math.cos(w)*(l?l/2:M),c=Math.cos(w)*M,h=Math.sin(w)*M,S=Math.sin(w)*(l?l/2:M),n.moveTo(i-b,a-h),n.lineTo(i+b,a+h),n.moveTo(i+S,a-c),n.lineTo(i-S,a+c);break;case"line":c=l?l/2:Math.cos(w)*M,h=Math.sin(w)*M,n.moveTo(i-c,a-h),n.lineTo(i+c,a+h);break;case"dash":n.moveTo(i,a),n.lineTo(i+Math.cos(w)*(l?l/2:M),a+Math.sin(w)*M);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function gi(n,e,i){return i=i||.5,!e||n&&n.x>e.left-i&&n.x<e.right+i&&n.y>e.top-i&&n.y<e.bottom+i}function Kr(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Jr(n){n.restore()}function rM(n,e,i,a,l){if(!e)return n.lineTo(i.x,i.y);if(l==="middle"){const r=(e.x+i.x)/2;n.lineTo(r,e.y),n.lineTo(r,i.y)}else l==="after"!=!!a?n.lineTo(e.x,i.y):n.lineTo(i.x,e.y);n.lineTo(i.x,i.y)}function cM(n,e,i,a){if(!e)return n.lineTo(i.x,i.y);n.bezierCurveTo(a?e.cp1x:e.cp2x,a?e.cp1y:e.cp2y,a?i.cp2x:i.cp1x,a?i.cp2y:i.cp1y,i.x,i.y)}function uM(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),He(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function hM(n,e,i,a,l){if(l.strikethrough||l.underline){const r=n.measureText(a),c=e-r.actualBoundingBoxLeft,h=e+r.actualBoundingBoxRight,d=i-r.actualBoundingBoxAscent,m=i+r.actualBoundingBoxDescent,g=l.strikethrough?(d+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=l.decorationWidth||2,n.moveTo(c,g),n.lineTo(h,g),n.stroke()}}function fM(n,e){const i=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=i}function Es(n,e,i,a,l,r={}){const c=nt(e)?e:[e],h=r.strokeWidth>0&&r.strokeColor!=="";let d,m;for(n.save(),n.font=l.string,uM(n,r),d=0;d<c.length;++d)m=c[d],r.backdrop&&fM(n,r.backdrop),h&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),He(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(m,i,a,r.maxWidth)),n.fillText(m,i,a,r.maxWidth),hM(n,i,a,m,r),a+=Number(l.lineHeight);n.restore()}function Zl(n,e){const{x:i,y:a,w:l,h:r,radius:c}=e;n.arc(i+c.topLeft,a+c.topLeft,c.topLeft,1.5*tt,tt,!0),n.lineTo(i,a+r-c.bottomLeft),n.arc(i+c.bottomLeft,a+r-c.bottomLeft,c.bottomLeft,tt,mt,!0),n.lineTo(i+l-c.bottomRight,a+r),n.arc(i+l-c.bottomRight,a+r-c.bottomRight,c.bottomRight,mt,0,!0),n.lineTo(i+l,a+c.topRight),n.arc(i+l-c.topRight,a+c.topRight,c.topRight,0,-mt,!0),n.lineTo(i+c.topLeft,a)}const dM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,mM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pM(n,e){const i=(""+n).match(dM);if(!i||i[1]==="normal")return e*1.2;switch(n=+i[2],i[3]){case"px":return n;case"%":n/=100;break}return e*n}const gM=n=>+n||0;function pf(n,e){const i={},a=Pe(e),l=a?Object.keys(e):e,r=Pe(n)?a?c=>ke(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of l)i[c]=gM(r(c));return i}function Ay(n){return pf(n,{top:"y",right:"x",bottom:"y",left:"x"})}function As(n){return pf(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Pt(n){const e=Ay(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Mt(n,e){n=n||{},e=e||it.font;let i=ke(n.size,e.size);typeof i=="string"&&(i=parseInt(i,10));let a=ke(n.style,e.style);a&&!(""+a).match(mM)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const l={family:ke(n.family,e.family),lineHeight:pM(ke(n.lineHeight,e.lineHeight),i),size:i,style:a,weight:ke(n.weight,e.weight),string:""};return l.string=lM(l),l}function Ol(n,e,i,a){let l,r,c;for(l=0,r=n.length;l<r;++l)if(c=n[l],c!==void 0&&c!==void 0)return c}function yM(n,e,i){const{min:a,max:l}=n,r=py(e,(l-a)/2),c=(h,d)=>i&&h===0?0:h+d;return{min:c(a,-Math.abs(r)),max:c(l,r)}}function Qi(n,e){return Object.assign(Object.create(n),e)}function gf(n,e=[""],i,a,l=()=>n[0]){const r=i||n;typeof a>"u"&&(a=Ey("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:a,_getTarget:l,override:h=>gf([h,...n],e,r,a)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return Dy(h,d,()=>jM(d,e,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return zg(h).includes(d)},ownKeys(h){return zg(h)},set(h,d,m){const g=h._storage||(h._storage=l());return h[d]=g[d]=m,delete h._keys,!0}})}function Sa(n,e,i,a){const l={_cacheable:!1,_proxy:n,_context:e,_subProxy:i,_stack:new Set,_descriptors:Cy(n,a),setContext:r=>Sa(n,r,i,a),override:r=>Sa(n.override(r),e,i,a)};return new Proxy(l,{deleteProperty(r,c){return delete r[c],delete n[c],!0},get(r,c,h){return Dy(r,c,()=>xM(r,c,h))},getOwnPropertyDescriptor(r,c){return r._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(r,c,h){return n[c]=h,delete r[c],!0}})}function Cy(n,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:a=e.indexable,_allKeys:l=e.allKeys}=n;return{allKeys:l,scriptable:i,indexable:a,isScriptable:Xi(i)?i:()=>i,isIndexable:Xi(a)?a:()=>a}}const bM=(n,e)=>n?n+uf(e):e,yf=(n,e)=>Pe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Dy(n,e,i){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const a=i();return n[e]=a,a}function xM(n,e,i){const{_proxy:a,_context:l,_subProxy:r,_descriptors:c}=n;let h=a[e];return Xi(h)&&c.isScriptable(e)&&(h=vM(e,h,n,i)),nt(h)&&h.length&&(h=SM(e,h,n,c.isIndexable)),yf(e,h)&&(h=Sa(h,l,r&&r[e],c)),h}function vM(n,e,i,a){const{_proxy:l,_context:r,_subProxy:c,_stack:h}=i;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=e(r,c||a);return h.delete(n),yf(n,d)&&(d=bf(l._scopes,l,n,d)),d}function SM(n,e,i,a){const{_proxy:l,_context:r,_subProxy:c,_descriptors:h}=i;if(typeof r.index<"u"&&a(n))return e[r.index%e.length];if(Pe(e[0])){const d=e,m=l._scopes.filter(g=>g!==d);e=[];for(const g of d){const b=bf(m,l,n,g);e.push(Sa(b,r,c&&c[n],h))}}return e}function Ny(n,e,i){return Xi(n)?n(e,i):n}const MM=(n,e)=>n===!0?e:typeof n=="string"?Gi(e,n):void 0;function _M(n,e,i,a,l){for(const r of e){const c=MM(i,r);if(c){n.add(c);const h=Ny(c._fallback,i,l);if(typeof h<"u"&&h!==i&&h!==a)return h}else if(c===!1&&typeof a<"u"&&i!==a)return null}return!1}function bf(n,e,i,a){const l=e._rootScopes,r=Ny(e._fallback,i,a),c=[...n,...l],h=new Set;h.add(a);let d=Og(h,c,i,r||i,a);return d===null||typeof r<"u"&&r!==i&&(d=Og(h,c,r,d,a),d===null)?!1:gf(Array.from(h),[""],l,r,()=>wM(e,i,a))}function Og(n,e,i,a,l){for(;i;)i=_M(n,e,i,a,l);return i}function wM(n,e,i){const a=n._getTarget();e in a||(a[e]={});const l=a[e];return nt(l)&&Pe(i)?i:l||{}}function jM(n,e,i,a){let l;for(const r of e)if(l=Ey(bM(r,n),i),typeof l<"u")return yf(n,l)?bf(i,a,n,l):l}function Ey(n,e){for(const i of e){if(!i)continue;const a=i[n];if(typeof a<"u")return a}}function zg(n){let e=n._keys;return e||(e=n._keys=TM(n._scopes)),e}function TM(n){const e=new Set;for(const i of n)for(const a of Object.keys(i).filter(l=>!l.startsWith("_")))e.add(a);return Array.from(e)}function Ry(n,e,i,a){const{iScale:l}=n,{key:r="r"}=this._parsing,c=new Array(a);let h,d,m,g;for(h=0,d=a;h<d;++h)m=h+i,g=e[m],c[h]={r:l.parse(Gi(g,r),m)};return c}const AM=Number.EPSILON||1e-14,Ma=(n,e)=>e<n.length&&!n[e].skip&&n[e],ky=n=>n==="x"?"y":"x";function CM(n,e,i,a){const l=n.skip?e:n,r=e,c=i.skip?e:i,h=Hh(r,l),d=Hh(c,r);let m=h/(h+d),g=d/(h+d);m=isNaN(m)?0:m,g=isNaN(g)?0:g;const b=a*m,S=a*g;return{previous:{x:r.x-b*(c.x-l.x),y:r.y-b*(c.y-l.y)},next:{x:r.x+S*(c.x-l.x),y:r.y+S*(c.y-l.y)}}}function DM(n,e,i){const a=n.length;let l,r,c,h,d,m=Ma(n,0);for(let g=0;g<a-1;++g)if(d=m,m=Ma(n,g+1),!(!d||!m)){if(ql(e[g],0,AM)){i[g]=i[g+1]=0;continue}l=i[g]/e[g],r=i[g+1]/e[g],h=Math.pow(l,2)+Math.pow(r,2),!(h<=9)&&(c=3/Math.sqrt(h),i[g]=l*c*e[g],i[g+1]=r*c*e[g])}}function NM(n,e,i="x"){const a=ky(i),l=n.length;let r,c,h,d=Ma(n,0);for(let m=0;m<l;++m){if(c=h,h=d,d=Ma(n,m+1),!h)continue;const g=h[i],b=h[a];c&&(r=(g-c[i])/3,h[`cp1${i}`]=g-r,h[`cp1${a}`]=b-r*e[m]),d&&(r=(d[i]-g)/3,h[`cp2${i}`]=g+r,h[`cp2${a}`]=b+r*e[m])}}function EM(n,e="x"){const i=ky(e),a=n.length,l=Array(a).fill(0),r=Array(a);let c,h,d,m=Ma(n,0);for(c=0;c<a;++c)if(h=d,d=m,m=Ma(n,c+1),!!d){if(m){const g=m[e]-d[e];l[c]=g!==0?(m[i]-d[i])/g:0}r[c]=h?m?$n(l[c-1])!==$n(l[c])?0:(l[c-1]+l[c])/2:l[c-1]:l[c]}DM(n,l,r),NM(n,r,e)}function xr(n,e,i){return Math.max(Math.min(n,i),e)}function RM(n,e){let i,a,l,r,c,h=gi(n[0],e);for(i=0,a=n.length;i<a;++i)c=r,r=h,h=i<a-1&&gi(n[i+1],e),r&&(l=n[i],c&&(l.cp1x=xr(l.cp1x,e.left,e.right),l.cp1y=xr(l.cp1y,e.top,e.bottom)),h&&(l.cp2x=xr(l.cp2x,e.left,e.right),l.cp2y=xr(l.cp2y,e.top,e.bottom)))}function kM(n,e,i,a,l){let r,c,h,d;if(e.spanGaps&&(n=n.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")EM(n,l);else{let m=a?n[n.length-1]:n[0];for(r=0,c=n.length;r<c;++r)h=n[r],d=CM(m,h,n[Math.min(r+1,c-(a?0:1))%c],e.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,m=h}e.capBezierPoints&&RM(n,i)}function xf(){return typeof window<"u"&&typeof document<"u"}function vf(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wr(n,e,i){let a;return typeof n=="string"?(a=parseInt(n,10),n.indexOf("%")!==-1&&(a=a/100*e.parentNode[i])):a=n,a}const ec=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function OM(n,e){return ec(n).getPropertyValue(e)}const zM=["top","right","bottom","left"];function Cs(n,e,i){const a={};i=i?"-"+i:"";for(let l=0;l<4;l++){const r=zM[l];a[r]=parseFloat(n[e+"-"+r+i])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const LM=(n,e,i)=>(n>0||e>0)&&(!i||!i.shadowRoot);function BM(n,e){const i=n.touches,a=i&&i.length?i[0]:n,{offsetX:l,offsetY:r}=a;let c=!1,h,d;if(LM(l,r,n.target))h=l,d=r;else{const m=e.getBoundingClientRect();h=a.clientX-m.left,d=a.clientY-m.top,c=!0}return{x:h,y:d,box:c}}function ws(n,e){if("native"in n)return n;const{canvas:i,currentDevicePixelRatio:a}=e,l=ec(i),r=l.boxSizing==="border-box",c=Cs(l,"padding"),h=Cs(l,"border","width"),{x:d,y:m,box:g}=BM(n,i),b=c.left+(g&&h.left),S=c.top+(g&&h.top);let{width:x,height:v}=e;return r&&(x-=c.width+h.width,v-=c.height+h.height),{x:Math.round((d-b)/x*i.width/a),y:Math.round((m-S)/v*i.height/a)}}function FM(n,e,i){let a,l;if(e===void 0||i===void 0){const r=n&&vf(n);if(!r)e=n.clientWidth,i=n.clientHeight;else{const c=r.getBoundingClientRect(),h=ec(r),d=Cs(h,"border","width"),m=Cs(h,"padding");e=c.width-m.width-d.width,i=c.height-m.height-d.height,a=Wr(h.maxWidth,r,"clientWidth"),l=Wr(h.maxHeight,r,"clientHeight")}}return{width:e,height:i,maxWidth:a||Vr,maxHeight:l||Vr}}const vr=n=>Math.round(n*10)/10;function HM(n,e,i,a){const l=ec(n),r=Cs(l,"margin"),c=Wr(l.maxWidth,n,"clientWidth")||Vr,h=Wr(l.maxHeight,n,"clientHeight")||Vr,d=FM(n,e,i);let{width:m,height:g}=d;if(l.boxSizing==="content-box"){const S=Cs(l,"border","width"),x=Cs(l,"padding");m-=x.width+S.width,g-=x.height+S.height}return m=Math.max(0,m-r.width),g=Math.max(0,a?m/a:g-r.height),m=vr(Math.min(m,c,d.maxWidth)),g=vr(Math.min(g,h,d.maxHeight)),m&&!g&&(g=vr(m/2)),(e!==void 0||i!==void 0)&&a&&d.height&&g>d.height&&(g=d.height,m=vr(Math.floor(g*a))),{width:m,height:g}}function Lg(n,e,i){const a=e||1,l=Math.floor(n.height*a),r=Math.floor(n.width*a);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(i||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==a||c.height!==l||c.width!==r?(n.currentDevicePixelRatio=a,c.height=l,c.width=r,n.ctx.setTransform(a,0,0,a,0,0),!0):!1}const qM=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};xf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Bg(n,e){const i=OM(n,e),a=i&&i.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function js(n,e,i,a){return{x:n.x+i*(e.x-n.x),y:n.y+i*(e.y-n.y)}}function PM(n,e,i,a){return{x:n.x+i*(e.x-n.x),y:a==="middle"?i<.5?n.y:e.y:a==="after"?i<1?n.y:e.y:i>0?e.y:n.y}}function VM(n,e,i,a){const l={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},c=js(n,l,i),h=js(l,r,i),d=js(r,e,i),m=js(c,h,i),g=js(h,d,i);return js(m,g,i)}const UM=function(n,e){return{x(i){return n+n+e-i},setWidth(i){e=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,a){return i-a},leftForLtr(i,a){return i-a}}},WM=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function xa(n,e,i){return n?UM(e,i):WM()}function Oy(n,e){let i,a;(e==="ltr"||e==="rtl")&&(i=n.canvas.style,a=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),n.prevTextDirection=a)}function zy(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Ly(n){return n==="angle"?{between:Ql,compare:$S,normalize:un}:{between:mi,compare:(e,i)=>e-i,normalize:e=>e}}function Fg({start:n,end:e,count:i,loop:a,style:l}){return{start:n%i,end:e%i,loop:a&&(e-n+1)%i===0,style:l}}function $M(n,e,i){const{property:a,start:l,end:r}=i,{between:c,normalize:h}=Ly(a),d=e.length;let{start:m,end:g,loop:b}=n,S,x;if(b){for(m+=d,g+=d,S=0,x=d;S<x&&c(h(e[m%d][a]),l,r);++S)m--,g--;m%=d,g%=d}return g<m&&(g+=d),{start:m,end:g,loop:b,style:n.style}}function By(n,e,i){if(!i)return[n];const{property:a,start:l,end:r}=i,c=e.length,{compare:h,between:d,normalize:m}=Ly(a),{start:g,end:b,loop:S,style:x}=$M(n,e,i),v=[];let M=!1,w=null,_,A,j;const D=()=>d(l,j,_)&&h(l,j)!==0,N=()=>h(r,_)===0||d(r,j,_),k=()=>M||D(),H=()=>!M||N();for(let O=g,L=g;O<=b;++O)A=e[O%c],!A.skip&&(_=m(A[a]),_!==j&&(M=d(_,l,r),w===null&&k()&&(w=h(_,l)===0?O:L),w!==null&&H()&&(v.push(Fg({start:w,end:O,loop:S,count:c,style:x})),w=null),L=O,j=_));return w!==null&&v.push(Fg({start:w,end:b,loop:S,count:c,style:x})),v}function Fy(n,e){const i=[],a=n.segments;for(let l=0;l<a.length;l++){const r=By(a[l],n.points,e);r.length&&i.push(...r)}return i}function YM(n,e,i,a){let l=0,r=e-1;if(i&&!a)for(;l<e&&!n[l].skip;)l++;for(;l<e&&n[l].skip;)l++;for(l%=e,i&&(r+=l);r>l&&n[r%e].skip;)r--;return r%=e,{start:l,end:r}}function GM(n,e,i,a){const l=n.length,r=[];let c=e,h=n[e],d;for(d=e+1;d<=i;++d){const m=n[d%l];m.skip||m.stop?h.skip||(a=!1,r.push({start:e%l,end:(d-1)%l,loop:a}),e=c=m.stop?d:null):(c=d,h.skip&&(e=d)),h=m}return c!==null&&r.push({start:e%l,end:c%l,loop:a}),r}function XM(n,e){const i=n.points,a=n.options.spanGaps,l=i.length;if(!l)return[];const r=!!n._loop,{start:c,end:h}=YM(i,l,r,a);if(a===!0)return Hg(n,[{start:c,end:h,loop:r}],i,e);const d=h<c?h+l:h,m=!!n._fullLoop&&c===0&&h===l-1;return Hg(n,GM(i,c,d,m),i,e)}function Hg(n,e,i,a){return!a||!a.setContext||!i?e:IM(n,e,i,a)}function IM(n,e,i,a){const l=n._chart.getContext(),r=qg(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,d=i.length,m=[];let g=r,b=e[0].start,S=b;function x(v,M,w,_){const A=h?-1:1;if(v!==M){for(v+=d;i[v%d].skip;)v-=A;for(;i[M%d].skip;)M+=A;v%d!==M%d&&(m.push({start:v%d,end:M%d,loop:w,style:_}),g=_,b=M%d)}}for(const v of e){b=h?b:v.start;let M=i[b%d],w;for(S=b+1;S<=v.end;S++){const _=i[S%d];w=qg(a.setContext(Qi(l,{type:"segment",p0:M,p1:_,p0DataIndex:(S-1)%d,p1DataIndex:S%d,datasetIndex:c}))),QM(w,g)&&x(b,S-1,v.loop,g),M=_,g=w}b<S-1&&x(b,S-1,v.loop,g)}return m}function qg(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function QM(n,e){if(!e)return!1;const i=[],a=function(l,r){return mf(r)?(i.includes(r)||i.push(r),i.indexOf(r)):r};return JSON.stringify(n,a)!==JSON.stringify(e,a)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ZM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,i,a,l){const r=i.listeners[l],c=i.duration;r.forEach(h=>h({chart:e,initial:i.initial,numSteps:c,currentStep:Math.min(a-i.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Sy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let i=0;this._charts.forEach((a,l)=>{if(!a.running||!a.items.length)return;const r=a.items;let c=r.length-1,h=!1,d;for(;c>=0;--c)d=r[c],d._active?(d._total>a.duration&&(a.duration=d._total),d.tick(e),h=!0):(r[c]=r[r.length-1],r.pop());h&&(l.draw(),this._notify(l,a,e,"progress")),r.length||(a.running=!1,this._notify(l,a,e,"complete"),a.initial=!1),i+=r.length}),this._lastDate=e,i===0&&(this._running=!1)}_getAnims(e){const i=this._charts;let a=i.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(e,a)),a}listen(e,i,a){this._getAnims(e).listeners[i].push(a)}add(e,i){!i||!i.length||this._getAnims(e).items.push(...i)}has(e){return this._getAnims(e).items.length>0}start(e){const i=this._charts.get(e);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((a,l)=>Math.max(a,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const i=this._charts.get(e);return!(!i||!i.running||!i.items.length)}stop(e){const i=this._charts.get(e);if(!i||!i.items.length)return;const a=i.items;let l=a.length-1;for(;l>=0;--l)a[l].cancel();i.items=[],this._notify(e,i,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var hi=new ZM;const Pg="transparent",KM={boolean(n,e,i){return i>.5?e:n},color(n,e,i){const a=Eg(n||Pg),l=a.valid&&Eg(e||Pg);return l&&l.valid?l.mix(a,i).hexString():e},number(n,e,i){return n+(e-n)*i}};class JM{constructor(e,i,a,l){const r=i[a];l=Ol([e.to,l,r,e.from]);const c=Ol([e.from,r,l]);this._active=!0,this._fn=e.fn||KM[e.type||typeof c],this._easing=Pl[e.easing]||Pl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=i,this._prop=a,this._from=c,this._to=l,this._promises=void 0}active(){return this._active}update(e,i,a){if(this._active){this._notify(!1);const l=this._target[this._prop],r=a-this._start,c=this._duration-r;this._start=a,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Ol([e.to,i,l,e.from]),this._from=Ol([e.from,l,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const i=e-this._start,a=this._duration,l=this._prop,r=this._from,c=this._loop,h=this._to;let d;if(this._active=r!==h&&(c||i<a),!this._active){this._target[l]=h,this._notify(!0);return}if(i<0){this._target[l]=r;return}d=i/a%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[l]=this._fn(r,h,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((i,a)=>{e.push({res:i,rej:a})})}_notify(e){const i=e?"res":"rej",a=this._promises||[];for(let l=0;l<a.length;l++)a[l][i]()}}class Hy{constructor(e,i){this._chart=e,this._properties=new Map,this.configure(i)}configure(e){if(!Pe(e))return;const i=Object.keys(it.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(l=>{const r=e[l];if(!Pe(r))return;const c={};for(const h of i)c[h]=r[h];(nt(r.properties)&&r.properties||[l]).forEach(h=>{(h===l||!a.has(h))&&a.set(h,c)})})}_animateOptions(e,i){const a=i.options,l=t_(e,a);if(!l)return[];const r=this._createAnimations(l,a);return a.$shared&&e_(e.options.$animations,a).then(()=>{e.options=a},()=>{}),r}_createAnimations(e,i){const a=this._properties,l=[],r=e.$animations||(e.$animations={}),c=Object.keys(i),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const m=c[d];if(m.charAt(0)==="$")continue;if(m==="options"){l.push(...this._animateOptions(e,i));continue}const g=i[m];let b=r[m];const S=a.get(m);if(b)if(S&&b.active()){b.update(S,g,h);continue}else b.cancel();if(!S||!S.duration){e[m]=g;continue}r[m]=b=new JM(S,e,m,g),l.push(b)}return l}update(e,i){if(this._properties.size===0){Object.assign(e,i);return}const a=this._createAnimations(e,i);if(a.length)return hi.add(this._chart,a),!0}}function e_(n,e){const i=[],a=Object.keys(e);for(let l=0;l<a.length;l++){const r=n[a[l]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)}function t_(n,e){if(!e)return;let i=n.options;if(!i){n.options=e;return}return i.$shared&&(n.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function Vg(n,e){const i=n&&n.options||{},a=i.reverse,l=i.min===void 0?e:0,r=i.max===void 0?e:0;return{start:a?r:l,end:a?l:r}}function n_(n,e,i){if(i===!1)return!1;const a=Vg(n,i),l=Vg(e,i);return{top:l.end,right:a.end,bottom:l.start,left:a.start}}function i_(n){let e,i,a,l;return Pe(n)?(e=n.top,i=n.right,a=n.bottom,l=n.left):e=i=a=l=n,{top:e,right:i,bottom:a,left:l,disabled:n===!1}}function qy(n,e){const i=[],a=n._getSortedDatasetMetas(e);let l,r;for(l=0,r=a.length;l<r;++l)i.push(a[l].index);return i}function Ug(n,e,i,a={}){const l=n.keys,r=a.mode==="single";let c,h,d,m;if(e===null)return;let g=!1;for(c=0,h=l.length;c<h;++c){if(d=+l[c],d===i){if(g=!0,a.all)continue;break}m=n.values[d],ht(m)&&(r||e===0||$n(e)===$n(m))&&(e+=m)}return!g&&!a.all?0:e}function s_(n,e){const{iScale:i,vScale:a}=e,l=i.axis==="x"?"x":"y",r=a.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let d,m,g;for(d=0,m=c.length;d<m;++d)g=c[d],h[d]={[l]:g,[r]:n[g]};return h}function _h(n,e){const i=n&&n.options.stacked;return i||i===void 0&&e.stack!==void 0}function a_(n,e,i){return`${n.id}.${e.id}.${i.stack||i.type}`}function l_(n){const{min:e,max:i,minDefined:a,maxDefined:l}=n.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:l?i:Number.POSITIVE_INFINITY}}function o_(n,e,i){const a=n[e]||(n[e]={});return a[i]||(a[i]={})}function Wg(n,e,i,a){for(const l of e.getMatchingVisibleMetas(a).reverse()){const r=n[l.index];if(i&&r>0||!i&&r<0)return l.index}return null}function $g(n,e){const{chart:i,_cachedMeta:a}=n,l=i._stacks||(i._stacks={}),{iScale:r,vScale:c,index:h}=a,d=r.axis,m=c.axis,g=a_(r,c,a),b=e.length;let S;for(let x=0;x<b;++x){const v=e[x],{[d]:M,[m]:w}=v,_=v._stacks||(v._stacks={});S=_[m]=o_(l,g,M),S[h]=w,S._top=Wg(S,c,!0,a.type),S._bottom=Wg(S,c,!1,a.type);const A=S._visualValues||(S._visualValues={});A[h]=w}}function wh(n,e){const i=n.scales;return Object.keys(i).filter(a=>i[a].axis===e).shift()}function r_(n,e){return Qi(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function c_(n,e,i){return Qi(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}function Al(n,e){const i=n.controller.index,a=n.vScale&&n.vScale.axis;if(a){e=e||n._parsed;for(const l of e){const r=l._stacks;if(!r||r[a]===void 0||r[a][i]===void 0)return;delete r[a][i],r[a]._visualValues!==void 0&&r[a]._visualValues[i]!==void 0&&delete r[a]._visualValues[i]}}}const jh=n=>n==="reset"||n==="none",Yg=(n,e)=>e?n:Object.assign({},n),u_=(n,e,i)=>n&&!e.hidden&&e._stacked&&{keys:qy(i,!0),values:null};class Rn{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=_h(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Al(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,a=this.getDataset(),l=(b,S,x,v)=>b==="x"?S:b==="r"?v:x,r=i.xAxisID=ke(a.xAxisID,wh(e,"x")),c=i.yAxisID=ke(a.yAxisID,wh(e,"y")),h=i.rAxisID=ke(a.rAxisID,wh(e,"r")),d=i.indexAxis,m=i.iAxisID=l(d,r,c,h),g=i.vAxisID=l(d,c,r,h);i.xScale=this.getScaleForId(r),i.yScale=this.getScaleForId(c),i.rScale=this.getScaleForId(h),i.iScale=this.getScaleForId(m),i.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Cg(this._data,this),e._stacked&&Al(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),a=this._data;if(Pe(i)){const l=this._cachedMeta;this._data=s_(i,l)}else if(a!==i){if(a){Cg(a,this);const l=this._cachedMeta;Al(l),l._parsed=[]}i&&Object.isExtensible(i)&&IS(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,a=this.getDataset();let l=!1;this._dataCheck();const r=i._stacked;i._stacked=_h(i.vScale,i),i.stack!==a.stack&&(l=!0,Al(i),i.stack=a.stack),this._resyncElements(e),(l||r!==i._stacked)&&($g(this,i._parsed),i._stacked=_h(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:a,_data:l}=this,{iScale:r,_stacked:c}=a,h=r.axis;let d=e===0&&i===l.length?!0:a._sorted,m=e>0&&a._parsed[e-1],g,b,S;if(this._parsing===!1)a._parsed=l,a._sorted=!0,S=l;else{nt(l[e])?S=this.parseArrayData(a,l,e,i):Pe(l[e])?S=this.parseObjectData(a,l,e,i):S=this.parsePrimitiveData(a,l,e,i);const x=()=>b[h]===null||m&&b[h]<m[h];for(g=0;g<i;++g)a._parsed[g+e]=b=S[g],d&&(x()&&(d=!1),m=b);a._sorted=d}c&&$g(this,S)}parsePrimitiveData(e,i,a,l){const{iScale:r,vScale:c}=e,h=r.axis,d=c.axis,m=r.getLabels(),g=r===c,b=new Array(l);let S,x,v;for(S=0,x=l;S<x;++S)v=S+a,b[S]={[h]:g||r.parse(m[v],v),[d]:c.parse(i[v],v)};return b}parseArrayData(e,i,a,l){const{xScale:r,yScale:c}=e,h=new Array(l);let d,m,g,b;for(d=0,m=l;d<m;++d)g=d+a,b=i[g],h[d]={x:r.parse(b[0],g),y:c.parse(b[1],g)};return h}parseObjectData(e,i,a,l){const{xScale:r,yScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(l);let g,b,S,x;for(g=0,b=l;g<b;++g)S=g+a,x=i[S],m[g]={x:r.parse(Gi(x,h),S),y:c.parse(Gi(x,d),S)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,a){const l=this.chart,r=this._cachedMeta,c=i[e.axis],h={keys:qy(l,!0),values:i._stacks[e.axis]._visualValues};return Ug(h,c,r.index,{mode:a})}updateRangeFromParsed(e,i,a,l){const r=a[i.axis];let c=r===null?NaN:r;const h=l&&a._stacks[i.axis];l&&h&&(l.values=h,c=Ug(l,r,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,i){const a=this._cachedMeta,l=a._parsed,r=a._sorted&&e===a.iScale,c=l.length,h=this._getOtherScale(e),d=u_(i,a,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:b}=l_(h);let S,x;function v(){x=l[S];const M=x[h.axis];return!ht(x[e.axis])||g>M||b<M}for(S=0;S<c&&!(!v()&&(this.updateRangeFromParsed(m,e,x,d),r));++S);if(r){for(S=c-1;S>=0;--S)if(!v()){this.updateRangeFromParsed(m,e,x,d);break}}return m}getAllParsedValues(e){const i=this._cachedMeta._parsed,a=[];let l,r,c;for(l=0,r=i.length;l<r;++l)c=i[l][e.axis],ht(c)&&a.push(c);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,a=i.iScale,l=i.vScale,r=this.getParsed(e);return{label:a?""+a.getLabelForValue(r[a.axis]):"",value:l?""+l.getLabelForValue(r[l.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=i_(ke(this.options.clip,n_(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this.chart,a=this._cachedMeta,l=a.data||[],r=i.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||l.length-h,m=this.options.drawActiveElementsOnTop;let g;for(a.dataset&&a.dataset.draw(e,r,h,d),g=h;g<h+d;++g){const b=l[g];b.hidden||(b.active&&m?c.push(b):b.draw(e,r))}for(g=0;g<c.length;++g)c[g].draw(e,r)}getStyle(e,i){const a=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,i,a){const l=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];r=c.$context||(c.$context=c_(this.getContext(),e,c)),r.parsed=this.getParsed(e),r.raw=l.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=r_(this.chart.getContext(),this.index)),r.dataset=l,r.index=r.datasetIndex=this.index;return r.active=!!i,r.mode=a,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",a){const l=i==="active",r=this._cachedDataOpts,c=e+"-"+i,h=r[c],d=this.enableOptionSharing&&Il(a);if(h)return Yg(h,d);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),b=l?[`${e}Hover`,"hover",e,""]:[e,""],S=m.getOptionScopes(this.getDataset(),g),x=Object.keys(it.elements[e]),v=()=>this.getContext(a,l,i),M=m.resolveNamedOptions(S,x,v,b);return M.$shared&&(M.$shared=d,r[c]=Object.freeze(Yg(M,d))),M}_resolveAnimations(e,i,a){const l=this.chart,r=this._cachedDataOpts,c=`animation-${i}`,h=r[c];if(h)return h;let d;if(l.options.animation!==!1){const g=this.chart.config,b=g.datasetAnimationScopeKeys(this._type,i),S=g.getOptionScopes(this.getDataset(),b);d=g.createResolver(S,this.getContext(e,a,i))}const m=new Hy(l,d&&d.animations);return d&&d._cacheable&&(r[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||jh(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const a=this.resolveDataElementOptions(e,i),l=this._sharedOptions,r=this.getSharedOptions(a),c=this.includeOptions(i,r)||r!==l;return this.updateSharedOptions(r,i,a),{sharedOptions:r,includeOptions:c}}updateElement(e,i,a,l){jh(l)?Object.assign(e,a):this._resolveAnimations(i,l).update(e,a)}updateSharedOptions(e,i,a){e&&!jh(i)&&this._resolveAnimations(void 0,i).update(e,a)}_setStyle(e,i,a,l){e.active=l;const r=this.getStyle(i,l);this._resolveAnimations(i,a,l).update(e,{options:!l&&this.getSharedOptions(r)||r})}removeHoverStyle(e,i,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,i,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,a=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const l=a.length,r=i.length,c=Math.min(r,l);c&&this.parse(0,c),r>l?this._insertElements(l,r-l,e):r<l&&this._removeElements(r,l-r)}_insertElements(e,i,a=!0){const l=this._cachedMeta,r=l.data,c=e+i;let h;const d=m=>{for(m.length+=i,h=m.length-1;h>=c;h--)m[h]=m[h-i]};for(d(r),h=e;h<c;++h)r[h]=new this.dataElementType;this._parsing&&d(l._parsed),this.parse(e,i),a&&this.updateElements(r,e,i,"reset")}updateElements(e,i,a,l){}_removeElements(e,i){const a=this._cachedMeta;if(this._parsing){const l=a._parsed.splice(e,i);a._stacked&&Al(a,l)}a.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,a,l]=e;this[i](a,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ge(Rn,"defaults",{}),ge(Rn,"datasetElementType",null),ge(Rn,"dataElementType",null);function h_(n,e){if(!n._cache.$bar){const i=n.getMatchingVisibleMetas(e);let a=[];for(let l=0,r=i.length;l<r;l++)a=a.concat(i[l].controller.getAllParsedValues(n));n._cache.$bar=vy(a.sort((l,r)=>l-r))}return n._cache.$bar}function f_(n){const e=n.iScale,i=h_(e,n.type);let a=e._length,l,r,c,h;const d=()=>{c===32767||c===-32768||(Il(h)&&(a=Math.min(a,Math.abs(c-h)||a)),h=c)};for(l=0,r=i.length;l<r;++l)c=e.getPixelForValue(i[l]),d();for(h=void 0,l=0,r=e.ticks.length;l<r;++l)c=e.getPixelForTick(l),d();return a}function d_(n,e,i,a){const l=i.barThickness;let r,c;return He(l)?(r=e.min*i.categoryPercentage,c=i.barPercentage):(r=l*a,c=1),{chunk:r/a,ratio:c,start:e.pixels[n]-r/2}}function m_(n,e,i,a){const l=e.pixels,r=l[n];let c=n>0?l[n-1]:null,h=n<l.length-1?l[n+1]:null;const d=i.categoryPercentage;c===null&&(c=r-(h===null?e.end-e.start:h-r)),h===null&&(h=r+r-c);const m=r-(r-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/a,ratio:i.barPercentage,start:m}}function p_(n,e,i,a){const l=i.parse(n[0],a),r=i.parse(n[1],a),c=Math.min(l,r),h=Math.max(l,r);let d=c,m=h;Math.abs(c)>Math.abs(h)&&(d=h,m=c),e[i.axis]=m,e._custom={barStart:d,barEnd:m,start:l,end:r,min:c,max:h}}function Py(n,e,i,a){return nt(n)?p_(n,e,i,a):e[i.axis]=i.parse(n,a),e}function Gg(n,e,i,a){const l=n.iScale,r=n.vScale,c=l.getLabels(),h=l===r,d=[];let m,g,b,S;for(m=i,g=i+a;m<g;++m)S=e[m],b={},b[l.axis]=h||l.parse(c[m],m),d.push(Py(S,b,r,m));return d}function Th(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function g_(n,e,i){return n!==0?$n(n):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}function y_(n){let e,i,a,l,r;return n.horizontal?(e=n.base>n.x,i="left",a="right"):(e=n.base<n.y,i="bottom",a="top"),e?(l="end",r="start"):(l="start",r="end"),{start:i,end:a,reverse:e,top:l,bottom:r}}function b_(n,e,i,a){let l=e.borderSkipped;const r={};if(!l){n.borderSkipped=r;return}if(l===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:m,bottom:g}=y_(n);l==="middle"&&i&&(n.enableBorderRadius=!0,(i._top||0)===a?l=m:(i._bottom||0)===a?l=g:(r[Xg(g,c,h,d)]=!0,l=m)),r[Xg(l,c,h,d)]=!0,n.borderSkipped=r}function Xg(n,e,i,a){return a?(n=x_(n,e,i),n=Ig(n,i,e)):n=Ig(n,e,i),n}function x_(n,e,i){return n===e?i:n===i?e:n}function Ig(n,e,i){return n==="start"?e:n==="end"?i:n}function v_(n,{inflateAmount:e},i){n.inflateAmount=e==="auto"?i===1?.33:0:e}class Rr extends Rn{parsePrimitiveData(e,i,a,l){return Gg(e,i,a,l)}parseArrayData(e,i,a,l){return Gg(e,i,a,l)}parseObjectData(e,i,a,l){const{iScale:r,vScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=r.axis==="x"?h:d,g=c.axis==="x"?h:d,b=[];let S,x,v,M;for(S=a,x=a+l;S<x;++S)M=i[S],v={},v[r.axis]=r.parse(Gi(M,m),S),b.push(Py(Gi(M,g),v,c,S));return b}updateRangeFromParsed(e,i,a,l){super.updateRangeFromParsed(e,i,a,l);const r=a._custom;r&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:a,vScale:l}=i,r=this.getParsed(e),c=r._custom,h=Th(c)?"["+c.start+", "+c.end+"]":""+l.getLabelForValue(r[l.axis]);return{label:""+a.getLabelForValue(r[a.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,a,l){const r=l==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),m=h.isHorizontal(),g=this._getRuler(),{sharedOptions:b,includeOptions:S}=this._getSharedOptions(i,l);for(let x=i;x<i+a;x++){const v=this.getParsed(x),M=r||He(v[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(x),w=this._calculateBarIndexPixels(x,g),_=(v._stacks||{})[h.axis],A={horizontal:m,base:M.base,enableBorderRadius:!_||Th(v._custom)||c===_._top||c===_._bottom,x:m?M.head:w.center,y:m?w.center:M.head,height:m?w.size:Math.abs(M.size),width:m?Math.abs(M.size):w.size};S&&(A.options=b||this.resolveDataElementOptions(x,e[x].active?"active":l));const j=A.options||e[x].options;b_(A,j,_,c),v_(A,j,g.ratio),this.updateElement(e[x],x,A,l)}}_getStacks(e,i){const{iScale:a}=this._cachedMeta,l=a.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),r=a.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(i),d=h&&h[a.axis],m=g=>{const b=g._parsed.find(x=>x[a.axis]===d),S=b&&b[g.vScale.axis];if(He(S)||isNaN(S))return!0};for(const g of l)if(!(i!==void 0&&m(g))&&((r===!1||c.indexOf(g.stack)===-1||r===void 0&&g.stack===void 0)&&c.push(g.stack),g.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,a){const l=this._getStacks(e,a),r=i!==void 0?l.indexOf(i):-1;return r===-1?l.length-1:r}_getRuler(){const e=this.options,i=this._cachedMeta,a=i.iScale,l=[];let r,c;for(r=0,c=i.data.length;r<c;++r)l.push(a.getPixelForValue(this.getParsed(r)[a.axis],r));const h=e.barThickness;return{min:h||f_(i),pixels:l,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:a,index:l},options:{base:r,minBarLength:c}}=this,h=r||0,d=this.getParsed(e),m=d._custom,g=Th(m);let b=d[i.axis],S=0,x=a?this.applyStack(i,d,a):b,v,M;x!==b&&(S=x-b,x=b),g&&(b=m.barStart,x=m.barEnd-m.barStart,b!==0&&$n(b)!==$n(m.barEnd)&&(S=0),S+=b);const w=!He(r)&&!g?r:S;let _=i.getPixelForValue(w);if(this.chart.getDataVisibility(e)?v=i.getPixelForValue(S+x):v=_,M=v-_,Math.abs(M)<c){M=g_(M,i,h)*c,b===h&&(_-=M/2);const A=i.getPixelForDecimal(0),j=i.getPixelForDecimal(1),D=Math.min(A,j),N=Math.max(A,j);_=Math.max(Math.min(_,N),D),v=_+M,a&&!g&&(d._stacks[i.axis]._visualValues[l]=i.getValueForPixel(v)-i.getValueForPixel(_))}if(_===i.getPixelForValue(h)){const A=$n(M)*i.getLineWidthForValue(h)/2;_+=A,M-=A}return{size:M,base:_,head:v,center:v+M/2}}_calculateBarIndexPixels(e,i){const a=i.scale,l=this.options,r=l.skipNull,c=ke(l.maxBarThickness,1/0);let h,d;if(i.grouped){const m=r?this._getStackCount(e):i.stackCount,g=l.barThickness==="flex"?m_(e,i,l,m):d_(e,i,l,m),b=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);h=g.start+g.chunk*b+g.chunk/2,d=Math.min(c,g.chunk*g.ratio)}else h=a.getPixelForValue(this.getParsed(e)[a.axis],e),d=Math.min(c,i.min*i.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const e=this._cachedMeta,i=e.vScale,a=e.data,l=a.length;let r=0;for(;r<l;++r)this.getParsed(r)[i.axis]!==null&&!a[r].hidden&&a[r].draw(this._ctx)}}ge(Rr,"id","bar"),ge(Rr,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ge(Rr,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class kr extends Rn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,a,l){const r=super.parsePrimitiveData(e,i,a,l);for(let c=0;c<r.length;c++)r[c]._custom=this.resolveDataElementOptions(c+a).radius;return r}parseArrayData(e,i,a,l){const r=super.parseArrayData(e,i,a,l);for(let c=0;c<r.length;c++){const h=i[a+c];r[c]._custom=ke(h[2],this.resolveDataElementOptions(c+a).radius)}return r}parseObjectData(e,i,a,l){const r=super.parseObjectData(e,i,a,l);for(let c=0;c<r.length;c++){const h=i[a+c];r[c]._custom=ke(h&&h.r&&+h.r,this.resolveDataElementOptions(c+a).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let a=e.length-1;a>=0;--a)i=Math.max(i,e[a].size(this.resolveDataElementOptions(a))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,a=this.chart.data.labels||[],{xScale:l,yScale:r}=i,c=this.getParsed(e),h=l.getLabelForValue(c.x),d=r.getLabelForValue(c.y),m=c._custom;return{label:a[e]||"",value:"("+h+", "+d+(m?", "+m:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,a,l){const r=l==="reset",{iScale:c,vScale:h}=this._cachedMeta,{sharedOptions:d,includeOptions:m}=this._getSharedOptions(i,l),g=c.axis,b=h.axis;for(let S=i;S<i+a;S++){const x=e[S],v=!r&&this.getParsed(S),M={},w=M[g]=r?c.getPixelForDecimal(.5):c.getPixelForValue(v[g]),_=M[b]=r?h.getBasePixel():h.getPixelForValue(v[b]);M.skip=isNaN(w)||isNaN(_),m&&(M.options=d||this.resolveDataElementOptions(S,x.active?"active":l),r&&(M.options.radius=0)),this.updateElement(x,S,M,l)}}resolveDataElementOptions(e,i){const a=this.getParsed(e);let l=super.resolveDataElementOptions(e,i);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const r=l.radius;return i!=="active"&&(l.radius=0),l.radius+=ke(a&&a._custom,r),l}}ge(kr,"id","bubble"),ge(kr,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ge(kr,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function S_(n,e,i){let a=1,l=1,r=0,c=0;if(e<et){const h=n,d=h+e,m=Math.cos(h),g=Math.sin(h),b=Math.cos(d),S=Math.sin(d),x=(j,D,N)=>Ql(j,h,d,!0)?1:Math.max(D,D*i,N,N*i),v=(j,D,N)=>Ql(j,h,d,!0)?-1:Math.min(D,D*i,N,N*i),M=x(0,m,b),w=x(mt,g,S),_=v(tt,m,b),A=v(tt+mt,g,S);a=(M-_)/2,l=(w-A)/2,r=-(M+_)/2,c=-(w+A)/2}return{ratioX:a,ratioY:l,offsetX:r,offsetY:c}}class Ts extends Rn{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const a=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=a;else{let r=d=>+a[d];if(Pe(a[e])){const{key:d="value"}=this._parsing;r=m=>+Gi(a[m],d)}let c,h;for(c=e,h=e+i;c<h;++c)l._parsed[c]=r(c)}}_getRotation(){return Nn(this.options.rotation-90)}_getCircumference(){return Nn(this.options.circumference)}_getRotationExtents(){let e=et,i=-et;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const l=this.chart.getDatasetMeta(a).controller,r=l._getRotation(),c=l._getCircumference();e=Math.min(e,r),i=Math.max(i,r+c)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:a}=i,l=this._cachedMeta,r=l.data,c=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,h=Math.max((Math.min(a.width,a.height)-c)/2,0),d=Math.min(OS(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:g,rotation:b}=this._getRotationExtents(),{ratioX:S,ratioY:x,offsetX:v,offsetY:M}=S_(b,g,d),w=(a.width-c)/S,_=(a.height-c)/x,A=Math.max(Math.min(w,_)/2,0),j=py(this.options.radius,A),D=Math.max(j*d,0),N=(j-D)/this._getVisibleDatasetWeightTotal();this.offsetX=v*j,this.offsetY=M*j,l.total=this.calculateTotal(),this.outerRadius=j-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*m,0),this.updateElements(r,0,r.length,e)}_circumference(e,i){const a=this.options,l=this._cachedMeta,r=this._getCircumference();return i&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||l._parsed[e]===null||l.data[e].hidden?0:this.calculateCircumference(l._parsed[e]*r/et)}updateElements(e,i,a,l){const r=l==="reset",c=this.chart,h=c.chartArea,m=c.options.animation,g=(h.left+h.right)/2,b=(h.top+h.bottom)/2,S=r&&m.animateScale,x=S?0:this.innerRadius,v=S?0:this.outerRadius,{sharedOptions:M,includeOptions:w}=this._getSharedOptions(i,l);let _=this._getRotation(),A;for(A=0;A<i;++A)_+=this._circumference(A,r);for(A=i;A<i+a;++A){const j=this._circumference(A,r),D=e[A],N={x:g+this.offsetX,y:b+this.offsetY,startAngle:_,endAngle:_+j,circumference:j,outerRadius:v,innerRadius:x};w&&(N.options=M||this.resolveDataElementOptions(A,D.active?"active":l)),_+=j,this.updateElement(D,A,N,l)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let a=0,l;for(l=0;l<i.length;l++){const r=e._parsed[l];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(l)&&!i[l].hidden&&(a+=Math.abs(r))}return a}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?et*(Math.abs(e)/i):0}getLabelAndValue(e){const i=this._cachedMeta,a=this.chart,l=a.data.labels||[],r=ao(i._parsed[e],a.options.locale);return{label:l[e]||"",value:r}}getMaxBorderWidth(e){let i=0;const a=this.chart;let l,r,c,h,d;if(!e){for(l=0,r=a.data.datasets.length;l<r;++l)if(a.isDatasetVisible(l)){c=a.getDatasetMeta(l),e=c.data,h=c.controller;break}}if(!e)return 0;for(l=0,r=e.length;l<r;++l)d=h.resolveDataElementOptions(l),d.borderAlign!=="inner"&&(i=Math.max(i,d.borderWidth||0,d.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let a=0,l=e.length;a<l;++a){const r=this.resolveDataElementOptions(a);i=Math.max(i,r.offset||0,r.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(i+=this._getRingWeight(a));return i}_getRingWeight(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ge(Ts,"id","doughnut"),ge(Ts,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ge(Ts,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ge(Ts,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:a,color:l}}=e.legend.options;return i.labels.map((r,c)=>{const d=e.getDatasetMeta(0).controller.getStyle(c);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:l,lineWidth:d.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,i,a){a.chart.toggleDataVisibility(i.index),a.chart.update()}}}});class Ul extends Rn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:a,data:l=[],_dataset:r}=i,c=this.chart._animationsDisabled;let{start:h,count:d}=_y(i,l,c);this._drawStart=h,this._drawCount=d,wy(i)&&(h=0,d=l.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!r._decimated,a.points=l;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(a,void 0,{animated:!c,options:m},e),this.updateElements(l,h,d,e)}updateElements(e,i,a,l){const r=l==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:m}=this._cachedMeta,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(i,l),S=c.axis,x=h.axis,{spanGaps:v,segment:M}=this.options,w=va(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||l==="none",A=i+a,j=e.length;let D=i>0&&this.getParsed(i-1);for(let N=0;N<j;++N){const k=e[N],H=_?k:{};if(N<i||N>=A){H.skip=!0;continue}const O=this.getParsed(N),L=He(O[x]),z=H[S]=c.getPixelForValue(O[S],N),J=H[x]=r||L?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,O,d):O[x],N);H.skip=isNaN(z)||isNaN(J)||L,H.stop=N>0&&Math.abs(O[S]-D[S])>w,M&&(H.parsed=O,H.raw=m.data[N]),b&&(H.options=g||this.resolveDataElementOptions(N,k.active?"active":l)),_||this.updateElement(k,N,H,l),D=O}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,a=i.options&&i.options.borderWidth||0,l=e.data||[];if(!l.length)return a;const r=l[0].size(this.resolveDataElementOptions(0)),c=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(a,r,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ge(Ul,"id","line"),ge(Ul,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ge(Ul,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Wl extends Rn{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const i=this._cachedMeta,a=this.chart,l=a.data.labels||[],r=ao(i._parsed[e].r,a.options.locale);return{label:l[e]||"",value:r}}parseObjectData(e,i,a,l){return Ry.bind(this)(e,i,a,l)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((a,l)=>{const r=this.getParsed(l).r;!isNaN(r)&&this.chart.getDataVisibility(l)&&(r<i.min&&(i.min=r),r>i.max&&(i.max=r))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,a=e.options,l=Math.min(i.right-i.left,i.bottom-i.top),r=Math.max(l/2,0),c=Math.max(a.cutoutPercentage?r/100*a.cutoutPercentage:1,0),h=(r-c)/e.getVisibleDatasetCount();this.outerRadius=r-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(e,i,a,l){const r=l==="reset",c=this.chart,d=c.options.animation,m=this._cachedMeta.rScale,g=m.xCenter,b=m.yCenter,S=m.getIndexAngle(0)-.5*tt;let x=S,v;const M=360/this.countVisibleElements();for(v=0;v<i;++v)x+=this._computeAngle(v,l,M);for(v=i;v<i+a;v++){const w=e[v];let _=x,A=x+this._computeAngle(v,l,M),j=c.getDataVisibility(v)?m.getDistanceFromCenterForValue(this.getParsed(v).r):0;x=A,r&&(d.animateScale&&(j=0),d.animateRotate&&(_=A=S));const D={x:g,y:b,innerRadius:0,outerRadius:j,startAngle:_,endAngle:A,options:this.resolveDataElementOptions(v,w.active?"active":l)};this.updateElement(w,v,D,l)}}countVisibleElements(){const e=this._cachedMeta;let i=0;return e.data.forEach((a,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&i++}),i}_computeAngle(e,i,a){return this.chart.getDataVisibility(e)?Nn(this.resolveDataElementOptions(e,i).angle||a):0}}ge(Wl,"id","polarArea"),ge(Wl,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ge(Wl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:a,color:l}}=e.legend.options;return i.labels.map((r,c)=>{const d=e.getDatasetMeta(0).controller.getStyle(c);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:l,lineWidth:d.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,i,a){a.chart.toggleDataVisibility(i.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Vh extends Ts{}ge(Vh,"id","pie"),ge(Vh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Or extends Rn{getLabelAndValue(e){const i=this._cachedMeta.vScale,a=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(a[i.axis])}}parseObjectData(e,i,a,l){return Ry.bind(this)(e,i,a,l)}update(e){const i=this._cachedMeta,a=i.dataset,l=i.data||[],r=i.iScale.getLabels();if(a.points=l,e!=="resize"){const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0);const h={_loop:!0,_fullLoop:r.length===l.length,options:c};this.updateElement(a,void 0,h,e)}this.updateElements(l,0,l.length,e)}updateElements(e,i,a,l){const r=this._cachedMeta.rScale,c=l==="reset";for(let h=i;h<i+a;h++){const d=e[h],m=this.resolveDataElementOptions(h,d.active?"active":l),g=r.getPointPositionForValue(h,this.getParsed(h).r),b=c?r.xCenter:g.x,S=c?r.yCenter:g.y,x={x:b,y:S,angle:g.angle,skip:isNaN(b)||isNaN(S),options:m};this.updateElement(d,h,x,l)}}}ge(Or,"id","radar"),ge(Or,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ge(Or,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class zr extends Rn{getLabelAndValue(e){const i=this._cachedMeta,a=this.chart.data.labels||[],{xScale:l,yScale:r}=i,c=this.getParsed(e),h=l.getLabelForValue(c.x),d=r.getLabelForValue(c.y);return{label:a[e]||"",value:"("+h+", "+d+")"}}update(e){const i=this._cachedMeta,{data:a=[]}=i,l=this.chart._animationsDisabled;let{start:r,count:c}=_y(i,a,l);if(this._drawStart=r,this._drawCount=c,wy(i)&&(r=0,c=a.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:d}=i;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!d._decimated,h.points=a;const m=this.resolveDatasetElementOptions(e);m.segment=this.options.segment,this.updateElement(h,void 0,{animated:!l,options:m},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(a,r,c,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,a,l){const r=l==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:m}=this._cachedMeta,g=this.resolveDataElementOptions(i,l),b=this.getSharedOptions(g),S=this.includeOptions(l,b),x=c.axis,v=h.axis,{spanGaps:M,segment:w}=this.options,_=va(M)?M:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||r||l==="none";let j=i>0&&this.getParsed(i-1);for(let D=i;D<i+a;++D){const N=e[D],k=this.getParsed(D),H=A?N:{},O=He(k[v]),L=H[x]=c.getPixelForValue(k[x],D),z=H[v]=r||O?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,k,d):k[v],D);H.skip=isNaN(L)||isNaN(z)||O,H.stop=D>0&&Math.abs(k[x]-j[x])>_,w&&(H.parsed=k,H.raw=m.data[D]),S&&(H.options=b||this.resolveDataElementOptions(D,N.active?"active":l)),A||this.updateElement(N,D,H,l),j=k}this.updateSharedOptions(b,l,g)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let h=0;for(let d=i.length-1;d>=0;--d)h=Math.max(h,i[d].size(this.resolveDataElementOptions(d))/2);return h>0&&h}const a=e.dataset,l=a.options&&a.options.borderWidth||0;if(!i.length)return l;const r=i[0].size(this.resolveDataElementOptions(0)),c=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(l,r,c)/2}}ge(zr,"id","scatter"),ge(zr,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ge(zr,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var M_=Object.freeze({__proto__:null,BarController:Rr,BubbleController:kr,DoughnutController:Ts,LineController:Ul,PieController:Vh,PolarAreaController:Wl,RadarController:Or,ScatterController:zr});function vs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sf{constructor(e){ge(this,"options");this.options=e||{}}static override(e){Object.assign(Sf.prototype,e)}init(){}formats(){return vs()}parse(){return vs()}format(){return vs()}add(){return vs()}diff(){return vs()}startOf(){return vs()}endOf(){return vs()}}var __={_date:Sf};function w_(n,e,i,a){const{controller:l,data:r,_sorted:c}=n,h=l._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&r.length){const m=h._reversePixels?GS:pi;if(a){if(l._sharedOptions){const g=r[0],b=typeof g.getRange=="function"&&g.getRange(e);if(b){const S=m(r,e,i-b),x=m(r,e,i+b);return{lo:S.lo,hi:x.hi}}}}else{const g=m(r,e,i);if(d){const{vScale:b}=l._cachedMeta,{_parsed:S}=n,x=S.slice(0,g.lo+1).reverse().findIndex(M=>!He(M[b.axis]));g.lo-=Math.max(0,x);const v=S.slice(g.hi).findIndex(M=>!He(M[b.axis]));g.hi+=Math.max(0,v)}return g}}return{lo:0,hi:r.length-1}}function tc(n,e,i,a,l){const r=n.getSortedVisibleDatasetMetas(),c=i[e];for(let h=0,d=r.length;h<d;++h){const{index:m,data:g}=r[h],{lo:b,hi:S}=w_(r[h],e,c,l);for(let x=b;x<=S;++x){const v=g[x];v.skip||a(v,m,x)}}}function j_(n){const e=n.indexOf("x")!==-1,i=n.indexOf("y")!==-1;return function(a,l){const r=e?Math.abs(a.x-l.x):0,c=i?Math.abs(a.y-l.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(c,2))}}function Ah(n,e,i,a,l){const r=[];return!l&&!n.isPointInArea(e)||tc(n,i,e,function(h,d,m){!l&&!gi(h,n.chartArea,0)||h.inRange(e.x,e.y,a)&&r.push({element:h,datasetIndex:d,index:m})},!0),r}function T_(n,e,i,a){let l=[];function r(c,h,d){const{startAngle:m,endAngle:g}=c.getProps(["startAngle","endAngle"],a),{angle:b}=by(c,{x:e.x,y:e.y});Ql(b,m,g)&&l.push({element:c,datasetIndex:h,index:d})}return tc(n,i,e,r),l}function A_(n,e,i,a,l,r){let c=[];const h=j_(i);let d=Number.POSITIVE_INFINITY;function m(g,b,S){const x=g.inRange(e.x,e.y,l);if(a&&!x)return;const v=g.getCenterPoint(l);if(!(!!r||n.isPointInArea(v))&&!x)return;const w=h(e,v);w<d?(c=[{element:g,datasetIndex:b,index:S}],d=w):w===d&&c.push({element:g,datasetIndex:b,index:S})}return tc(n,i,e,m),c}function Ch(n,e,i,a,l,r){return!r&&!n.isPointInArea(e)?[]:i==="r"&&!a?T_(n,e,i,l):A_(n,e,i,a,l,r)}function Qg(n,e,i,a,l){const r=[],c=i==="x"?"inXRange":"inYRange";let h=!1;return tc(n,i,e,(d,m,g)=>{d[c]&&d[c](e[i],l)&&(r.push({element:d,datasetIndex:m,index:g}),h=h||d.inRange(e.x,e.y,l))}),a&&!h?[]:r}var C_={modes:{index(n,e,i,a){const l=ws(e,n),r=i.axis||"x",c=i.includeInvisible||!1,h=i.intersect?Ah(n,l,r,a,c):Ch(n,l,r,!1,a,c),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const g=h[0].index,b=m.data[g];b&&!b.skip&&d.push({element:b,datasetIndex:m.index,index:g})}),d):[]},dataset(n,e,i,a){const l=ws(e,n),r=i.axis||"xy",c=i.includeInvisible||!1;let h=i.intersect?Ah(n,l,r,a,c):Ch(n,l,r,!1,a,c);if(h.length>0){const d=h[0].datasetIndex,m=n.getDatasetMeta(d).data;h=[];for(let g=0;g<m.length;++g)h.push({element:m[g],datasetIndex:d,index:g})}return h},point(n,e,i,a){const l=ws(e,n),r=i.axis||"xy",c=i.includeInvisible||!1;return Ah(n,l,r,a,c)},nearest(n,e,i,a){const l=ws(e,n),r=i.axis||"xy",c=i.includeInvisible||!1;return Ch(n,l,r,i.intersect,a,c)},x(n,e,i,a){const l=ws(e,n);return Qg(n,l,"x",i.intersect,a)},y(n,e,i,a){const l=ws(e,n);return Qg(n,l,"y",i.intersect,a)}}};const Vy=["left","top","right","bottom"];function Cl(n,e){return n.filter(i=>i.pos===e)}function Zg(n,e){return n.filter(i=>Vy.indexOf(i.pos)===-1&&i.box.axis===e)}function Dl(n,e){return n.sort((i,a)=>{const l=e?a:i,r=e?i:a;return l.weight===r.weight?l.index-r.index:l.weight-r.weight})}function D_(n){const e=[];let i,a,l,r,c,h;for(i=0,a=(n||[]).length;i<a;++i)l=n[i],{position:r,options:{stack:c,stackWeight:h=1}}=l,e.push({index:i,box:l,pos:r,horizontal:l.isHorizontal(),weight:l.weight,stack:c&&r+c,stackWeight:h});return e}function N_(n){const e={};for(const i of n){const{stack:a,pos:l,stackWeight:r}=i;if(!a||!Vy.includes(l))continue;const c=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=r}return e}function E_(n,e){const i=N_(n),{vBoxMaxWidth:a,hBoxMaxHeight:l}=e;let r,c,h;for(r=0,c=n.length;r<c;++r){h=n[r];const{fullSize:d}=h.box,m=i[h.stack],g=m&&h.stackWeight/m.weight;h.horizontal?(h.width=g?g*a:d&&e.availableWidth,h.height=l):(h.width=a,h.height=g?g*l:d&&e.availableHeight)}return i}function R_(n){const e=D_(n),i=Dl(e.filter(m=>m.box.fullSize),!0),a=Dl(Cl(e,"left"),!0),l=Dl(Cl(e,"right")),r=Dl(Cl(e,"top"),!0),c=Dl(Cl(e,"bottom")),h=Zg(e,"x"),d=Zg(e,"y");return{fullSize:i,leftAndTop:a.concat(r),rightAndBottom:l.concat(d).concat(c).concat(h),chartArea:Cl(e,"chartArea"),vertical:a.concat(l).concat(d),horizontal:r.concat(c).concat(h)}}function Kg(n,e,i,a){return Math.max(n[i],e[i])+Math.max(n[a],e[a])}function Uy(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function k_(n,e,i,a){const{pos:l,box:r}=i,c=n.maxPadding;if(!Pe(l)){i.size&&(n[l]-=i.size);const b=a[i.stack]||{size:0,count:1};b.size=Math.max(b.size,i.horizontal?r.height:r.width),i.size=b.size/b.count,n[l]+=i.size}r.getPadding&&Uy(c,r.getPadding());const h=Math.max(0,e.outerWidth-Kg(c,n,"left","right")),d=Math.max(0,e.outerHeight-Kg(c,n,"top","bottom")),m=h!==n.w,g=d!==n.h;return n.w=h,n.h=d,i.horizontal?{same:m,other:g}:{same:g,other:m}}function O_(n){const e=n.maxPadding;function i(a){const l=Math.max(e[a]-n[a],0);return n[a]+=l,l}n.y+=i("top"),n.x+=i("left"),i("right"),i("bottom")}function z_(n,e){const i=e.maxPadding;function a(l){const r={left:0,top:0,right:0,bottom:0};return l.forEach(c=>{r[c]=Math.max(e[c],i[c])}),r}return a(n?["left","right"]:["top","bottom"])}function zl(n,e,i,a){const l=[];let r,c,h,d,m,g;for(r=0,c=n.length,m=0;r<c;++r){h=n[r],d=h.box,d.update(h.width||e.w,h.height||e.h,z_(h.horizontal,e));const{same:b,other:S}=k_(e,i,h,a);m|=b&&l.length,g=g||S,d.fullSize||l.push(h)}return m&&zl(l,e,i,a)||g}function Sr(n,e,i,a,l){n.top=i,n.left=e,n.right=e+a,n.bottom=i+l,n.width=a,n.height=l}function Jg(n,e,i,a){const l=i.padding;let{x:r,y:c}=e;for(const h of n){const d=h.box,m=a[h.stack]||{placed:0,weight:1},g=h.stackWeight/m.weight||1;if(h.horizontal){const b=e.w*g,S=m.size||d.height;Il(m.start)&&(c=m.start),d.fullSize?Sr(d,l.left,c,i.outerWidth-l.right-l.left,S):Sr(d,e.left+m.placed,c,b,S),m.start=c,m.placed+=b,c=d.bottom}else{const b=e.h*g,S=m.size||d.width;Il(m.start)&&(r=m.start),d.fullSize?Sr(d,r,l.top,S,i.outerHeight-l.bottom-l.top):Sr(d,r,e.top+m.placed,S,b),m.start=r,m.placed+=b,r=d.right}}e.x=r,e.y=c}var qt={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(i){e.draw(i)}}]},n.boxes.push(e)},removeBox(n,e){const i=n.boxes?n.boxes.indexOf(e):-1;i!==-1&&n.boxes.splice(i,1)},configure(n,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(n,e,i,a){if(!n)return;const l=Pt(n.options.layout.padding),r=Math.max(e-l.width,0),c=Math.max(i-l.height,0),h=R_(n.boxes),d=h.vertical,m=h.horizontal;Ye(n.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const g=d.reduce((M,w)=>w.box.options&&w.box.options.display===!1?M:M+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:i,padding:l,availableWidth:r,availableHeight:c,vBoxMaxWidth:r/2/g,hBoxMaxHeight:c/2}),S=Object.assign({},l);Uy(S,Pt(a));const x=Object.assign({maxPadding:S,w:r,h:c,x:l.left,y:l.top},l),v=E_(d.concat(m),b);zl(h.fullSize,x,b,v),zl(d,x,b,v),zl(m,x,b,v)&&zl(d,x,b,v),O_(x),Jg(h.leftAndTop,x,b,v),x.x+=x.w,x.y+=x.h,Jg(h.rightAndBottom,x,b,v),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Ye(h.chartArea,M=>{const w=M.box;Object.assign(w,n.chartArea),w.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class Wy{acquireContext(e,i){}releaseContext(e){return!1}addEventListener(e,i,a){}removeEventListener(e,i,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,i,a,l){return i=Math.max(0,i||e.width),a=a||e.height,{width:i,height:Math.max(0,l?Math.floor(i/l):a)}}isAttached(e){return!0}updateConfig(e){}}class L_ extends Wy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Lr="$chartjs",B_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},e0=n=>n===null||n==="";function F_(n,e){const i=n.style,a=n.getAttribute("height"),l=n.getAttribute("width");if(n[Lr]={initial:{height:a,width:l,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",e0(l)){const r=Bg(n,"width");r!==void 0&&(n.width=r)}if(e0(a))if(n.style.height==="")n.height=n.width/(e||2);else{const r=Bg(n,"height");r!==void 0&&(n.height=r)}return n}const $y=qM?{passive:!0}:!1;function H_(n,e,i){n&&n.addEventListener(e,i,$y)}function q_(n,e,i){n&&n.canvas&&n.canvas.removeEventListener(e,i,$y)}function P_(n,e){const i=B_[n.type]||n.type,{x:a,y:l}=ws(n,e);return{type:i,chart:e,native:n,x:a!==void 0?a:null,y:l!==void 0?l:null}}function $r(n,e){for(const i of n)if(i===e||i.contains(e))return!0}function V_(n,e,i){const a=n.canvas,l=new MutationObserver(r=>{let c=!1;for(const h of r)c=c||$r(h.addedNodes,a),c=c&&!$r(h.removedNodes,a);c&&i()});return l.observe(document,{childList:!0,subtree:!0}),l}function U_(n,e,i){const a=n.canvas,l=new MutationObserver(r=>{let c=!1;for(const h of r)c=c||$r(h.removedNodes,a),c=c&&!$r(h.addedNodes,a);c&&i()});return l.observe(document,{childList:!0,subtree:!0}),l}const Kl=new Map;let t0=0;function Yy(){const n=window.devicePixelRatio;n!==t0&&(t0=n,Kl.forEach((e,i)=>{i.currentDevicePixelRatio!==n&&e()}))}function W_(n,e){Kl.size||window.addEventListener("resize",Yy),Kl.set(n,e)}function $_(n){Kl.delete(n),Kl.size||window.removeEventListener("resize",Yy)}function Y_(n,e,i){const a=n.canvas,l=a&&vf(a);if(!l)return;const r=My((h,d)=>{const m=l.clientWidth;i(h,d),m<l.clientWidth&&i()},window),c=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,g=d.contentRect.height;m===0&&g===0||r(m,g)});return c.observe(l),W_(n,r),c}function Dh(n,e,i){i&&i.disconnect(),e==="resize"&&$_(n)}function G_(n,e,i){const a=n.canvas,l=My(r=>{n.ctx!==null&&i(P_(r,n))},n);return H_(a,e,l),l}class X_ extends Wy{acquireContext(e,i){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(F_(e,i),a):null}releaseContext(e){const i=e.canvas;if(!i[Lr])return!1;const a=i[Lr].initial;["height","width"].forEach(r=>{const c=a[r];He(c)?i.removeAttribute(r):i.setAttribute(r,c)});const l=a.style||{};return Object.keys(l).forEach(r=>{i.style[r]=l[r]}),i.width=i.width,delete i[Lr],!0}addEventListener(e,i,a){this.removeEventListener(e,i);const l=e.$proxies||(e.$proxies={}),c={attach:V_,detach:U_,resize:Y_}[i]||G_;l[i]=c(e,i,a)}removeEventListener(e,i){const a=e.$proxies||(e.$proxies={}),l=a[i];if(!l)return;({attach:Dh,detach:Dh,resize:Dh}[i]||q_)(e,i,l),a[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,i,a,l){return HM(e,i,a,l)}isAttached(e){const i=e&&vf(e);return!!(i&&i.isConnected)}}function I_(n){return!xf()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?L_:X_}class On{constructor(){ge(this,"x");ge(this,"y");ge(this,"active",!1);ge(this,"options");ge(this,"$animations")}tooltipPosition(e){const{x:i,y:a}=this.getProps(["x","y"],e);return{x:i,y:a}}hasValue(){return va(this.x)&&va(this.y)}getProps(e,i){const a=this.$animations;if(!i||!a)return this;const l={};return e.forEach(r=>{l[r]=a[r]&&a[r].active()?a[r]._to:this[r]}),l}}ge(On,"defaults",{}),ge(On,"defaultRoutes");function Q_(n,e){const i=n.options.ticks,a=Z_(n),l=Math.min(i.maxTicksLimit||a,a),r=i.major.enabled?J_(e):[],c=r.length,h=r[0],d=r[c-1],m=[];if(c>l)return e2(e,m,r,c/l),m;const g=K_(r,e,l);if(c>0){let b,S;const x=c>1?Math.round((d-h)/(c-1)):null;for(Mr(e,m,g,He(x)?0:h-x,h),b=0,S=c-1;b<S;b++)Mr(e,m,g,r[b],r[b+1]);return Mr(e,m,g,d,He(x)?e.length:d+x),m}return Mr(e,m,g),m}function Z_(n){const e=n.options.offset,i=n._tickSize(),a=n._length/i+(e?0:1),l=n._maxLength/i;return Math.floor(Math.min(a,l))}function K_(n,e,i){const a=t2(n),l=e.length/i;if(!a)return Math.max(l,1);const r=VS(a);for(let c=0,h=r.length-1;c<h;c++){const d=r[c];if(d>l)return d}return Math.max(l,1)}function J_(n){const e=[];let i,a;for(i=0,a=n.length;i<a;i++)n[i].major&&e.push(i);return e}function e2(n,e,i,a){let l=0,r=i[0],c;for(a=Math.ceil(a),c=0;c<n.length;c++)c===r&&(e.push(n[c]),l++,r=i[l*a])}function Mr(n,e,i,a,l){const r=ke(a,0),c=Math.min(ke(l,n.length),n.length);let h=0,d,m,g;for(i=Math.ceil(i),l&&(d=l-a,i=d/Math.floor(d/i)),g=r;g<0;)h++,g=Math.round(r+h*i);for(m=Math.max(r,0);m<c;m++)m===g&&(e.push(n[m]),h++,g=Math.round(r+h*i))}function t2(n){const e=n.length;let i,a;if(e<2)return!1;for(a=n[0],i=1;i<e;++i)if(n[i]-n[i-1]!==a)return!1;return a}const n2=n=>n==="left"?"right":n==="right"?"left":n,n0=(n,e,i)=>e==="top"||e==="left"?n[e]+i:n[e]-i,i0=(n,e)=>Math.min(e||n,n);function s0(n,e){const i=[],a=n.length/e,l=n.length;let r=0;for(;r<l;r+=a)i.push(n[Math.floor(r)]);return i}function i2(n,e,i){const a=n.ticks.length,l=Math.min(e,a-1),r=n._startPixel,c=n._endPixel,h=1e-6;let d=n.getPixelForTick(l),m;if(!(i&&(a===1?m=Math.max(d-r,c-d):e===0?m=(n.getPixelForTick(1)-d)/2:m=(d-n.getPixelForTick(l-1))/2,d+=l<e?m:-m,d<r-h||d>c+h)))return d}function s2(n,e){Ye(n,i=>{const a=i.gc,l=a.length/2;let r;if(l>e){for(r=0;r<l;++r)delete i.data[a[r]];a.splice(0,l)}})}function Nl(n){return n.drawTicks?n.tickLength:0}function a0(n,e){if(!n.display)return 0;const i=Mt(n.font,e),a=Pt(n.padding);return(nt(n.text)?n.text.length:1)*i.lineHeight+a.height}function a2(n,e){return Qi(n,{scale:e,type:"scale"})}function l2(n,e,i){return Qi(n,{tick:i,index:e,type:"tick"})}function o2(n,e,i){let a=df(n);return(i&&e!=="right"||!i&&e==="right")&&(a=n2(a)),a}function r2(n,e,i,a){const{top:l,left:r,bottom:c,right:h,chart:d}=n,{chartArea:m,scales:g}=d;let b=0,S,x,v;const M=c-l,w=h-r;if(n.isHorizontal()){if(x=Ht(a,r,h),Pe(i)){const _=Object.keys(i)[0],A=i[_];v=g[_].getPixelForValue(A)+M-e}else i==="center"?v=(m.bottom+m.top)/2+M-e:v=n0(n,i,e);S=h-r}else{if(Pe(i)){const _=Object.keys(i)[0],A=i[_];x=g[_].getPixelForValue(A)-w+e}else i==="center"?x=(m.left+m.right)/2-w+e:x=n0(n,i,e);v=Ht(a,c,l),b=i==="left"?-mt:mt}return{titleX:x,titleY:v,maxWidth:S,rotation:b}}class Rs extends On{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,i){return e}getUserBounds(){let{_userMin:e,_userMax:i,_suggestedMin:a,_suggestedMax:l}=this;return e=cn(e,Number.POSITIVE_INFINITY),i=cn(i,Number.NEGATIVE_INFINITY),a=cn(a,Number.POSITIVE_INFINITY),l=cn(l,Number.NEGATIVE_INFINITY),{min:cn(e,a),max:cn(i,l),minDefined:ht(e),maxDefined:ht(i)}}getMinMax(e){let{min:i,max:a,minDefined:l,maxDefined:r}=this.getUserBounds(),c;if(l&&r)return{min:i,max:a};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)c=h[d].controller.getMinMax(this,e),l||(i=Math.min(i,c.min)),r||(a=Math.max(a,c.max));return i=r&&i>a?a:i,a=l&&i>a?i:a,{min:cn(i,cn(a,i)),max:cn(a,cn(i,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Je(this.options.beforeUpdate,[this])}update(e,i,a){const{beginAtZero:l,grace:r,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=i,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yM(this,r,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?s0(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Q_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,i,a;this.isHorizontal()?(i=this.left,a=this.right):(i=this.top,a=this.bottom,e=!e),this._startPixel=i,this._endPixel=a,this._reversePixels=e,this._length=a-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Je(this.options.afterUpdate,[this])}beforeSetDimensions(){Je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const i=this.options.ticks;let a,l,r;for(a=0,l=e.length;a<l;a++)r=e[a],r.label=Je(i.callback,[r.value,a,e],this)}afterTickToLabelConversion(){Je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,i=e.ticks,a=i0(this.ticks.length,e.ticks.maxTicksLimit),l=i.minRotation||0,r=i.maxRotation;let c=l,h,d,m;if(!this._isVisible()||!i.display||l>=r||a<=1||!this.isHorizontal()){this.labelRotation=l;return}const g=this._getLabelSizes(),b=g.widest.width,S=g.highest.height,x=Ct(this.chart.width-b,0,this.maxWidth);h=e.offset?this.maxWidth/a:x/(a-1),b+6>h&&(h=x/(a-(e.offset?.5:1)),d=this.maxHeight-Nl(e.grid)-i.padding-a0(e.title,this.chart.options.font),m=Math.sqrt(b*b+S*S),c=hf(Math.min(Math.asin(Ct((g.highest.height+6)/h,-1,1)),Math.asin(Ct(d/m,-1,1))-Math.asin(Ct(S/m,-1,1)))),c=Math.max(l,Math.min(r,c))),this.labelRotation=c}afterCalculateLabelRotation(){Je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:i,options:{ticks:a,title:l,grid:r}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=a0(l,i.options.font);if(h?(e.width=this.maxWidth,e.height=Nl(r)+d):(e.height=this.maxHeight,e.width=Nl(r)+d),a.display&&this.ticks.length){const{first:m,last:g,widest:b,highest:S}=this._getLabelSizes(),x=a.padding*2,v=Nn(this.labelRotation),M=Math.cos(v),w=Math.sin(v);if(h){const _=a.mirror?0:w*b.width+M*S.height;e.height=Math.min(this.maxHeight,e.height+_+x)}else{const _=a.mirror?0:M*b.width+w*S.height;e.width=Math.min(this.maxWidth,e.width+_+x)}this._calculatePadding(m,g,w,M)}}this._handleMargins(),h?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,i,a,l){const{ticks:{align:r,padding:c},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let S=0,x=0;d?m?(S=l*e.width,x=a*i.height):(S=a*e.height,x=l*i.width):r==="start"?x=i.width:r==="end"?S=e.width:r!=="inner"&&(S=e.width/2,x=i.width/2),this.paddingLeft=Math.max((S-g+c)*this.width/(this.width-g),0),this.paddingRight=Math.max((x-b+c)*this.width/(this.width-b),0)}else{let g=i.height/2,b=e.height/2;r==="start"?(g=0,b=e.height):r==="end"&&(g=i.height,b=0),this.paddingTop=g+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:i}=this.options;return i==="top"||i==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let i,a;for(i=0,a=e.length;i<a;i++)He(e[i].label)&&(e.splice(i,1),a--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const i=this.options.ticks.sampleSize;let a=this.ticks;i<a.length&&(a=s0(a,i)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,i,a){const{ctx:l,_longestTextCache:r}=this,c=[],h=[],d=Math.floor(i/i0(i,a));let m=0,g=0,b,S,x,v,M,w,_,A,j,D,N;for(b=0;b<i;b+=d){if(v=e[b].label,M=this._resolveTickFontOptions(b),l.font=w=M.string,_=r[w]=r[w]||{data:{},gc:[]},A=M.lineHeight,j=D=0,!He(v)&&!nt(v))j=Ur(l,_.data,_.gc,j,v),D=A;else if(nt(v))for(S=0,x=v.length;S<x;++S)N=v[S],!He(N)&&!nt(N)&&(j=Ur(l,_.data,_.gc,j,N),D+=A);c.push(j),h.push(D),m=Math.max(j,m),g=Math.max(D,g)}s2(r,i);const k=c.indexOf(m),H=h.indexOf(g),O=L=>({width:c[L]||0,height:h[L]||0});return{first:O(0),last:O(i-1),widest:O(k),highest:O(H),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,i){return NaN}getValueForPixel(e){}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const i=this._startPixel+e*this._length;return YS(this._alignToPixels?xs(this.chart,i,0):i)}getDecimalForPixel(e){const i=(e-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:i}=this;return e<0&&i<0?i:e>0&&i>0?e:0}getContext(e){const i=this.ticks||[];if(e>=0&&e<i.length){const a=i[e];return a.$context||(a.$context=l2(this.getContext(),e,a))}return this.$context||(this.$context=a2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,i=Nn(this.labelRotation),a=Math.abs(Math.cos(i)),l=Math.abs(Math.sin(i)),r=this._getLabelSizes(),c=e.autoSkipPadding||0,h=r?r.widest.width+c:0,d=r?r.highest.height+c:0;return this.isHorizontal()?d*a>h*l?h/a:d/l:d*l<h*a?d/a:h/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const i=this.axis,a=this.chart,l=this.options,{grid:r,position:c,border:h}=l,d=r.offset,m=this.isHorizontal(),b=this.ticks.length+(d?1:0),S=Nl(r),x=[],v=h.setContext(this.getContext()),M=v.display?v.width:0,w=M/2,_=function(P){return xs(a,P,M)};let A,j,D,N,k,H,O,L,z,J,$,q;if(c==="top")A=_(this.bottom),H=this.bottom-S,L=A-w,J=_(e.top)+w,q=e.bottom;else if(c==="bottom")A=_(this.top),J=e.top,q=_(e.bottom)-w,H=A+w,L=this.top+S;else if(c==="left")A=_(this.right),k=this.right-S,O=A-w,z=_(e.left)+w,$=e.right;else if(c==="right")A=_(this.left),z=e.left,$=_(e.right)-w,k=A+w,O=this.left+S;else if(i==="x"){if(c==="center")A=_((e.top+e.bottom)/2+.5);else if(Pe(c)){const P=Object.keys(c)[0],te=c[P];A=_(this.chart.scales[P].getPixelForValue(te))}J=e.top,q=e.bottom,H=A+w,L=H+S}else if(i==="y"){if(c==="center")A=_((e.left+e.right)/2);else if(Pe(c)){const P=Object.keys(c)[0],te=c[P];A=_(this.chart.scales[P].getPixelForValue(te))}k=A-w,O=k-S,z=e.left,$=e.right}const ee=ke(l.ticks.maxTicksLimit,b),W=Math.max(1,Math.ceil(b/ee));for(j=0;j<b;j+=W){const P=this.getContext(j),te=r.setContext(P),V=h.setContext(P),U=te.lineWidth,R=te.color,Q=V.dash||[],B=V.dashOffset,G=te.tickWidth,K=te.tickColor,I=te.tickBorderDash||[],Y=te.tickBorderDashOffset;D=i2(this,j,d),D!==void 0&&(N=xs(a,D,U),m?k=O=z=$=N:H=L=J=q=N,x.push({tx1:k,ty1:H,tx2:O,ty2:L,x1:z,y1:J,x2:$,y2:q,width:U,color:R,borderDash:Q,borderDashOffset:B,tickWidth:G,tickColor:K,tickBorderDash:I,tickBorderDashOffset:Y}))}return this._ticksLength=b,this._borderValue=A,x}_computeLabelItems(e){const i=this.axis,a=this.options,{position:l,ticks:r}=a,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:g,mirror:b}=r,S=Nl(a.grid),x=S+g,v=b?-g:x,M=-Nn(this.labelRotation),w=[];let _,A,j,D,N,k,H,O,L,z,J,$,q="middle";if(l==="top")k=this.bottom-v,H=this._getXAxisLabelAlignment();else if(l==="bottom")k=this.top+v,H=this._getXAxisLabelAlignment();else if(l==="left"){const W=this._getYAxisLabelAlignment(S);H=W.textAlign,N=W.x}else if(l==="right"){const W=this._getYAxisLabelAlignment(S);H=W.textAlign,N=W.x}else if(i==="x"){if(l==="center")k=(e.top+e.bottom)/2+x;else if(Pe(l)){const W=Object.keys(l)[0],P=l[W];k=this.chart.scales[W].getPixelForValue(P)+x}H=this._getXAxisLabelAlignment()}else if(i==="y"){if(l==="center")N=(e.left+e.right)/2-x;else if(Pe(l)){const W=Object.keys(l)[0],P=l[W];N=this.chart.scales[W].getPixelForValue(P)}H=this._getYAxisLabelAlignment(S).textAlign}i==="y"&&(d==="start"?q="top":d==="end"&&(q="bottom"));const ee=this._getLabelSizes();for(_=0,A=h.length;_<A;++_){j=h[_],D=j.label;const W=r.setContext(this.getContext(_));O=this.getPixelForTick(_)+r.labelOffset,L=this._resolveTickFontOptions(_),z=L.lineHeight,J=nt(D)?D.length:1;const P=J/2,te=W.color,V=W.textStrokeColor,U=W.textStrokeWidth;let R=H;c?(N=O,H==="inner"&&(_===A-1?R=this.options.reverse?"left":"right":_===0?R=this.options.reverse?"right":"left":R="center"),l==="top"?m==="near"||M!==0?$=-J*z+z/2:m==="center"?$=-ee.highest.height/2-P*z+z:$=-ee.highest.height+z/2:m==="near"||M!==0?$=z/2:m==="center"?$=ee.highest.height/2-P*z:$=ee.highest.height-J*z,b&&($*=-1),M!==0&&!W.showLabelBackdrop&&(N+=z/2*Math.sin(M))):(k=O,$=(1-J)*z/2);let Q;if(W.showLabelBackdrop){const B=Pt(W.backdropPadding),G=ee.heights[_],K=ee.widths[_];let I=$-B.top,Y=0-B.left;switch(q){case"middle":I-=G/2;break;case"bottom":I-=G;break}switch(H){case"center":Y-=K/2;break;case"right":Y-=K;break;case"inner":_===A-1?Y-=K:_>0&&(Y-=K/2);break}Q={left:Y,top:I,width:K+B.width,height:G+B.height,color:W.backdropColor}}w.push({label:D,font:L,textOffset:$,options:{rotation:M,color:te,strokeColor:V,strokeWidth:U,textAlign:R,textBaseline:q,translation:[N,k],backdrop:Q}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:i}=this.options;if(-Nn(this.labelRotation))return e==="top"?"left":"right";let l="center";return i.align==="start"?l="left":i.align==="end"?l="right":i.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:i,ticks:{crossAlign:a,mirror:l,padding:r}}=this.options,c=this._getLabelSizes(),h=e+r,d=c.widest.width;let m,g;return i==="left"?l?(g=this.right+r,a==="near"?m="left":a==="center"?(m="center",g+=d/2):(m="right",g+=d)):(g=this.right-h,a==="near"?m="right":a==="center"?(m="center",g-=d/2):(m="left",g=this.left)):i==="right"?l?(g=this.left+r,a==="near"?m="right":a==="center"?(m="center",g-=d/2):(m="left",g-=d)):(g=this.left+h,a==="near"?m="left":a==="center"?(m="center",g+=d/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:i},left:a,top:l,width:r,height:c}=this;i&&(e.save(),e.fillStyle=i,e.fillRect(a,l,r,c),e.restore())}getLineWidthForValue(e){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const l=this.ticks.findIndex(r=>r.value===e);return l>=0?i.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const i=this.options.grid,a=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,c;const h=(d,m,g)=>{!g.width||!g.color||(a.save(),a.lineWidth=g.width,a.strokeStyle=g.color,a.setLineDash(g.borderDash||[]),a.lineDashOffset=g.borderDashOffset,a.beginPath(),a.moveTo(d.x,d.y),a.lineTo(m.x,m.y),a.stroke(),a.restore())};if(i.display)for(r=0,c=l.length;r<c;++r){const d=l[r];i.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),i.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:i,options:{border:a,grid:l}}=this,r=a.setContext(this.getContext()),c=a.display?r.width:0;if(!c)return;const h=l.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,g,b,S;this.isHorizontal()?(m=xs(e,this.left,c)-c/2,g=xs(e,this.right,h)+h/2,b=S=d):(b=xs(e,this.top,c)-c/2,S=xs(e,this.bottom,h)+h/2,m=g=d),i.save(),i.lineWidth=r.width,i.strokeStyle=r.color,i.beginPath(),i.moveTo(m,b),i.lineTo(g,S),i.stroke(),i.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,l=this._computeLabelArea();l&&Kr(a,l);const r=this.getLabelItems(e);for(const c of r){const h=c.options,d=c.font,m=c.label,g=c.textOffset;Es(a,m,0,g,d,h)}l&&Jr(a)}drawTitle(){const{ctx:e,options:{position:i,title:a,reverse:l}}=this;if(!a.display)return;const r=Mt(a.font),c=Pt(a.padding),h=a.align;let d=r.lineHeight/2;i==="bottom"||i==="center"||Pe(i)?(d+=c.bottom,nt(a.text)&&(d+=r.lineHeight*(a.text.length-1))):d+=c.top;const{titleX:m,titleY:g,maxWidth:b,rotation:S}=r2(this,d,i,h);Es(e,a.text,0,0,r,{color:a.color,maxWidth:b,rotation:S,textAlign:o2(h,i,l),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,i=e.ticks&&e.ticks.z||0,a=ke(e.grid&&e.grid.z,-1),l=ke(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Rs.prototype.draw?[{z:i,draw:r=>{this.draw(r)}}]:[{z:a,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:i,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const i=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",l=[];let r,c;for(r=0,c=i.length;r<c;++r){const h=i[r];h[a]===this.id&&(!e||h.type===e)&&l.push(h)}return l}_resolveTickFontOptions(e){const i=this.options.ticks.setContext(this.getContext(e));return Mt(i.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class _r{constructor(e,i,a){this.type=e,this.scope=i,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const i=Object.getPrototypeOf(e);let a;h2(i)&&(a=this.register(i));const l=this.items,r=e.id,c=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in l||(l[r]=e,c2(e,c,a),this.override&&it.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const i=this.items,a=e.id,l=this.scope;a in i&&delete i[a],l&&a in it[l]&&(delete it[l][a],this.override&&delete Ns[a])}}function c2(n,e,i){const a=Xl(Object.create(null),[i?it.get(i):{},it.get(e),n.defaults]);it.set(e,a),n.defaultRoutes&&u2(e,n.defaultRoutes),n.descriptors&&it.describe(e,n.descriptors)}function u2(n,e){Object.keys(e).forEach(i=>{const a=i.split("."),l=a.pop(),r=[n].concat(a).join("."),c=e[i].split("."),h=c.pop(),d=c.join(".");it.route(r,l,d,h)})}function h2(n){return"id"in n&&"defaults"in n}class f2{constructor(){this.controllers=new _r(Rn,"datasets",!0),this.elements=new _r(On,"elements"),this.plugins=new _r(Object,"plugins"),this.scales=new _r(Rs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,i,a){[...i].forEach(l=>{const r=a||this._getRegistryForType(l);a||r.isForType(l)||r===this.plugins&&l.id?this._exec(e,r,l):Ye(l,c=>{const h=a||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,i,a){const l=uf(e);Je(a["before"+l],[],a),i[e](a),Je(a["after"+l],[],a)}_getRegistryForType(e){for(let i=0;i<this._typedRegistries.length;i++){const a=this._typedRegistries[i];if(a.isForType(e))return a}return this.plugins}_get(e,i,a){const l=i.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return l}}var Wn=new f2;class d2{constructor(){this._init=[]}notify(e,i,a,l){i==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=l?this._descriptors(e).filter(l):this._descriptors(e),c=this._notify(r,e,i,a);return i==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,i,a,l){l=l||{};for(const r of e){const c=r.plugin,h=c[a],d=[i,l,r.options];if(Je(h,d,c)===!1&&l.cancelable)return!1}return!0}invalidate(){He(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),i}_createDescriptors(e,i){const a=e&&e.config,l=ke(a.options&&a.options.plugins,{}),r=m2(a);return l===!1&&!i?[]:g2(e,r,l,i)}_notifyStateChanges(e){const i=this._oldCache||[],a=this._cache,l=(r,c)=>r.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(l(i,a),e,"stop"),this._notify(l(a,i),e,"start")}}function m2(n){const e={},i=[],a=Object.keys(Wn.plugins.items);for(let r=0;r<a.length;r++)i.push(Wn.getPlugin(a[r]));const l=n.plugins||[];for(let r=0;r<l.length;r++){const c=l[r];i.indexOf(c)===-1&&(i.push(c),e[c.id]=!0)}return{plugins:i,localIds:e}}function p2(n,e){return!e&&n===!1?null:n===!0?{}:n}function g2(n,{plugins:e,localIds:i},a,l){const r=[],c=n.getContext();for(const h of e){const d=h.id,m=p2(a[d],l);m!==null&&r.push({plugin:h,options:y2(n.config,{plugin:h,local:i[d]},m,c)})}return r}function y2(n,{plugin:e,local:i},a,l){const r=n.pluginScopeKeys(e),c=n.getOptionScopes(a,r);return i&&e.defaults&&c.push(e.defaults),n.createResolver(c,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Uh(n,e){const i=it.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function b2(n,e){let i=n;return n==="_index_"?i=e:n==="_value_"&&(i=e==="x"?"y":"x"),i}function x2(n,e){return n===e?"_index_":"_value_"}function l0(n){if(n==="x"||n==="y"||n==="r")return n}function v2(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Wh(n,...e){if(l0(n))return n;for(const i of e){const a=i.axis||v2(i.position)||n.length>1&&l0(n[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function o0(n,e,i){if(i[e+"AxisID"]===n)return{axis:e}}function S2(n,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter(a=>a.xAxisID===n||a.yAxisID===n);if(i.length)return o0(n,"x",i[0])||o0(n,"y",i[0])}return{}}function M2(n,e){const i=Ns[n.type]||{scales:{}},a=e.scales||{},l=Uh(n.type,e),r=Object.create(null);return Object.keys(a).forEach(c=>{const h=a[c];if(!Pe(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Wh(c,h,S2(c,n),it.scales[h.type]),m=x2(d,l),g=i.scales||{};r[c]=Hl(Object.create(null),[{axis:d},h,g[d],g[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,d=c.indexAxis||Uh(h,e),g=(Ns[h]||{}).scales||{};Object.keys(g).forEach(b=>{const S=b2(b,d),x=c[S+"AxisID"]||S;r[x]=r[x]||Object.create(null),Hl(r[x],[{axis:S},a[x],g[b]])})}),Object.keys(r).forEach(c=>{const h=r[c];Hl(h,[it.scales[h.type],it.scale])}),r}function Gy(n){const e=n.options||(n.options={});e.plugins=ke(e.plugins,{}),e.scales=M2(n,e)}function Xy(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function _2(n){return n=n||{},n.data=Xy(n.data),Gy(n),n}const r0=new Map,Iy=new Set;function wr(n,e){let i=r0.get(n);return i||(i=e(),r0.set(n,i),Iy.add(i)),i}const El=(n,e,i)=>{const a=Gi(e,i);a!==void 0&&n.add(a)};class w2{constructor(e){this._config=_2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Xy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Gy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return wr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,i){return wr(`${e}.transition.${i}`,()=>[[`datasets.${e}.transitions.${i}`,`transitions.${i}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,i){return wr(`${e}-${i}`,()=>[[`datasets.${e}.elements.${i}`,`datasets.${e}`,`elements.${i}`,""]])}pluginScopeKeys(e){const i=e.id,a=this.type;return wr(`${a}-plugin-${i}`,()=>[[`plugins.${i}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,i){const a=this._scopeCache;let l=a.get(e);return(!l||i)&&(l=new Map,a.set(e,l)),l}getOptionScopes(e,i,a){const{options:l,type:r}=this,c=this._cachedScopes(e,a),h=c.get(i);if(h)return h;const d=new Set;i.forEach(g=>{e&&(d.add(e),g.forEach(b=>El(d,e,b))),g.forEach(b=>El(d,l,b)),g.forEach(b=>El(d,Ns[r]||{},b)),g.forEach(b=>El(d,it,b)),g.forEach(b=>El(d,qh,b))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),Iy.has(i)&&c.set(i,m),m}chartOptionScopes(){const{options:e,type:i}=this;return[e,Ns[i]||{},it.datasets[i]||{},{type:i},it,qh]}resolveNamedOptions(e,i,a,l=[""]){const r={$shared:!0},{resolver:c,subPrefixes:h}=c0(this._resolverCache,e,l);let d=c;if(T2(c,i)){r.$shared=!1,a=Xi(a)?a():a;const m=this.createResolver(e,a,h);d=Sa(c,a,m)}for(const m of i)r[m]=d[m];return r}createResolver(e,i,a=[""],l){const{resolver:r}=c0(this._resolverCache,e,a);return Pe(i)?Sa(r,i,void 0,l):r}}function c0(n,e,i){let a=n.get(e);a||(a=new Map,n.set(e,a));const l=i.join();let r=a.get(l);return r||(r={resolver:gf(e,i),subPrefixes:i.filter(h=>!h.toLowerCase().includes("hover"))},a.set(l,r)),r}const j2=n=>Pe(n)&&Object.getOwnPropertyNames(n).some(e=>Xi(n[e]));function T2(n,e){const{isScriptable:i,isIndexable:a}=Cy(n);for(const l of e){const r=i(l),c=a(l),h=(c||r)&&n[l];if(r&&(Xi(h)||j2(h))||c&&nt(h))return!0}return!1}var A2="4.4.8";const C2=["top","bottom","left","right","chartArea"];function u0(n,e){return n==="top"||n==="bottom"||C2.indexOf(n)===-1&&e==="x"}function h0(n,e){return function(i,a){return i[n]===a[n]?i[e]-a[e]:i[n]-a[n]}}function f0(n){const e=n.chart,i=e.options.animation;e.notifyPlugins("afterRender"),Je(i&&i.onComplete,[n],e)}function D2(n){const e=n.chart,i=e.options.animation;Je(i&&i.onProgress,[n],e)}function Qy(n){return xf()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Br={},d0=n=>{const e=Qy(n);return Object.values(Br).filter(i=>i.canvas===e).pop()};function N2(n,e,i){const a=Object.keys(n);for(const l of a){const r=+l;if(r>=e){const c=n[l];delete n[l],(i>0||r>e)&&(n[r+i]=c)}}}function E2(n,e,i,a){return!i||n.type==="mouseout"?null:a?e:n}function jr(n,e,i){return n.options.clip?n[i]:e[i]}function R2(n,e){const{xScale:i,yScale:a}=n;return i&&a?{left:jr(i,e,"left"),right:jr(i,e,"right"),top:jr(a,e,"top"),bottom:jr(a,e,"bottom")}:e}var Vi;let ks=(Vi=class{static register(...e){Wn.add(...e),m0()}static unregister(...e){Wn.remove(...e),m0()}constructor(e,i){const a=this.config=new w2(i),l=Qy(e),r=d0(l);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const c=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||I_(l)),this.platform.updateConfig(a);const h=this.platform.acquireContext(l,c.aspectRatio),d=h&&h.canvas,m=d&&d.height,g=d&&d.width;if(this.id=kS(),this.ctx=h,this.canvas=d,this.width=g,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new d2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=QS(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],Br[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}hi.listen(this,"complete",f0),hi.listen(this,"progress",D2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:a,height:l,_aspectRatio:r}=this;return He(e)?i&&r?r:l?a/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Lg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kg(this.canvas,this.ctx),this}stop(){return hi.stop(this),this}resize(e,i){hi.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const a=this.options,l=this.canvas,r=a.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(l,e,i,r),h=a.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Lg(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Je(a.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};Ye(i,(a,l)=>{a.id=l})}buildOrUpdateScales(){const e=this.options,i=e.scales,a=this.scales,l=Object.keys(a).reduce((c,h)=>(c[h]=!1,c),{});let r=[];i&&(r=r.concat(Object.keys(i).map(c=>{const h=i[c],d=Wh(c,h),m=d==="r",g=d==="x";return{options:h,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),Ye(r,c=>{const h=c.options,d=h.id,m=Wh(d,h),g=ke(h.type,c.dtype);(h.position===void 0||u0(h.position,m)!==u0(c.dposition))&&(h.position=c.dposition),l[d]=!0;let b=null;if(d in a&&a[d].type===g)b=a[d];else{const S=Wn.getScale(g);b=new S({id:d,type:g,ctx:this.ctx,chart:this}),a[b.id]=b}b.init(h,e)}),Ye(l,(c,h)=>{c||delete a[h]}),Ye(a,c=>{qt.configure(this,c,c.options),qt.addBox(this,c)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,a=e.length;if(e.sort((l,r)=>l.index-r.index),a>i){for(let l=i;l<a;++l)this._destroyDatasetMeta(l);e.splice(i,a-i)}this._sortedMetasets=e.slice(0).sort(h0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((a,l)=>{i.filter(r=>r===a._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let a,l;for(this._removeUnreferencedMetasets(),a=0,l=i.length;a<l;a++){const r=i[a];let c=this.getDatasetMeta(a);const h=r.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(a),c=this.getDatasetMeta(a)),c.type=h,c.indexAxis=r.indexAxis||Uh(h,this.options),c.order=r.order||0,c.index=a,c.label=""+r.label,c.visible=this.isDatasetVisible(a),c.controller)c.controller.updateIndex(a),c.controller.linkScales();else{const d=Wn.getController(h),{datasetElementType:m,dataElementType:g}=it.datasets[h];Object.assign(d,{dataElementType:Wn.getElement(g),datasetElementType:m&&Wn.getElement(m)}),c.controller=new d(this,a),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Ye(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const a=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:b}=this.getDatasetMeta(m),S=!l&&r.indexOf(b)===-1;b.buildOrUpdateElements(S),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=a.layout.autoPadding?c:0,this._updateLayout(c),l||Ye(r,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(h0("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Ye(this.scales,e=>{qt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!wg(i,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:a,start:l,count:r}of i){const c=a==="_removeElements"?-r:r;N2(e,l,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,a=r=>new Set(e.filter(c=>c[0]===r).map((c,h)=>h+","+c.splice(1).join(","))),l=a(0);for(let r=1;r<i;r++)if(!wg(l,a(r)))return;return Array.from(l).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qt.update(this,this.width,this.height,e);const i=this.chartArea,a=i.width<=0||i.height<=0;this._layers=[],Ye(this.boxes,l=>{a&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,r)=>{l._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,a=this.data.datasets.length;i<a;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,a=this.data.datasets.length;i<a;++i)this._updateDataset(i,Xi(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const a=this.getDatasetMeta(e),l={meta:a,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(a.controller._update(i),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(hi.has(this)?this.attached&&!hi.running(this)&&hi.start(this):(this.draw(),f0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,a=[];let l,r;for(l=0,r=i.length;l<r;++l){const c=i[l];(!e||c.visible)&&a.push(c)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,a=e._clip,l=!a.disabled,r=R2(e,this.chartArea),c={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",c)!==!1&&(l&&Kr(i,{left:a.left===!1?0:r.left-a.left,right:a.right===!1?this.width:r.right+a.right,top:a.top===!1?0:r.top-a.top,bottom:a.bottom===!1?this.height:r.bottom+a.bottom}),e.controller.draw(),l&&Jr(i),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(e){return gi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,a,l){const r=C_.modes[i];return typeof r=="function"?r(this,e,a,l):[]}getDatasetMeta(e){const i=this.data.datasets[e],a=this._metasets;let l=a.filter(r=>r&&r._dataset===i).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},a.push(l)),l}getContext(){return this.$context||(this.$context=Qi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!i.hidden}setDatasetVisibility(e,i){const a=this.getDatasetMeta(e);a.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,a){const l=a?"show":"hide",r=this.getDatasetMeta(e),c=r.controller._resolveAnimations(void 0,l);Il(i)?(r.data[i].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),c.update(r,{visible:a}),this.update(h=>h.datasetIndex===e?l:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),hi.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),kg(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Br[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,a=(r,c)=>{i.addEventListener(this,r,c),e[r]=c},l=(r,c,h)=>{r.offsetX=c,r.offsetY=h,this._eventHandler(r)};Ye(this.options.events,r=>a(r,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,a=(d,m)=>{i.addEventListener(this,d,m),e[d]=m},l=(d,m)=>{e[d]&&(i.removeEventListener(this,d,m),delete e[d])},r=(d,m)=>{this.canvas&&this.resize(d,m)};let c;const h=()=>{l("attach",h),this.attached=!0,this.resize(),a("resize",r),a("detach",c)};c=()=>{this.attached=!1,l("resize",r),this._stop(),this._resize(0,0),a("attach",h)},i.isAttached(this.canvas)?h():c()}unbindEvents(){Ye(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Ye(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,a){const l=a?"set":"remove";let r,c,h,d;for(i==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+l+"DatasetHoverStyle"]()),h=0,d=e.length;h<d;++h){c=e[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[l+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],a=e.map(({datasetIndex:r,index:c})=>{const h=this.getDatasetMeta(r);if(!h)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:h.data[c],index:c}});!qr(a,i)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,i))}notifyPlugins(e,i,a){return this._plugins.notify(this,e,i,a)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,a){const l=this.options.hover,r=(d,m)=>d.filter(g=>!m.some(b=>g.datasetIndex===b.datasetIndex&&g.index===b.index)),c=r(i,e),h=a?e:r(e,i);c.length&&this.updateHoverStyle(c,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(e,i){const a={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},l=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,l)===!1)return;const r=this._handleEvent(e,i,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,l),(r||a.changed)&&this.render(),this}_handleEvent(e,i,a){const{_active:l=[],options:r}=this,c=i,h=this._getActiveElements(e,l,a,c),d=HS(e),m=E2(e,this._lastEvent,a,d);a&&(this._lastEvent=null,Je(r.onHover,[e,h,this],this),d&&Je(r.onClick,[e,h,this],this));const g=!qr(h,l);return(g||i)&&(this._active=h,this._updateHoverStyles(h,l,i)),this._lastEvent=m,g}_getActiveElements(e,i,a,l){if(e.type==="mouseout")return[];if(!a)return i;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,l)}},ge(Vi,"defaults",it),ge(Vi,"instances",Br),ge(Vi,"overrides",Ns),ge(Vi,"registry",Wn),ge(Vi,"version",A2),ge(Vi,"getChart",d0),Vi);function m0(){return Ye(ks.instances,n=>n._plugins.invalidate())}function k2(n,e,i){const{startAngle:a,pixelMargin:l,x:r,y:c,outerRadius:h,innerRadius:d}=e;let m=l/h;n.beginPath(),n.arc(r,c,h,a-m,i+m),d>l?(m=l/d,n.arc(r,c,d,i+m,a-m,!0)):n.arc(r,c,l,i+mt,a-mt),n.closePath(),n.clip()}function O2(n){return pf(n,["outerStart","outerEnd","innerStart","innerEnd"])}function z2(n,e,i,a){const l=O2(n.options.borderRadius),r=(i-e)/2,c=Math.min(r,a*e/2),h=d=>{const m=(i-Math.min(r,d))*a/2;return Ct(d,0,Math.min(r,m))};return{outerStart:h(l.outerStart),outerEnd:h(l.outerEnd),innerStart:Ct(l.innerStart,0,c),innerEnd:Ct(l.innerEnd,0,c)}}function ya(n,e,i,a){return{x:i+n*Math.cos(e),y:a+n*Math.sin(e)}}function Yr(n,e,i,a,l,r){const{x:c,y:h,startAngle:d,pixelMargin:m,innerRadius:g}=e,b=Math.max(e.outerRadius+a+i-m,0),S=g>0?g+a+i+m:0;let x=0;const v=l-d;if(a){const W=g>0?g-a:0,P=b>0?b-a:0,te=(W+P)/2,V=te!==0?v*te/(te+a):v;x=(v-V)/2}const M=Math.max(.001,v*b-i/tt)/b,w=(v-M)/2,_=d+w+x,A=l-w-x,{outerStart:j,outerEnd:D,innerStart:N,innerEnd:k}=z2(e,S,b,A-_),H=b-j,O=b-D,L=_+j/H,z=A-D/O,J=S+N,$=S+k,q=_+N/J,ee=A-k/$;if(n.beginPath(),r){const W=(L+z)/2;if(n.arc(c,h,b,L,W),n.arc(c,h,b,W,z),D>0){const U=ya(O,z,c,h);n.arc(U.x,U.y,D,z,A+mt)}const P=ya($,A,c,h);if(n.lineTo(P.x,P.y),k>0){const U=ya($,ee,c,h);n.arc(U.x,U.y,k,A+mt,ee+Math.PI)}const te=(A-k/S+(_+N/S))/2;if(n.arc(c,h,S,A-k/S,te,!0),n.arc(c,h,S,te,_+N/S,!0),N>0){const U=ya(J,q,c,h);n.arc(U.x,U.y,N,q+Math.PI,_-mt)}const V=ya(H,_,c,h);if(n.lineTo(V.x,V.y),j>0){const U=ya(H,L,c,h);n.arc(U.x,U.y,j,_-mt,L)}}else{n.moveTo(c,h);const W=Math.cos(L)*b+c,P=Math.sin(L)*b+h;n.lineTo(W,P);const te=Math.cos(z)*b+c,V=Math.sin(z)*b+h;n.lineTo(te,V)}n.closePath()}function L2(n,e,i,a,l){const{fullCircles:r,startAngle:c,circumference:h}=e;let d=e.endAngle;if(r){Yr(n,e,i,a,d,l);for(let m=0;m<r;++m)n.fill();isNaN(h)||(d=c+(h%et||et))}return Yr(n,e,i,a,d,l),n.fill(),d}function B2(n,e,i,a,l){const{fullCircles:r,startAngle:c,circumference:h,options:d}=e,{borderWidth:m,borderJoinStyle:g,borderDash:b,borderDashOffset:S}=d,x=d.borderAlign==="inner";if(!m)return;n.setLineDash(b||[]),n.lineDashOffset=S,x?(n.lineWidth=m*2,n.lineJoin=g||"round"):(n.lineWidth=m,n.lineJoin=g||"bevel");let v=e.endAngle;if(r){Yr(n,e,i,a,v,l);for(let M=0;M<r;++M)n.stroke();isNaN(h)||(v=c+(h%et||et))}x&&k2(n,e,v),r||(Yr(n,e,i,a,v,l),n.stroke())}class Ll extends On{constructor(i){super();ge(this,"circumference");ge(this,"endAngle");ge(this,"fullCircles");ge(this,"innerRadius");ge(this,"outerRadius");ge(this,"pixelMargin");ge(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,a,l){const r=this.getProps(["x","y"],l),{angle:c,distance:h}=by(r,{x:i,y:a}),{startAngle:d,endAngle:m,innerRadius:g,outerRadius:b,circumference:S}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],l),x=(this.options.spacing+this.options.borderWidth)/2,v=ke(S,m-d),M=Ql(c,d,m)&&d!==m,w=v>=et||M,_=mi(h,g+x,b+x);return w&&_}getCenterPoint(i){const{x:a,y:l,startAngle:r,endAngle:c,innerRadius:h,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:m,spacing:g}=this.options,b=(r+c)/2,S=(h+d+g+m)/2;return{x:a+Math.cos(b)*S,y:l+Math.sin(b)*S}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:a,circumference:l}=this,r=(a.offset||0)/4,c=(a.spacing||0)/2,h=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=l>et?Math.floor(l/et):0,l===0||this.innerRadius<0||this.outerRadius<0)return;i.save();const d=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(d)*r,Math.sin(d)*r);const m=1-Math.sin(Math.min(tt,l||0)),g=r*m;i.fillStyle=a.backgroundColor,i.strokeStyle=a.borderColor,L2(i,this,g,c,h),B2(i,this,g,c,h),i.restore()}}ge(Ll,"id","arc"),ge(Ll,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ge(Ll,"defaultRoutes",{backgroundColor:"backgroundColor"}),ge(Ll,"descriptors",{_scriptable:!0,_indexable:i=>i!=="borderDash"});function Zy(n,e,i=e){n.lineCap=ke(i.borderCapStyle,e.borderCapStyle),n.setLineDash(ke(i.borderDash,e.borderDash)),n.lineDashOffset=ke(i.borderDashOffset,e.borderDashOffset),n.lineJoin=ke(i.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ke(i.borderWidth,e.borderWidth),n.strokeStyle=ke(i.borderColor,e.borderColor)}function F2(n,e,i){n.lineTo(i.x,i.y)}function H2(n){return n.stepped?rM:n.tension||n.cubicInterpolationMode==="monotone"?cM:F2}function Ky(n,e,i={}){const a=n.length,{start:l=0,end:r=a-1}=i,{start:c,end:h}=e,d=Math.max(l,c),m=Math.min(r,h),g=l<c&&r<c||l>h&&r>h;return{count:a,start:d,loop:e.loop,ilen:m<d&&!g?a+m-d:m-d}}function q2(n,e,i,a){const{points:l,options:r}=e,{count:c,start:h,loop:d,ilen:m}=Ky(l,i,a),g=H2(r);let{move:b=!0,reverse:S}=a||{},x,v,M;for(x=0;x<=m;++x)v=l[(h+(S?m-x:x))%c],!v.skip&&(b?(n.moveTo(v.x,v.y),b=!1):g(n,M,v,S,r.stepped),M=v);return d&&(v=l[(h+(S?m:0))%c],g(n,M,v,S,r.stepped)),!!d}function P2(n,e,i,a){const l=e.points,{count:r,start:c,ilen:h}=Ky(l,i,a),{move:d=!0,reverse:m}=a||{};let g=0,b=0,S,x,v,M,w,_;const A=D=>(c+(m?h-D:D))%r,j=()=>{M!==w&&(n.lineTo(g,w),n.lineTo(g,M),n.lineTo(g,_))};for(d&&(x=l[A(0)],n.moveTo(x.x,x.y)),S=0;S<=h;++S){if(x=l[A(S)],x.skip)continue;const D=x.x,N=x.y,k=D|0;k===v?(N<M?M=N:N>w&&(w=N),g=(b*g+D)/++b):(j(),n.lineTo(D,N),v=k,b=0,M=w=N),_=N}j()}function $h(n){const e=n.options,i=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!i?P2:q2}function V2(n){return n.stepped?PM:n.tension||n.cubicInterpolationMode==="monotone"?VM:js}function U2(n,e,i,a){let l=e._path;l||(l=e._path=new Path2D,e.path(l,i,a)&&l.closePath()),Zy(n,e.options),n.stroke(l)}function W2(n,e,i,a){const{segments:l,options:r}=e,c=$h(e);for(const h of l)Zy(n,r,h.style),n.beginPath(),c(n,e,h,{start:i,end:i+a-1})&&n.closePath(),n.stroke()}const $2=typeof Path2D=="function";function Y2(n,e,i,a){$2&&!e.options.segment?U2(n,e,i,a):W2(n,e,i,a)}class En extends On{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const l=a.spanGaps?this._loop:this._fullLoop;kM(this._points,a,e,l,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=XM(this,this.options.segment))}first(){const e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){const e=this.segments,i=this.points,a=e.length;return a&&i[e[a-1].end]}interpolate(e,i){const a=this.options,l=e[i],r=this.points,c=Fy(this,{property:i,start:l,end:l});if(!c.length)return;const h=[],d=V2(a);let m,g;for(m=0,g=c.length;m<g;++m){const{start:b,end:S}=c[m],x=r[b],v=r[S];if(x===v){h.push(x);continue}const M=Math.abs((l-x[i])/(v[i]-x[i])),w=d(x,v,M,a.stepped);w[i]=e[i],h.push(w)}return h.length===1?h[0]:h}pathSegment(e,i,a){return $h(this)(e,this,i,a)}path(e,i,a){const l=this.segments,r=$h(this);let c=this._loop;i=i||0,a=a||this.points.length-i;for(const h of l)c&=r(e,this,h,{start:i,end:i+a-1});return!!c}draw(e,i,a,l){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Y2(e,this,a,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ge(En,"id","line"),ge(En,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ge(En,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ge(En,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function p0(n,e,i,a){const l=n.options,{[i]:r}=n.getProps([i],a);return Math.abs(e-r)<l.radius+l.hitRadius}class Ds extends On{constructor(i){super();ge(this,"parsed");ge(this,"skip");ge(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,a,l){const r=this.options,{x:c,y:h}=this.getProps(["x","y"],l);return Math.pow(i-c,2)+Math.pow(a-h,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(i,a){return p0(this,i,"x",a)}inYRange(i,a){return p0(this,i,"y",a)}getCenterPoint(i){const{x:a,y:l}=this.getProps(["x","y"],i);return{x:a,y:l}}size(i){i=i||this.options||{};let a=i.radius||0;a=Math.max(a,a&&i.hoverRadius||0);const l=a&&i.borderWidth||0;return(a+l)*2}draw(i,a){const l=this.options;this.skip||l.radius<.1||!gi(this,a,this.size(l)/2)||(i.strokeStyle=l.borderColor,i.lineWidth=l.borderWidth,i.fillStyle=l.backgroundColor,Ph(i,l,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}ge(Ds,"id","point"),ge(Ds,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ge(Ds,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Jy(n,e){const{x:i,y:a,base:l,width:r,height:c}=n.getProps(["x","y","base","width","height"],e);let h,d,m,g,b;return n.horizontal?(b=c/2,h=Math.min(i,l),d=Math.max(i,l),m=a-b,g=a+b):(b=r/2,h=i-b,d=i+b,m=Math.min(a,l),g=Math.max(a,l)),{left:h,top:m,right:d,bottom:g}}function $i(n,e,i,a){return n?0:Ct(e,i,a)}function G2(n,e,i){const a=n.options.borderWidth,l=n.borderSkipped,r=Ay(a);return{t:$i(l.top,r.top,0,i),r:$i(l.right,r.right,0,e),b:$i(l.bottom,r.bottom,0,i),l:$i(l.left,r.left,0,e)}}function X2(n,e,i){const{enableBorderRadius:a}=n.getProps(["enableBorderRadius"]),l=n.options.borderRadius,r=As(l),c=Math.min(e,i),h=n.borderSkipped,d=a||Pe(l);return{topLeft:$i(!d||h.top||h.left,r.topLeft,0,c),topRight:$i(!d||h.top||h.right,r.topRight,0,c),bottomLeft:$i(!d||h.bottom||h.left,r.bottomLeft,0,c),bottomRight:$i(!d||h.bottom||h.right,r.bottomRight,0,c)}}function I2(n){const e=Jy(n),i=e.right-e.left,a=e.bottom-e.top,l=G2(n,i/2,a/2),r=X2(n,i/2,a/2);return{outer:{x:e.left,y:e.top,w:i,h:a,radius:r},inner:{x:e.left+l.l,y:e.top+l.t,w:i-l.l-l.r,h:a-l.t-l.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,r.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(l.b,l.r))}}}}function Nh(n,e,i,a){const l=e===null,r=i===null,h=n&&!(l&&r)&&Jy(n,a);return h&&(l||mi(e,h.left,h.right))&&(r||mi(i,h.top,h.bottom))}function Q2(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Z2(n,e){n.rect(e.x,e.y,e.w,e.h)}function Eh(n,e,i={}){const a=n.x!==i.x?-e:0,l=n.y!==i.y?-e:0,r=(n.x+n.w!==i.x+i.w?e:0)-a,c=(n.y+n.h!==i.y+i.h?e:0)-l;return{x:n.x+a,y:n.y+l,w:n.w+r,h:n.h+c,radius:n.radius}}class $l extends On{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:i,options:{borderColor:a,backgroundColor:l}}=this,{inner:r,outer:c}=I2(this),h=Q2(c.radius)?Zl:Z2;e.save(),(c.w!==r.w||c.h!==r.h)&&(e.beginPath(),h(e,Eh(c,i,r)),e.clip(),h(e,Eh(r,-i,c)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),h(e,Eh(r,i)),e.fillStyle=l,e.fill(),e.restore()}inRange(e,i,a){return Nh(this,e,i,a)}inXRange(e,i){return Nh(this,e,null,i)}inYRange(e,i){return Nh(this,null,e,i)}getCenterPoint(e){const{x:i,y:a,base:l,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(i+l)/2:i,y:r?a:(a+l)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ge($l,"id","bar"),ge($l,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ge($l,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var K2=Object.freeze({__proto__:null,ArcElement:Ll,BarElement:$l,LineElement:En,PointElement:Ds});const Yh=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],g0=Yh.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function eb(n){return Yh[n%Yh.length]}function tb(n){return g0[n%g0.length]}function J2(n,e){return n.borderColor=eb(e),n.backgroundColor=tb(e),++e}function ew(n,e){return n.backgroundColor=n.data.map(()=>eb(e++)),e}function tw(n,e){return n.backgroundColor=n.data.map(()=>tb(e++)),e}function nw(n){let e=0;return(i,a)=>{const l=n.getDatasetMeta(a).controller;l instanceof Ts?e=ew(i,e):l instanceof Wl?e=tw(i,e):l&&(e=J2(i,e))}}function y0(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function iw(n){return n&&(n.borderColor||n.backgroundColor)}function sw(){return it.borderColor!=="rgba(0,0,0,0.1)"||it.backgroundColor!=="rgba(0,0,0,0.1)"}var aw={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,i){if(!i.enabled)return;const{data:{datasets:a},options:l}=n.config,{elements:r}=l,c=y0(a)||iw(l)||r&&y0(r)||sw();if(!i.forceOverride&&c)return;const h=nw(n);a.forEach(h)}};function lw(n,e,i,a,l){const r=l.samples||a;if(r>=i)return n.slice(e,e+i);const c=[],h=(i-2)/(r-2);let d=0;const m=e+i-1;let g=e,b,S,x,v,M;for(c[d++]=n[g],b=0;b<r-2;b++){let w=0,_=0,A;const j=Math.floor((b+1)*h)+1+e,D=Math.min(Math.floor((b+2)*h)+1,i)+e,N=D-j;for(A=j;A<D;A++)w+=n[A].x,_+=n[A].y;w/=N,_/=N;const k=Math.floor(b*h)+1+e,H=Math.min(Math.floor((b+1)*h)+1,i)+e,{x:O,y:L}=n[g];for(x=v=-1,A=k;A<H;A++)v=.5*Math.abs((O-w)*(n[A].y-L)-(O-n[A].x)*(_-L)),v>x&&(x=v,S=n[A],M=A);c[d++]=S,g=M}return c[d++]=n[m],c}function ow(n,e,i,a){let l=0,r=0,c,h,d,m,g,b,S,x,v,M;const w=[],_=e+i-1,A=n[e].x,D=n[_].x-A;for(c=e;c<e+i;++c){h=n[c],d=(h.x-A)/D*a,m=h.y;const N=d|0;if(N===g)m<v?(v=m,b=c):m>M&&(M=m,S=c),l=(r*l+h.x)/++r;else{const k=c-1;if(!He(b)&&!He(S)){const H=Math.min(b,S),O=Math.max(b,S);H!==x&&H!==k&&w.push({...n[H],x:l}),O!==x&&O!==k&&w.push({...n[O],x:l})}c>0&&k!==x&&w.push(n[k]),w.push(h),g=N,r=0,v=M=m,b=S=x=c}}return w}function nb(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function b0(n){n.data.datasets.forEach(e=>{nb(e)})}function rw(n,e){const i=e.length;let a=0,l;const{iScale:r}=n,{min:c,max:h,minDefined:d,maxDefined:m}=r.getUserBounds();return d&&(a=Ct(pi(e,r.axis,c).lo,0,i-1)),m?l=Ct(pi(e,r.axis,h).hi+1,a,i)-a:l=i-a,{start:a,count:l}}var cw={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,i)=>{if(!i.enabled){b0(n);return}const a=n.width;n.data.datasets.forEach((l,r)=>{const{_data:c,indexAxis:h}=l,d=n.getDatasetMeta(r),m=c||l.data;if(Ol([h,n.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const g=n.scales[d.xAxisID];if(g.type!=="linear"&&g.type!=="time"||n.options.parsing)return;let{start:b,count:S}=rw(d,m);const x=i.threshold||4*a;if(S<=x){nb(l);return}He(c)&&(l._data=m,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(M){this._data=M}}));let v;switch(i.algorithm){case"lttb":v=lw(m,b,S,a,i);break;case"min-max":v=ow(m,b,S,a);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}l._decimated=v})},destroy(n){b0(n)}};function uw(n,e,i){const a=n.segments,l=n.points,r=e.points,c=[];for(const h of a){let{start:d,end:m}=h;m=Mf(d,m,l);const g=Gh(i,l[d],l[m],h.loop);if(!e.segments){c.push({source:h,target:g,start:l[d],end:l[m]});continue}const b=Fy(e,g);for(const S of b){const x=Gh(i,r[S.start],r[S.end],S.loop),v=By(h,l,x);for(const M of v)c.push({source:M,target:S,start:{[i]:x0(g,x,"start",Math.max)},end:{[i]:x0(g,x,"end",Math.min)}})}}return c}function Gh(n,e,i,a){if(a)return;let l=e[n],r=i[n];return n==="angle"&&(l=un(l),r=un(r)),{property:n,start:l,end:r}}function hw(n,e){const{x:i=null,y:a=null}=n||{},l=e.points,r=[];return e.segments.forEach(({start:c,end:h})=>{h=Mf(c,h,l);const d=l[c],m=l[h];a!==null?(r.push({x:d.x,y:a}),r.push({x:m.x,y:a})):i!==null&&(r.push({x:i,y:d.y}),r.push({x:i,y:m.y}))}),r}function Mf(n,e,i){for(;e>n;e--){const a=i[e];if(!isNaN(a.x)&&!isNaN(a.y))break}return e}function x0(n,e,i,a){return n&&e?a(n[i],e[i]):n?n[i]:e?e[i]:0}function ib(n,e){let i=[],a=!1;return nt(n)?(a=!0,i=n):i=hw(n,e),i.length?new En({points:i,options:{tension:0},_loop:a,_fullLoop:a}):null}function v0(n){return n&&n.fill!==!1}function fw(n,e,i){let l=n[e].fill;const r=[e];let c;if(!i)return l;for(;l!==!1&&r.indexOf(l)===-1;){if(!ht(l))return l;if(c=n[l],!c)return!1;if(c.visible)return l;r.push(l),l=c.fill}return!1}function dw(n,e,i){const a=yw(n);if(Pe(a))return isNaN(a.value)?!1:a;let l=parseFloat(a);return ht(l)&&Math.floor(l)===l?mw(a[0],e,l,i):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function mw(n,e,i,a){return(n==="-"||n==="+")&&(i=e+i),i===e||i<0||i>=a?!1:i}function pw(n,e){let i=null;return n==="start"?i=e.bottom:n==="end"?i=e.top:Pe(n)?i=e.getPixelForValue(n.value):e.getBasePixel&&(i=e.getBasePixel()),i}function gw(n,e,i){let a;return n==="start"?a=i:n==="end"?a=e.options.reverse?e.min:e.max:Pe(n)?a=n.value:a=e.getBaseValue(),a}function yw(n){const e=n.options,i=e.fill;let a=ke(i&&i.target,i);return a===void 0&&(a=!!e.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function bw(n){const{scale:e,index:i,line:a}=n,l=[],r=a.segments,c=a.points,h=xw(e,i);h.push(ib({x:null,y:e.bottom},a));for(let d=0;d<r.length;d++){const m=r[d];for(let g=m.start;g<=m.end;g++)vw(l,c[g],h)}return new En({points:l,options:{}})}function xw(n,e){const i=[],a=n.getMatchingVisibleMetas("line");for(let l=0;l<a.length;l++){const r=a[l];if(r.index===e)break;r.hidden||i.unshift(r.dataset)}return i}function vw(n,e,i){const a=[];for(let l=0;l<i.length;l++){const r=i[l],{first:c,last:h,point:d}=Sw(r,e,"x");if(!(!d||c&&h)){if(c)a.unshift(d);else if(n.push(d),!h)break}}n.push(...a)}function Sw(n,e,i){const a=n.interpolate(e,i);if(!a)return{};const l=a[i],r=n.segments,c=n.points;let h=!1,d=!1;for(let m=0;m<r.length;m++){const g=r[m],b=c[g.start][i],S=c[g.end][i];if(mi(l,b,S)){h=l===b,d=l===S;break}}return{first:h,last:d,point:a}}class sb{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,i,a){const{x:l,y:r,radius:c}=this;return i=i||{start:0,end:et},e.arc(l,r,c,i.end,i.start,!0),!a.bounds}interpolate(e){const{x:i,y:a,radius:l}=this,r=e.angle;return{x:i+Math.cos(r)*l,y:a+Math.sin(r)*l,angle:r}}}function Mw(n){const{chart:e,fill:i,line:a}=n;if(ht(i))return _w(e,i);if(i==="stack")return bw(n);if(i==="shape")return!0;const l=ww(n);return l instanceof sb?l:ib(l,a)}function _w(n,e){const i=n.getDatasetMeta(e);return i&&n.isDatasetVisible(e)?i.dataset:null}function ww(n){return(n.scale||{}).getPointPositionForValue?Tw(n):jw(n)}function jw(n){const{scale:e={},fill:i}=n,a=pw(i,e);if(ht(a)){const l=e.isHorizontal();return{x:l?a:null,y:l?null:a}}return null}function Tw(n){const{scale:e,fill:i}=n,a=e.options,l=e.getLabels().length,r=a.reverse?e.max:e.min,c=gw(i,e,r),h=[];if(a.grid.circular){const d=e.getPointPositionForValue(0,r);return new sb({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(c)})}for(let d=0;d<l;++d)h.push(e.getPointPositionForValue(d,c));return h}function Rh(n,e,i){const a=Mw(e),{line:l,scale:r,axis:c}=e,h=l.options,d=h.fill,m=h.backgroundColor,{above:g=m,below:b=m}=d||{};a&&l.points.length&&(Kr(n,i),Aw(n,{line:l,target:a,above:g,below:b,area:i,scale:r,axis:c}),Jr(n))}function Aw(n,e){const{line:i,target:a,above:l,below:r,area:c,scale:h}=e,d=i._loop?"angle":e.axis;n.save(),d==="x"&&r!==l&&(S0(n,a,c.top),M0(n,{line:i,target:a,color:l,scale:h,property:d}),n.restore(),n.save(),S0(n,a,c.bottom)),M0(n,{line:i,target:a,color:r,scale:h,property:d}),n.restore()}function S0(n,e,i){const{segments:a,points:l}=e;let r=!0,c=!1;n.beginPath();for(const h of a){const{start:d,end:m}=h,g=l[d],b=l[Mf(d,m,l)];r?(n.moveTo(g.x,g.y),r=!1):(n.lineTo(g.x,i),n.lineTo(g.x,g.y)),c=!!e.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(b.x,i)}n.lineTo(e.first().x,i),n.closePath(),n.clip()}function M0(n,e){const{line:i,target:a,property:l,color:r,scale:c}=e,h=uw(i,a,l);for(const{source:d,target:m,start:g,end:b}of h){const{style:{backgroundColor:S=r}={}}=d,x=a!==!0;n.save(),n.fillStyle=S,Cw(n,c,x&&Gh(l,g,b)),n.beginPath();const v=!!i.pathSegment(n,d);let M;if(x){v?n.closePath():_0(n,a,b,l);const w=!!a.pathSegment(n,m,{move:v,reverse:!0});M=v&&w,M||_0(n,a,g,l)}n.closePath(),n.fill(M?"evenodd":"nonzero"),n.restore()}}function Cw(n,e,i){const{top:a,bottom:l}=e.chart.chartArea,{property:r,start:c,end:h}=i||{};r==="x"&&(n.beginPath(),n.rect(c,a,h-c,l-a),n.clip())}function _0(n,e,i,a){const l=e.interpolate(i,a);l&&n.lineTo(l.x,l.y)}var Dw={id:"filler",afterDatasetsUpdate(n,e,i){const a=(n.data.datasets||[]).length,l=[];let r,c,h,d;for(c=0;c<a;++c)r=n.getDatasetMeta(c),h=r.dataset,d=null,h&&h.options&&h instanceof En&&(d={visible:n.isDatasetVisible(c),index:c,fill:dw(h,c,a),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:h}),r.$filler=d,l.push(d);for(c=0;c<a;++c)d=l[c],!(!d||d.fill===!1)&&(d.fill=fw(l,c,i.propagate))},beforeDraw(n,e,i){const a=i.drawTime==="beforeDraw",l=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let c=l.length-1;c>=0;--c){const h=l[c].$filler;h&&(h.line.updateControlPoints(r,h.axis),a&&h.fill&&Rh(n.ctx,h,r))}},beforeDatasetsDraw(n,e,i){if(i.drawTime!=="beforeDatasetsDraw")return;const a=n.getSortedVisibleDatasetMetas();for(let l=a.length-1;l>=0;--l){const r=a[l].$filler;v0(r)&&Rh(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,e,i){const a=e.meta.$filler;!v0(a)||i.drawTime!=="beforeDatasetDraw"||Rh(n.ctx,a,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const w0=(n,e)=>{let{boxHeight:i=e,boxWidth:a=e}=n;return n.usePointStyle&&(i=Math.min(i,e),a=n.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:i,itemHeight:Math.max(e,i)}},Nw=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class j0 extends On{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i,a){this.maxWidth=e,this.maxHeight=i,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let i=Je(e.generateLabels,[this.chart],this)||[];e.filter&&(i=i.filter(a=>e.filter(a,this.chart.data))),e.sort&&(i=i.sort((a,l)=>e.sort(a,l,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:e,ctx:i}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,l=Mt(a.font),r=l.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=w0(a,r);let m,g;i.font=l.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(c,r,h,d)+10):(g=this.maxHeight,m=this._fitCols(c,l,h,d)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,i,a,l){const{ctx:r,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],g=l+h;let b=e;r.textAlign="left",r.textBaseline="middle";let S=-1,x=-g;return this.legendItems.forEach((v,M)=>{const w=a+i/2+r.measureText(v.text).width;(M===0||m[m.length-1]+w+2*h>c)&&(b+=g,m[m.length-(M>0?0:1)]=0,x+=g,S++),d[M]={left:0,top:x,row:S,width:w,height:l},m[m.length-1]+=w+h}),b}_fitCols(e,i,a,l){const{ctx:r,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],g=c-e;let b=h,S=0,x=0,v=0,M=0;return this.legendItems.forEach((w,_)=>{const{itemWidth:A,itemHeight:j}=Ew(a,i,r,w,l);_>0&&x+j+2*h>g&&(b+=S+h,m.push({width:S,height:x}),v+=S+h,M++,S=x=0),d[_]={left:v,top:x,col:M,width:A,height:j},S=Math.max(S,A),x+=j+h}),b+=S,m.push({width:S,height:x}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:a,labels:{padding:l},rtl:r}}=this,c=xa(r,this.left,this.width);if(this.isHorizontal()){let h=0,d=Ht(a,this.left+l,this.right-this.lineWidths[h]);for(const m of i)h!==m.row&&(h=m.row,d=Ht(a,this.left+l,this.right-this.lineWidths[h])),m.top+=this.top+e+l,m.left=c.leftForLtr(c.x(d),m.width),d+=m.width+l}else{let h=0,d=Ht(a,this.top+e+l,this.bottom-this.columnSizes[h].height);for(const m of i)m.col!==h&&(h=m.col,d=Ht(a,this.top+e+l,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+l,m.left=c.leftForLtr(c.x(m.left),m.width),d+=m.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Kr(e,this),this._draw(),Jr(e)}}_draw(){const{options:e,columnSizes:i,lineWidths:a,ctx:l}=this,{align:r,labels:c}=e,h=it.color,d=xa(e.rtl,this.left,this.width),m=Mt(c.font),{padding:g}=c,b=m.size,S=b/2;let x;this.drawTitle(),l.textAlign=d.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=m.string;const{boxWidth:v,boxHeight:M,itemHeight:w}=w0(c,b),_=function(k,H,O){if(isNaN(v)||v<=0||isNaN(M)||M<0)return;l.save();const L=ke(O.lineWidth,1);if(l.fillStyle=ke(O.fillStyle,h),l.lineCap=ke(O.lineCap,"butt"),l.lineDashOffset=ke(O.lineDashOffset,0),l.lineJoin=ke(O.lineJoin,"miter"),l.lineWidth=L,l.strokeStyle=ke(O.strokeStyle,h),l.setLineDash(ke(O.lineDash,[])),c.usePointStyle){const z={radius:M*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:L},J=d.xPlus(k,v/2),$=H+S;Ty(l,z,J,$,c.pointStyleWidth&&v)}else{const z=H+Math.max((b-M)/2,0),J=d.leftForLtr(k,v),$=As(O.borderRadius);l.beginPath(),Object.values($).some(q=>q!==0)?Zl(l,{x:J,y:z,w:v,h:M,radius:$}):l.rect(J,z,v,M),l.fill(),L!==0&&l.stroke()}l.restore()},A=function(k,H,O){Es(l,O.text,k,H+w/2,m,{strikethrough:O.hidden,textAlign:d.textAlign(O.textAlign)})},j=this.isHorizontal(),D=this._computeTitleHeight();j?x={x:Ht(r,this.left+g,this.right-a[0]),y:this.top+g+D,line:0}:x={x:this.left+g,y:Ht(r,this.top+D+g,this.bottom-i[0].height),line:0},Oy(this.ctx,e.textDirection);const N=w+g;this.legendItems.forEach((k,H)=>{l.strokeStyle=k.fontColor,l.fillStyle=k.fontColor;const O=l.measureText(k.text).width,L=d.textAlign(k.textAlign||(k.textAlign=c.textAlign)),z=v+S+O;let J=x.x,$=x.y;d.setWidth(this.width),j?H>0&&J+z+g>this.right&&($=x.y+=N,x.line++,J=x.x=Ht(r,this.left+g,this.right-a[x.line])):H>0&&$+N>this.bottom&&(J=x.x=J+i[x.line].width+g,x.line++,$=x.y=Ht(r,this.top+D+g,this.bottom-i[x.line].height));const q=d.x(J);if(_(q,$,k),J=ZS(L,J+v+S,j?J+z:this.right,e.rtl),A(d.x(J),$,k),j)x.x+=z+g;else if(typeof k.text!="string"){const ee=m.lineHeight;x.y+=ab(k,ee)+g}else x.y+=N}),zy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,i=e.title,a=Mt(i.font),l=Pt(i.padding);if(!i.display)return;const r=xa(e.rtl,this.left,this.width),c=this.ctx,h=i.position,d=a.size/2,m=l.top+d;let g,b=this.left,S=this.width;if(this.isHorizontal())S=Math.max(...this.lineWidths),g=this.top+m,b=Ht(e.align,b,this.right-S);else{const v=this.columnSizes.reduce((M,w)=>Math.max(M,w.height),0);g=m+Ht(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const x=Ht(h,b,b+S);c.textAlign=r.textAlign(df(h)),c.textBaseline="middle",c.strokeStyle=i.color,c.fillStyle=i.color,c.font=a.string,Es(c,i.text,x,g,a)}_computeTitleHeight(){const e=this.options.title,i=Mt(e.font),a=Pt(e.padding);return e.display?i.lineHeight+a.height:0}_getLegendItemAt(e,i){let a,l,r;if(mi(e,this.left,this.right)&&mi(i,this.top,this.bottom)){for(r=this.legendHitBoxes,a=0;a<r.length;++a)if(l=r[a],mi(e,l.left,l.left+l.width)&&mi(i,l.top,l.top+l.height))return this.legendItems[a]}return null}handleEvent(e){const i=this.options;if(!Ow(e.type,i))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,r=Nw(l,a);l&&!r&&Je(i.onLeave,[e,l,this],this),this._hoveredItem=a,a&&!r&&Je(i.onHover,[e,a,this],this)}else a&&Je(i.onClick,[e,a,this],this)}}function Ew(n,e,i,a,l){const r=Rw(a,n,e,i),c=kw(l,a,e.lineHeight);return{itemWidth:r,itemHeight:c}}function Rw(n,e,i,a){let l=n.text;return l&&typeof l!="string"&&(l=l.reduce((r,c)=>r.length>c.length?r:c)),e+i.size/2+a.measureText(l).width}function kw(n,e,i){let a=n;return typeof e.text!="string"&&(a=ab(e,i)),a}function ab(n,e){const i=n.text?n.text.length:0;return e*i}function Ow(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var nc={id:"legend",_element:j0,start(n,e,i){const a=n.legend=new j0({ctx:n.ctx,options:i,chart:n});qt.configure(n,a,i),qt.addBox(n,a)},stop(n){qt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,i){const a=n.legend;qt.configure(n,a,i),a.options=i},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,i){const a=e.datasetIndex,l=i.chart;l.isDatasetVisible(a)?(l.hide(a),e.hidden=!0):(l.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:i,pointStyle:a,textAlign:l,color:r,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(i?0:void 0),g=Pt(m.borderWidth);return{text:e[d.index].label,fillStyle:m.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:a||m.pointStyle,rotation:m.rotation,textAlign:l||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class _f extends On{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=i;const l=nt(a.text)?a.text.length:1;this._padding=Pt(a.padding);const r=l*Mt(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:i,left:a,bottom:l,right:r,options:c}=this,h=c.align;let d=0,m,g,b;return this.isHorizontal()?(g=Ht(h,a,r),b=i+e,m=r-a):(c.position==="left"?(g=a+e,b=Ht(h,l,i),d=tt*-.5):(g=r-e,b=Ht(h,i,l),d=tt*.5),m=l-i),{titleX:g,titleY:b,maxWidth:m,rotation:d}}draw(){const e=this.ctx,i=this.options;if(!i.display)return;const a=Mt(i.font),r=a.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:m}=this._drawArgs(r);Es(e,i.text,0,0,a,{color:i.color,maxWidth:d,rotation:m,textAlign:df(i.align),textBaseline:"middle",translation:[c,h]})}}function zw(n,e){const i=new _f({ctx:n.ctx,options:e,chart:n});qt.configure(n,i,e),qt.addBox(n,i),n.titleBlock=i}var ic={id:"title",_element:_f,start(n,e,i){zw(n,i)},stop(n){const e=n.titleBlock;qt.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,i){const a=n.titleBlock;qt.configure(n,a,i),a.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tr=new WeakMap;var Lw={id:"subtitle",start(n,e,i){const a=new _f({ctx:n.ctx,options:i,chart:n});qt.configure(n,a,i),qt.addBox(n,a),Tr.set(n,a)},stop(n){qt.removeBox(n,Tr.get(n)),Tr.delete(n)},beforeUpdate(n,e,i){const a=Tr.get(n);qt.configure(n,a,i),a.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bl={average(n){if(!n.length)return!1;let e,i,a=new Set,l=0,r=0;for(e=0,i=n.length;e<i;++e){const h=n[e].element;if(h&&h.hasValue()){const d=h.tooltipPosition();a.add(d.x),l+=d.y,++r}}return r===0||a.size===0?!1:{x:[...a].reduce((h,d)=>h+d)/a.size,y:l/r}},nearest(n,e){if(!n.length)return!1;let i=e.x,a=e.y,l=Number.POSITIVE_INFINITY,r,c,h;for(r=0,c=n.length;r<c;++r){const d=n[r].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),g=Hh(e,m);g<l&&(l=g,h=d)}}if(h){const d=h.tooltipPosition();i=d.x,a=d.y}return{x:i,y:a}}};function Un(n,e){return e&&(nt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function fi(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Bw(n,e){const{element:i,datasetIndex:a,index:l}=e,r=n.getDatasetMeta(a).controller,{label:c,value:h}=r.getLabelAndValue(l);return{chart:n,label:c,parsed:r.getParsed(l),raw:n.data.datasets[a].data[l],formattedValue:h,dataset:r.getDataset(),dataIndex:l,datasetIndex:a,element:i}}function T0(n,e){const i=n.chart.ctx,{body:a,footer:l,title:r}=n,{boxWidth:c,boxHeight:h}=e,d=Mt(e.bodyFont),m=Mt(e.titleFont),g=Mt(e.footerFont),b=r.length,S=l.length,x=a.length,v=Pt(e.padding);let M=v.height,w=0,_=a.reduce((D,N)=>D+N.before.length+N.lines.length+N.after.length,0);if(_+=n.beforeBody.length+n.afterBody.length,b&&(M+=b*m.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),_){const D=e.displayColors?Math.max(h,d.lineHeight):d.lineHeight;M+=x*D+(_-x)*d.lineHeight+(_-1)*e.bodySpacing}S&&(M+=e.footerMarginTop+S*g.lineHeight+(S-1)*e.footerSpacing);let A=0;const j=function(D){w=Math.max(w,i.measureText(D).width+A)};return i.save(),i.font=m.string,Ye(n.title,j),i.font=d.string,Ye(n.beforeBody.concat(n.afterBody),j),A=e.displayColors?c+2+e.boxPadding:0,Ye(a,D=>{Ye(D.before,j),Ye(D.lines,j),Ye(D.after,j)}),A=0,i.font=g.string,Ye(n.footer,j),i.restore(),w+=v.width,{width:w,height:M}}function Fw(n,e){const{y:i,height:a}=e;return i<a/2?"top":i>n.height-a/2?"bottom":"center"}function Hw(n,e,i,a){const{x:l,width:r}=a,c=i.caretSize+i.caretPadding;if(n==="left"&&l+r+c>e.width||n==="right"&&l-r-c<0)return!0}function qw(n,e,i,a){const{x:l,width:r}=i,{width:c,chartArea:{left:h,right:d}}=n;let m="center";return a==="center"?m=l<=(h+d)/2?"left":"right":l<=r/2?m="left":l>=c-r/2&&(m="right"),Hw(m,n,e,i)&&(m="center"),m}function A0(n,e,i){const a=i.yAlign||e.yAlign||Fw(n,i);return{xAlign:i.xAlign||e.xAlign||qw(n,e,i,a),yAlign:a}}function Pw(n,e){let{x:i,width:a}=n;return e==="right"?i-=a:e==="center"&&(i-=a/2),i}function Vw(n,e,i){let{y:a,height:l}=n;return e==="top"?a+=i:e==="bottom"?a-=l+i:a-=l/2,a}function C0(n,e,i,a){const{caretSize:l,caretPadding:r,cornerRadius:c}=n,{xAlign:h,yAlign:d}=i,m=l+r,{topLeft:g,topRight:b,bottomLeft:S,bottomRight:x}=As(c);let v=Pw(e,h);const M=Vw(e,d,m);return d==="center"?h==="left"?v+=m:h==="right"&&(v-=m):h==="left"?v-=Math.max(g,S)+l:h==="right"&&(v+=Math.max(b,x)+l),{x:Ct(v,0,a.width-e.width),y:Ct(M,0,a.height-e.height)}}function Ar(n,e,i){const a=Pt(i.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-a.right:n.x+a.left}function D0(n){return Un([],fi(n))}function Uw(n,e,i){return Qi(n,{tooltip:e,tooltipItems:i,type:"tooltip"})}function N0(n,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?n.override(i):n}const lb={beforeTitle:ui,title(n){if(n.length>0){const e=n[0],i=e.chart.data.labels,a=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return i[e.dataIndex]}return""},afterTitle:ui,beforeBody:ui,beforeLabel:ui,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const i=n.formattedValue;return He(i)||(e+=i),e},labelColor(n){const i=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const i=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:ui,afterBody:ui,beforeFooter:ui,footer:ui,afterFooter:ui};function Kt(n,e,i,a){const l=n[e].call(i,a);return typeof l>"u"?lb[e].call(i,a):l}class Xh extends On{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,a=this.options.setContext(this.getContext()),l=a.enabled&&i.options.animation&&a.animations,r=new Hy(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Uw(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:a}=i,l=Kt(a,"beforeTitle",this,e),r=Kt(a,"title",this,e),c=Kt(a,"afterTitle",this,e);let h=[];return h=Un(h,fi(l)),h=Un(h,fi(r)),h=Un(h,fi(c)),h}getBeforeBody(e,i){return D0(Kt(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:a}=i,l=[];return Ye(e,r=>{const c={before:[],lines:[],after:[]},h=N0(a,r);Un(c.before,fi(Kt(h,"beforeLabel",this,r))),Un(c.lines,Kt(h,"label",this,r)),Un(c.after,fi(Kt(h,"afterLabel",this,r))),l.push(c)}),l}getAfterBody(e,i){return D0(Kt(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:a}=i,l=Kt(a,"beforeFooter",this,e),r=Kt(a,"footer",this,e),c=Kt(a,"afterFooter",this,e);let h=[];return h=Un(h,fi(l)),h=Un(h,fi(r)),h=Un(h,fi(c)),h}_createItems(e){const i=this._active,a=this.chart.data,l=[],r=[],c=[];let h=[],d,m;for(d=0,m=i.length;d<m;++d)h.push(Bw(this.chart,i[d]));return e.filter&&(h=h.filter((g,b,S)=>e.filter(g,b,S,a))),e.itemSort&&(h=h.sort((g,b)=>e.itemSort(g,b,a))),Ye(h,g=>{const b=N0(e.callbacks,g);l.push(Kt(b,"labelColor",this,g)),r.push(Kt(b,"labelPointStyle",this,g)),c.push(Kt(b,"labelTextColor",this,g))}),this.labelColors=l,this.labelPointStyles=r,this.labelTextColors=c,this.dataPoints=h,h}update(e,i){const a=this.options.setContext(this.getContext()),l=this._active;let r,c=[];if(!l.length)this.opacity!==0&&(r={opacity:0});else{const h=Bl[a.position].call(this,l,this._eventPosition);c=this._createItems(a),this.title=this.getTitle(c,a),this.beforeBody=this.getBeforeBody(c,a),this.body=this.getBody(c,a),this.afterBody=this.getAfterBody(c,a),this.footer=this.getFooter(c,a);const d=this._size=T0(this,a),m=Object.assign({},h,d),g=A0(this.chart,a,m),b=C0(a,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,r={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,a,l){const r=this.getCaretPosition(e,a,l);i.lineTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.lineTo(r.x3,r.y3)}getCaretPosition(e,i,a){const{xAlign:l,yAlign:r}=this,{caretSize:c,cornerRadius:h}=a,{topLeft:d,topRight:m,bottomLeft:g,bottomRight:b}=As(h),{x:S,y:x}=e,{width:v,height:M}=i;let w,_,A,j,D,N;return r==="center"?(D=x+M/2,l==="left"?(w=S,_=w-c,j=D+c,N=D-c):(w=S+v,_=w+c,j=D-c,N=D+c),A=w):(l==="left"?_=S+Math.max(d,g)+c:l==="right"?_=S+v-Math.max(m,b)-c:_=this.caretX,r==="top"?(j=x,D=j-c,w=_-c,A=_+c):(j=x+M,D=j+c,w=_+c,A=_-c),N=j),{x1:w,x2:_,x3:A,y1:j,y2:D,y3:N}}drawTitle(e,i,a){const l=this.title,r=l.length;let c,h,d;if(r){const m=xa(a.rtl,this.x,this.width);for(e.x=Ar(this,a.titleAlign,a),i.textAlign=m.textAlign(a.titleAlign),i.textBaseline="middle",c=Mt(a.titleFont),h=a.titleSpacing,i.fillStyle=a.titleColor,i.font=c.string,d=0;d<r;++d)i.fillText(l[d],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,d+1===r&&(e.y+=a.titleMarginBottom-h)}}_drawColorBox(e,i,a,l,r){const c=this.labelColors[a],h=this.labelPointStyles[a],{boxHeight:d,boxWidth:m}=r,g=Mt(r.bodyFont),b=Ar(this,"left",r),S=l.x(b),x=d<g.lineHeight?(g.lineHeight-d)/2:0,v=i.y+x;if(r.usePointStyle){const M={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},w=l.leftForLtr(S,m)+m/2,_=v+d/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Ph(e,M,w,_),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Ph(e,M,w,_)}else{e.lineWidth=Pe(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const M=l.leftForLtr(S,m),w=l.leftForLtr(l.xPlus(S,1),m-2),_=As(c.borderRadius);Object.values(_).some(A=>A!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Zl(e,{x:M,y:v,w:m,h:d,radius:_}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Zl(e,{x:w,y:v+1,w:m-2,h:d-2,radius:_}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(M,v,m,d),e.strokeRect(M,v,m,d),e.fillStyle=c.backgroundColor,e.fillRect(w,v+1,m-2,d-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,i,a){const{body:l}=this,{bodySpacing:r,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:g}=a,b=Mt(a.bodyFont);let S=b.lineHeight,x=0;const v=xa(a.rtl,this.x,this.width),M=function(O){i.fillText(O,v.x(e.x+x),e.y+S/2),e.y+=S+r},w=v.textAlign(c);let _,A,j,D,N,k,H;for(i.textAlign=c,i.textBaseline="middle",i.font=b.string,e.x=Ar(this,w,a),i.fillStyle=a.bodyColor,Ye(this.beforeBody,M),x=h&&w!=="right"?c==="center"?m/2+g:m+2+g:0,D=0,k=l.length;D<k;++D){for(_=l[D],A=this.labelTextColors[D],i.fillStyle=A,Ye(_.before,M),j=_.lines,h&&j.length&&(this._drawColorBox(i,e,D,v,a),S=Math.max(b.lineHeight,d)),N=0,H=j.length;N<H;++N)M(j[N]),S=b.lineHeight;Ye(_.after,M)}x=0,S=b.lineHeight,Ye(this.afterBody,M),e.y-=r}drawFooter(e,i,a){const l=this.footer,r=l.length;let c,h;if(r){const d=xa(a.rtl,this.x,this.width);for(e.x=Ar(this,a.footerAlign,a),e.y+=a.footerMarginTop,i.textAlign=d.textAlign(a.footerAlign),i.textBaseline="middle",c=Mt(a.footerFont),i.fillStyle=a.footerColor,i.font=c.string,h=0;h<r;++h)i.fillText(l[h],d.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+a.footerSpacing}}drawBackground(e,i,a,l){const{xAlign:r,yAlign:c}=this,{x:h,y:d}=e,{width:m,height:g}=a,{topLeft:b,topRight:S,bottomLeft:x,bottomRight:v}=As(l.cornerRadius);i.fillStyle=l.backgroundColor,i.strokeStyle=l.borderColor,i.lineWidth=l.borderWidth,i.beginPath(),i.moveTo(h+b,d),c==="top"&&this.drawCaret(e,i,a,l),i.lineTo(h+m-S,d),i.quadraticCurveTo(h+m,d,h+m,d+S),c==="center"&&r==="right"&&this.drawCaret(e,i,a,l),i.lineTo(h+m,d+g-v),i.quadraticCurveTo(h+m,d+g,h+m-v,d+g),c==="bottom"&&this.drawCaret(e,i,a,l),i.lineTo(h+x,d+g),i.quadraticCurveTo(h,d+g,h,d+g-x),c==="center"&&r==="left"&&this.drawCaret(e,i,a,l),i.lineTo(h,d+b),i.quadraticCurveTo(h,d,h+b,d),i.closePath(),i.fill(),l.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,a=this.$animations,l=a&&a.x,r=a&&a.y;if(l||r){const c=Bl[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=T0(this,e),d=Object.assign({},c,this._size),m=A0(i,e,d),g=C0(e,d,m,i);(l._to!==g.x||r._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(i);const l={width:this.width,height:this.height},r={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const c=Pt(i.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&h&&(e.save(),e.globalAlpha=a,this.drawBackground(r,e,l,i),Oy(e,i.textDirection),r.y+=c.top,this.drawTitle(r,e,i),this.drawBody(r,e,i),this.drawFooter(r,e,i),zy(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const a=this._active,l=e.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),r=!qr(a,l),c=this._positionChanged(l,i);(r||c)&&(this._active=l,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,a=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,r=this._active||[],c=this._getActiveElements(e,r,i,a),h=this._positionChanged(c,e),d=i||!qr(c,r)||h;return d&&(this._active=c,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),d}_getActiveElements(e,i,a,l){const r=this.options;if(e.type==="mouseout")return[];if(!l)return i.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,r.mode,r,a);return r.reverse&&c.reverse(),c}_positionChanged(e,i){const{caretX:a,caretY:l,options:r}=this,c=Bl[r.position].call(this,e,i);return c!==!1&&(a!==c.x||l!==c.y)}}ge(Xh,"positioners",Bl);var sc={id:"tooltip",_element:Xh,positioners:Bl,afterInit(n,e,i){i&&(n.tooltip=new Xh({chart:n,options:i}))},beforeUpdate(n,e,i){n.tooltip&&n.tooltip.initialize(i)},reset(n,e,i){n.tooltip&&n.tooltip.initialize(i)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",i)}},afterEvent(n,e){if(n.tooltip){const i=e.replay;n.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Ww=Object.freeze({__proto__:null,Colors:aw,Decimation:cw,Filler:Dw,Legend:nc,SubTitle:Lw,Title:ic,Tooltip:sc});const $w=(n,e,i,a)=>(typeof e=="string"?(i=n.push(e)-1,a.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function Yw(n,e,i,a){const l=n.indexOf(e);if(l===-1)return $w(n,e,i,a);const r=n.lastIndexOf(e);return l!==r?i:l}const Gw=(n,e)=>n===null?null:Ct(Math.round(n),0,e);function E0(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class _a extends Rs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const a=this.getLabels();for(const{index:l,label:r}of i)a[l]===r&&a.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(He(e))return null;const a=this.getLabels();return i=isFinite(i)&&a[i]===e?i:Yw(a,e,ke(i,e),this._addedLabels),Gw(i,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),i||(l=this.getLabels().length-1)),this.min=a,this.max=l}buildTicks(){const e=this.min,i=this.max,a=this.options.offset,l=[];let r=this.getLabels();r=e===0&&i===r.length-1?r:r.slice(e,i+1),this._valueRange=Math.max(r.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let c=e;c<=i;c++)l.push({value:c});return l}getLabelForValue(e){return E0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ge(_a,"id","category"),ge(_a,"defaults",{ticks:{callback:E0}});function Xw(n,e){const i=[],{bounds:l,step:r,min:c,max:h,precision:d,count:m,maxTicks:g,maxDigits:b,includeBounds:S}=n,x=r||1,v=g-1,{min:M,max:w}=e,_=!He(c),A=!He(h),j=!He(m),D=(w-M)/(b+1);let N=Tg((w-M)/v/x)*x,k,H,O,L;if(N<1e-14&&!_&&!A)return[{value:M},{value:w}];L=Math.ceil(w/N)-Math.floor(M/N),L>v&&(N=Tg(L*N/v/x)*x),He(d)||(k=Math.pow(10,d),N=Math.ceil(N*k)/k),l==="ticks"?(H=Math.floor(M/N)*N,O=Math.ceil(w/N)*N):(H=M,O=w),_&&A&&r&&WS((h-c)/r,N/1e3)?(L=Math.round(Math.min((h-c)/N,g)),N=(h-c)/L,H=c,O=h):j?(H=_?c:H,O=A?h:O,L=m-1,N=(O-H)/L):(L=(O-H)/N,ql(L,Math.round(L),N/1e3)?L=Math.round(L):L=Math.ceil(L));const z=Math.max(Ag(N),Ag(H));k=Math.pow(10,He(d)?z:d),H=Math.round(H*k)/k,O=Math.round(O*k)/k;let J=0;for(_&&(S&&H!==c?(i.push({value:c}),H<c&&J++,ql(Math.round((H+J*N)*k)/k,c,R0(c,D,n))&&J++):H<c&&J++);J<L;++J){const $=Math.round((H+J*N)*k)/k;if(A&&$>h)break;i.push({value:$})}return A&&S&&O!==h?i.length&&ql(i[i.length-1].value,h,R0(h,D,n))?i[i.length-1].value=h:i.push({value:h}):(!A||O===h)&&i.push({value:O}),i}function R0(n,e,{horizontal:i,minRotation:a}){const l=Nn(a),r=(i?Math.sin(l):Math.cos(l))||.001,c=.75*e*(""+n).length;return Math.min(e/r,c)}class Gr extends Rs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,i){return He(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:i,maxDefined:a}=this.getUserBounds();let{min:l,max:r}=this;const c=d=>l=i?l:d,h=d=>r=a?r:d;if(e){const d=$n(l),m=$n(r);d<0&&m<0?h(0):d>0&&m>0&&c(0)}if(l===r){let d=r===0?1:Math.abs(r*.05);h(r+d),e||c(l-d)}this.min=l,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:i,stepSize:a}=e,l;return a?(l=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),i=i||11),i&&(l=Math.min(i,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,i=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const l={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},r=this._range||this,c=Xw(l,r);return e.bounds==="ticks"&&yy(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let i=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const l=(a-i)/Math.max(e.length-1,1)/2;i-=l,a+=l}this._startValue=i,this._endValue=a,this._valueRange=a-i}getLabelForValue(e){return ao(e,this.chart.options.locale,this.options.ticks.format)}}class wa extends Gr{determineDataLimits(){const{min:e,max:i}=this.getMinMax(!0);this.min=ht(e)?e:0,this.max=ht(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),i=e?this.width:this.height,a=Nn(this.options.ticks.minRotation),l=(e?Math.sin(a):Math.cos(a))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,r.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ge(wa,"id","linear"),ge(wa,"defaults",{ticks:{callback:Zr.formatters.numeric}});const Jl=n=>Math.floor(Wi(n)),Ss=(n,e)=>Math.pow(10,Jl(n)+e);function k0(n){return n/Math.pow(10,Jl(n))===1}function O0(n,e,i){const a=Math.pow(10,i),l=Math.floor(n/a);return Math.ceil(e/a)-l}function Iw(n,e){const i=e-n;let a=Jl(i);for(;O0(n,e,a)>10;)a++;for(;O0(n,e,a)<10;)a--;return Math.min(a,Jl(n))}function Qw(n,{min:e,max:i}){e=cn(n.min,e);const a=[],l=Jl(e);let r=Iw(e,i),c=r<0?Math.pow(10,Math.abs(r)):1;const h=Math.pow(10,r),d=l>r?Math.pow(10,l):0,m=Math.round((e-d)*c)/c,g=Math.floor((e-d)/h/10)*h*10;let b=Math.floor((m-g)/Math.pow(10,r)),S=cn(n.min,Math.round((d+g+b*Math.pow(10,r))*c)/c);for(;S<i;)a.push({value:S,major:k0(S),significand:b}),b>=10?b=b<15?15:20:b++,b>=20&&(r++,b=2,c=r>=0?1:c),S=Math.round((d+g+b*Math.pow(10,r))*c)/c;const x=cn(n.max,S);return a.push({value:x,major:k0(x),significand:b}),a}class eo extends Rs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,i){const a=Gr.prototype.parse.apply(this,[e,i]);if(a===0){this._zero=!0;return}return ht(a)&&a>0?a:null}determineDataLimits(){const{min:e,max:i}=this.getMinMax(!0);this.min=ht(e)?Math.max(0,e):null,this.max=ht(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ht(this._userMin)&&(this.min=e===Ss(this.min,0)?Ss(this.min,-1):Ss(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let a=this.min,l=this.max;const r=h=>a=e?a:h,c=h=>l=i?l:h;a===l&&(a<=0?(r(1),c(10)):(r(Ss(a,-1)),c(Ss(l,1)))),a<=0&&r(Ss(l,-1)),l<=0&&c(Ss(a,1)),this.min=a,this.max=l}buildTicks(){const e=this.options,i={min:this._userMin,max:this._userMax},a=Qw(i,this);return e.bounds==="ticks"&&yy(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(e){return e===void 0?"0":ao(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Wi(e),this._valueRange=Wi(this.max)-Wi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Wi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const i=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+i*this._valueRange)}}ge(eo,"id","logarithmic"),ge(eo,"defaults",{ticks:{callback:Zr.formatters.logarithmic,major:{enabled:!0}}});function Ih(n){const e=n.ticks;if(e.display&&n.display){const i=Pt(e.backdropPadding);return ke(e.font&&e.font.size,it.font.size)+i.height}return 0}function Zw(n,e,i){return i=nt(i)?i:[i],{w:oM(n,e.string,i),h:i.length*e.lineHeight}}function z0(n,e,i,a,l){return n===a||n===l?{start:e-i/2,end:e+i/2}:n<a||n>l?{start:e-i,end:e}:{start:e,end:e+i}}function Kw(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},i=Object.assign({},e),a=[],l=[],r=n._pointLabels.length,c=n.options.pointLabels,h=c.centerPointLabels?tt/r:0;for(let d=0;d<r;d++){const m=c.setContext(n.getPointLabelContext(d));l[d]=m.padding;const g=n.getPointPosition(d,n.drawingArea+l[d],h),b=Mt(m.font),S=Zw(n.ctx,b,n._pointLabels[d]);a[d]=S;const x=un(n.getIndexAngle(d)+h),v=Math.round(hf(x)),M=z0(v,g.x,S.w,0,180),w=z0(v,g.y,S.h,90,270);Jw(i,e,x,M,w)}n.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),n._pointLabelItems=nj(n,a,l)}function Jw(n,e,i,a,l){const r=Math.abs(Math.sin(i)),c=Math.abs(Math.cos(i));let h=0,d=0;a.start<e.l?(h=(e.l-a.start)/r,n.l=Math.min(n.l,e.l-h)):a.end>e.r&&(h=(a.end-e.r)/r,n.r=Math.max(n.r,e.r+h)),l.start<e.t?(d=(e.t-l.start)/c,n.t=Math.min(n.t,e.t-d)):l.end>e.b&&(d=(l.end-e.b)/c,n.b=Math.max(n.b,e.b+d))}function ej(n,e,i){const a=n.drawingArea,{extra:l,additionalAngle:r,padding:c,size:h}=i,d=n.getPointPosition(e,a+l+c,r),m=Math.round(hf(un(d.angle+mt))),g=aj(d.y,h.h,m),b=ij(m),S=sj(d.x,h.w,b);return{visible:!0,x:d.x,y:g,textAlign:b,left:S,top:g,right:S+h.w,bottom:g+h.h}}function tj(n,e){if(!e)return!0;const{left:i,top:a,right:l,bottom:r}=n;return!(gi({x:i,y:a},e)||gi({x:i,y:r},e)||gi({x:l,y:a},e)||gi({x:l,y:r},e))}function nj(n,e,i){const a=[],l=n._pointLabels.length,r=n.options,{centerPointLabels:c,display:h}=r.pointLabels,d={extra:Ih(r)/2,additionalAngle:c?tt/l:0};let m;for(let g=0;g<l;g++){d.padding=i[g],d.size=e[g];const b=ej(n,g,d);a.push(b),h==="auto"&&(b.visible=tj(b,m),b.visible&&(m=b))}return a}function ij(n){return n===0||n===180?"center":n<180?"left":"right"}function sj(n,e,i){return i==="right"?n-=e:i==="center"&&(n-=e/2),n}function aj(n,e,i){return i===90||i===270?n-=e/2:(i>270||i<90)&&(n-=e),n}function lj(n,e,i){const{left:a,top:l,right:r,bottom:c}=i,{backdropColor:h}=e;if(!He(h)){const d=As(e.borderRadius),m=Pt(e.backdropPadding);n.fillStyle=h;const g=a-m.left,b=l-m.top,S=r-a+m.width,x=c-l+m.height;Object.values(d).some(v=>v!==0)?(n.beginPath(),Zl(n,{x:g,y:b,w:S,h:x,radius:d}),n.fill()):n.fillRect(g,b,S,x)}}function oj(n,e){const{ctx:i,options:{pointLabels:a}}=n;for(let l=e-1;l>=0;l--){const r=n._pointLabelItems[l];if(!r.visible)continue;const c=a.setContext(n.getPointLabelContext(l));lj(i,c,r);const h=Mt(c.font),{x:d,y:m,textAlign:g}=r;Es(i,n._pointLabels[l],d,m+h.lineHeight/2,h,{color:c.color,textAlign:g,textBaseline:"middle"})}}function ob(n,e,i,a){const{ctx:l}=n;if(i)l.arc(n.xCenter,n.yCenter,e,0,et);else{let r=n.getPointPosition(0,e);l.moveTo(r.x,r.y);for(let c=1;c<a;c++)r=n.getPointPosition(c,e),l.lineTo(r.x,r.y)}}function rj(n,e,i,a,l){const r=n.ctx,c=e.circular,{color:h,lineWidth:d}=e;!c&&!a||!h||!d||i<0||(r.save(),r.strokeStyle=h,r.lineWidth=d,r.setLineDash(l.dash||[]),r.lineDashOffset=l.dashOffset,r.beginPath(),ob(n,i,c,a),r.closePath(),r.stroke(),r.restore())}function cj(n,e,i){return Qi(n,{label:i,index:e,type:"pointLabel"})}class Fl extends Gr{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Pt(Ih(this.options)/2),i=this.width=this.maxWidth-e.width,a=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+i/2+e.left),this.yCenter=Math.floor(this.top+a/2+e.top),this.drawingArea=Math.floor(Math.min(i,a)/2)}determineDataLimits(){const{min:e,max:i}=this.getMinMax(!1);this.min=ht(e)&&!isNaN(e)?e:0,this.max=ht(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ih(this.options))}generateTickLabels(e){Gr.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((i,a)=>{const l=Je(this.options.pointLabels.callback,[i,a],this);return l||l===0?l:""}).filter((i,a)=>this.chart.getDataVisibility(a))}fit(){const e=this.options;e.display&&e.pointLabels.display?Kw(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,i,a,l){this.xCenter+=Math.floor((e-i)/2),this.yCenter+=Math.floor((a-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,i,a,l))}getIndexAngle(e){const i=et/(this._pointLabels.length||1),a=this.options.startAngle||0;return un(e*i+Nn(a))}getDistanceFromCenterForValue(e){if(He(e))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*i:(e-this.min)*i}getValueForDistanceFromCenter(e){if(He(e))return NaN;const i=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(e){const i=this._pointLabels||[];if(e>=0&&e<i.length){const a=i[e];return cj(this.getContext(),e,a)}}getPointPosition(e,i,a=0){const l=this.getIndexAngle(e)-mt+a;return{x:Math.cos(l)*i+this.xCenter,y:Math.sin(l)*i+this.yCenter,angle:l}}getPointPositionForValue(e,i){return this.getPointPosition(e,this.getDistanceFromCenterForValue(i))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:i,top:a,right:l,bottom:r}=this._pointLabelItems[e];return{left:i,top:a,right:l,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:i}}=this.options;if(e){const a=this.ctx;a.save(),a.beginPath(),ob(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),a.closePath(),a.fillStyle=e,a.fill(),a.restore()}}drawGrid(){const e=this.ctx,i=this.options,{angleLines:a,grid:l,border:r}=i,c=this._pointLabels.length;let h,d,m;if(i.pointLabels.display&&oj(this,c),l.display&&this.ticks.forEach((g,b)=>{if(b!==0||b===0&&this.min<0){d=this.getDistanceFromCenterForValue(g.value);const S=this.getContext(b),x=l.setContext(S),v=r.setContext(S);rj(this,x,d,c,v)}}),a.display){for(e.save(),h=c-1;h>=0;h--){const g=a.setContext(this.getPointLabelContext(h)),{color:b,lineWidth:S}=g;!S||!b||(e.lineWidth=S,e.strokeStyle=b,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,d=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),m=this.getPointPosition(h,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(m.x,m.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,i=this.options,a=i.ticks;if(!a.display)return;const l=this.getIndexAngle(0);let r,c;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(l),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((h,d)=>{if(d===0&&this.min>=0&&!i.reverse)return;const m=a.setContext(this.getContext(d)),g=Mt(m.font);if(r=this.getDistanceFromCenterForValue(this.ticks[d].value),m.showLabelBackdrop){e.font=g.string,c=e.measureText(h.label).width,e.fillStyle=m.backdropColor;const b=Pt(m.backdropPadding);e.fillRect(-c/2-b.left,-r-g.size/2-b.top,c+b.width,g.size+b.height)}Es(e,h.label,0,-r,g,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),e.restore()}drawTitle(){}}ge(Fl,"id","radialLinear"),ge(Fl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ge(Fl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ge(Fl,"descriptors",{angleLines:{_fallback:"grid"}});const ac={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jt=Object.keys(ac);function L0(n,e){return n-e}function B0(n,e){if(He(e))return null;const i=n._adapter,{parser:a,round:l,isoWeekday:r}=n._parseOpts;let c=e;return typeof a=="function"&&(c=a(c)),ht(c)||(c=typeof a=="string"?i.parse(c,a):i.parse(c)),c===null?null:(l&&(c=l==="week"&&(va(r)||r===!0)?i.startOf(c,"isoWeek",r):i.startOf(c,l)),+c)}function F0(n,e,i,a){const l=Jt.length;for(let r=Jt.indexOf(n);r<l-1;++r){const c=ac[Jt[r]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((i-e)/(h*c.size))<=a)return Jt[r]}return Jt[l-1]}function uj(n,e,i,a,l){for(let r=Jt.length-1;r>=Jt.indexOf(i);r--){const c=Jt[r];if(ac[c].common&&n._adapter.diff(l,a,c)>=e-1)return c}return Jt[i?Jt.indexOf(i):0]}function hj(n){for(let e=Jt.indexOf(n)+1,i=Jt.length;e<i;++e)if(ac[Jt[e]].common)return Jt[e]}function H0(n,e,i){if(!i)n[e]=!0;else if(i.length){const{lo:a,hi:l}=ff(i,e),r=i[a]>=e?i[a]:i[l];n[r]=!0}}function fj(n,e,i,a){const l=n._adapter,r=+l.startOf(e[0].value,a),c=e[e.length-1].value;let h,d;for(h=r;h<=c;h=+l.add(h,1,a))d=i[h],d>=0&&(e[d].major=!0);return e}function q0(n,e,i){const a=[],l={},r=e.length;let c,h;for(c=0;c<r;++c)h=e[c],l[h]=c,a.push({value:h,major:!1});return r===0||!i?a:fj(n,a,l,i)}class to extends Rs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const a=e.time||(e.time={}),l=this._adapter=new __._date(e.adapters.date);l.init(i),Hl(a.displayFormats,l.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:B0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,a=e.time.unit||"day";let{min:l,max:r,minDefined:c,maxDefined:h}=this.getUserBounds();function d(m){!c&&!isNaN(m.min)&&(l=Math.min(l,m.min)),!h&&!isNaN(m.max)&&(r=Math.max(r,m.max))}(!c||!h)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),l=ht(l)&&!isNaN(l)?l:+i.startOf(Date.now(),a),r=ht(r)&&!isNaN(r)?r:+i.endOf(Date.now(),a)+1,this.min=Math.min(l,r-1),this.max=Math.max(l+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],a=e[e.length-1]),{min:i,max:a}}buildTicks(){const e=this.options,i=e.time,a=e.ticks,l=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const r=this.min,c=this.max,h=XS(l,r,c);return this._unit=i.unit||(a.autoSkip?F0(i.minUnit,this.min,this.max,this._getLabelCapacity(r)):uj(this,h.length,i.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:hj(this._unit),this.initOffsets(l),e.reverse&&h.reverse(),q0(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,a=0,l,r;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?i=1-l:i=(this.getDecimalForValue(e[1])-l)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?a=r:a=(r-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;i=Ct(i,0,c),a=Ct(a,0,c),this._offsets={start:i,end:a,factor:1/(i+1+a)}}_generate(){const e=this._adapter,i=this.min,a=this.max,l=this.options,r=l.time,c=r.unit||F0(r.minUnit,i,a,this._getLabelCapacity(i)),h=ke(l.ticks.stepSize,1),d=c==="week"?r.isoWeekday:!1,m=va(d)||d===!0,g={};let b=i,S,x;if(m&&(b=+e.startOf(b,"isoWeek",d)),b=+e.startOf(b,m?"day":c),e.diff(a,i,c)>1e5*h)throw new Error(i+" and "+a+" are too far apart with stepSize of "+h+" "+c);const v=l.ticks.source==="data"&&this.getDataTimestamps();for(S=b,x=0;S<a;S=+e.add(S,h,c),x++)H0(g,S,v);return(S===a||l.bounds==="ticks"||x===1)&&H0(g,S,v),Object.keys(g).sort(L0).map(M=>+M)}getLabelForValue(e){const i=this._adapter,a=this.options.time;return a.tooltipFormat?i.format(e,a.tooltipFormat):i.format(e,a.displayFormats.datetime)}format(e,i){const l=this.options.time.displayFormats,r=this._unit,c=i||l[r];return this._adapter.format(e,c)}_tickFormatFunction(e,i,a,l){const r=this.options,c=r.ticks.callback;if(c)return Je(c,[e,i,a],this);const h=r.time.displayFormats,d=this._unit,m=this._majorUnit,g=d&&h[d],b=m&&h[m],S=a[i],x=m&&b&&S&&S.major;return this._adapter.format(e,l||(x?b:g))}generateTickLabels(e){let i,a,l;for(i=0,a=e.length;i<a;++i)l=e[i],l.label=this._tickFormatFunction(l.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+a)*i.factor)}getValueForPixel(e){const i=this._offsets,a=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,a=this.ctx.measureText(e).width,l=Nn(this.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(l),c=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:a*r+h*c,h:a*c+h*r}}_getLabelCapacity(e){const i=this.options.time,a=i.displayFormats,l=a[i.unit]||a.millisecond,r=this._tickFormatFunction(e,0,q0(this,[e],this._majorUnit),l),c=this._getLabelSize(r),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],i,a;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(i=0,a=l.length;i<a;++i)e=e.concat(l[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,a;if(e.length)return e;const l=this.getLabels();for(i=0,a=l.length;i<a;++i)e.push(B0(this,l[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return vy(e.sort(L0))}}ge(to,"id","time"),ge(to,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Cr(n,e,i){let a=0,l=n.length-1,r,c,h,d;i?(e>=n[a].pos&&e<=n[l].pos&&({lo:a,hi:l}=pi(n,"pos",e)),{pos:r,time:h}=n[a],{pos:c,time:d}=n[l]):(e>=n[a].time&&e<=n[l].time&&({lo:a,hi:l}=pi(n,"time",e)),{time:r,pos:h}=n[a],{time:c,pos:d}=n[l]);const m=c-r;return m?h+(d-h)*(e-r)/m:h}class Qh extends to{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(e);this._minPos=Cr(i,this.min),this._tableRange=Cr(i,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:i,max:a}=this,l=[],r=[];let c,h,d,m,g;for(c=0,h=e.length;c<h;++c)m=e[c],m>=i&&m<=a&&l.push(m);if(l.length<2)return[{time:i,pos:0},{time:a,pos:1}];for(c=0,h=l.length;c<h;++c)g=l[c+1],d=l[c-1],m=l[c],Math.round((g+d)/2)!==m&&r.push({time:m,pos:c/(h-1)});return r}_generate(){const e=this.min,i=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(i)||a.length===1)&&a.push(i),a.sort((l,r)=>l-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const i=this.getDataTimestamps(),a=this.getLabelTimestamps();return i.length&&a.length?e=this.normalize(i.concat(a)):e=i.length?i:a,e=this._cache.all=e,e}getDecimalForValue(e){return(Cr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const i=this._offsets,a=this.getDecimalForPixel(e)/i.factor-i.end;return Cr(this._table,a*this._tableRange+this._minPos,!0)}}ge(Qh,"id","timeseries"),ge(Qh,"defaults",to.defaults);var dj=Object.freeze({__proto__:null,CategoryScale:_a,LinearScale:wa,LogarithmicScale:eo,RadialLinearScale:Fl,TimeScale:to,TimeSeriesScale:Qh});const mj=[M_,K2,Ww,dj],rb="label";function P0(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function pj(n,e){const i=n.options;i&&e&&Object.assign(i,e)}function cb(n,e){n.labels=e}function ub(n,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rb;const a=[];n.datasets=e.map(l=>{const r=n.datasets.find(c=>c[i]===l[i]);return!r||!l.data||a.includes(r)?{...l}:(a.push(r),Object.assign(r,l),r)})}function gj(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rb;const i={labels:[],datasets:[]};return cb(i,n.labels),ub(i,n.datasets,e),i}function yj(n,e){const{height:i=150,width:a=300,redraw:l=!1,datasetIdKey:r,type:c,data:h,options:d,plugins:m=[],fallbackContent:g,updateMode:b,...S}=n,x=C.useRef(null),v=C.useRef(null),M=()=>{x.current&&(v.current=new ks(x.current,{type:c,data:gj(h,r),options:d&&{...d},plugins:m}),P0(e,v.current))},w=()=>{P0(e,null),v.current&&(v.current.destroy(),v.current=null)};return C.useEffect(()=>{!l&&v.current&&d&&pj(v.current,d)},[l,d]),C.useEffect(()=>{!l&&v.current&&cb(v.current.config.data,h.labels)},[l,h.labels]),C.useEffect(()=>{!l&&v.current&&h.datasets&&ub(v.current.config.data,h.datasets,r)},[l,h.datasets]),C.useEffect(()=>{v.current&&(l?(w(),setTimeout(M)):v.current.update(b))},[l,d,h.labels,h.datasets,b]),C.useEffect(()=>{v.current&&(w(),setTimeout(M))},[c]),C.useEffect(()=>(M(),()=>w()),[]),ja.createElement("canvas",{ref:x,role:"img",height:i,width:a,...S},g)}const bj=C.forwardRef(yj);function xj(n,e){return ks.register(e),C.forwardRef((i,a)=>ja.createElement(bj,{...i,ref:a,type:n}))}const bi=xj("line",Ul),vj=({frequency:n,volume:e,isPlaying:i})=>{const a=C.useRef(null),l=C.useRef(null),r=C.useRef(null);return C.useEffect(()=>(a.current||(a.current=new(window.AudioContext||window.webkitAudioContext)),()=>{l.current&&(l.current.stop(),l.current.disconnect(),l.current=null),r.current&&(r.current.disconnect(),r.current=null)}),[]),C.useEffect(()=>{if(a.current){if(i){const c=a.current,h=c.createOscillator(),d=c.createGain();h.type="sine",h.frequency.setValueAtTime(n,c.currentTime),d.gain.setValueAtTime(e,c.currentTime),h.connect(d),d.connect(c.destination),h.start(),l.current=h,r.current=d}else l.current&&(l.current.stop(),l.current.disconnect(),l.current=null),r.current&&(r.current.disconnect(),r.current=null);return()=>{l.current&&i&&(l.current.stop(),l.current.disconnect(),l.current=null),r.current&&i&&(r.current.disconnect(),r.current=null)}}},[i,n,a]),C.useEffect(()=>{i&&l.current&&a.current&&l.current.frequency.setValueAtTime(n,a.current.currentTime)},[n,i]),C.useEffect(()=>{i&&r.current&&a.current&&r.current.gain.setValueAtTime(e,a.current.currentTime)},[e,i]),null};ks.register(_a,wa,Ds,En,ic,sc,nc,eo);const Sj=[20,50,100,200,500,1e3,2e3,5e3,1e4,15e3,2e4],Mj=[80,60,42,25.5,11.5,0,-4,-6,8,18,30],_j=[80,62,45,27,12,0,-3,-4,5,12,25],wj=[76,60,43,26,11,0,-2,-2,3,8,20],jj=20,Tj=2e4,Xr=Math.log10(jj),hb=Math.log10(Tj),Aj=n=>{const e=Xr+n/100*(hb-Xr);return Math.round(Math.pow(10,e))},Cj=n=>(Math.log10(n)-Xr)/(hb-Xr)*100,Dj=()=>{const[n,e]=C.useState(1e3),[i,a]=C.useState(Cj(1e3)),[l,r]=C.useState(.5),[c,h]=C.useState(!1),[d,m]=C.useState("phon40"),g=C.useRef(null),b=C.useRef(`chart-${Math.random().toString(36).substr(2,9)}`),S={labels:Sj,datasets:[{label:"40 Phon",data:Mj,borderColor:d==="phon40"?"rgba(75, 192, 192, 1)":"rgba(75, 192, 192, 0.4)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:d==="phon40"?3:1,tension:.3},{label:"70 Phon",data:_j,borderColor:d==="phon70"?"rgba(255, 159, 64, 1)":"rgba(255, 159, 64, 0.4)",backgroundColor:"rgba(255, 159, 64, 0.2)",borderWidth:d==="phon70"?3:1,tension:.3},{label:"100 Phon",data:wj,borderColor:d==="phon100"?"rgba(255, 99, 132, 1)":"rgba(255, 99, 132, 0.4)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:d==="phon100"?3:1,tension:.3}]},x={responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"logarithmic",title:{display:!0,text:"Frequency (Hz)",font:{size:16}},ticks:{callback:j=>[20,100,1e3,1e4,2e4].includes(j)?j===1e3?"1kHz":j===1e4?"10kHz":j===2e4?"20kHz":j:""}},y:{title:{display:!0,text:"Relative Loudness (dB)",font:{size:16}},min:-10,max:85}},plugins:{tooltip:{callbacks:{title:j=>`${j[0].label} Hz`,label:j=>`${j.dataset.label}: ${j.raw} dB`}},legend:{position:"top",labels:{boxWidth:20,font:{size:14}},onClick:(j,D,N)=>{const k=D.datasetIndex;k===0&&m("phon40"),k===1&&m("phon70"),k===2&&m("phon100")}}},animation:{duration:300}},v=j=>{const D=parseFloat(j.target.value);a(D);const N=Aj(D);e(N)},M=j=>{r(parseFloat(j.target.value))},w=()=>{h(!c)},_=j=>{const H=Math.log10(20),O=Math.log10(2e4);return 5+(Math.log10(Math.max(20,Math.min(2e4,j)))-H)/(O-H)*93};C.useEffect(()=>()=>{g.current&&g.current.destroy&&g.current.destroy()},[]);const A=()=>{setTimeout(()=>e(20),1e3),setTimeout(()=>e(2e4),2e3),setTimeout(()=>e(1e3),3e3)};return f.jsxs("div",{className:"frequency-response-demo",children:[f.jsx("h2",{children:"Human Hearing Frequency Response"}),f.jsxs("div",{className:"info-panel",children:[f.jsx("p",{children:"Human hearing is not equally sensitive to all frequencies. This demo shows the Fletcher-Munson equal-loudness contours, which represent the sound pressure level required for a listener to perceive a tone as equally loud across different frequencies."}),f.jsx("p",{children:"The curves show that we're most sensitive to frequencies between 2-5 kHz and less sensitive to very low and very high frequencies."})]}),f.jsx("div",{className:"chart-container",children:f.jsxs("div",{className:"chart-wrapper",children:[f.jsx(bi,{data:S,options:x,id:b.current,ref:g}),f.jsx("div",{className:"frequency-marker",style:{left:`${_(n)}%`}})]})}),f.jsxs("div",{className:"controls",children:[f.jsxs("div",{className:"frequency-control",children:[f.jsxs("label",{htmlFor:"frequency",children:["Frequency: ",n," Hz"]}),f.jsx("input",{type:"range",id:"frequency",min:"0",max:"100",step:"1",value:i,onChange:v,className:"slider"}),f.jsxs("div",{className:"frequency-labels",children:[f.jsx("span",{children:"20 Hz"}),f.jsx("span",{children:"100 Hz"}),f.jsx("span",{children:"1 kHz"}),f.jsx("span",{children:"10 kHz"}),f.jsx("span",{children:"20 kHz"})]})]}),f.jsxs("div",{className:"volume-control",children:[f.jsxs("label",{htmlFor:"volume",children:["Volume: ",Math.round(l*100),"%"]}),f.jsx("input",{type:"range",id:"volume",min:"0",max:"1",step:"0.01",value:l,onChange:M,className:"slider"})]}),f.jsxs("div",{className:"curve-selection",children:[f.jsx("p",{children:"Select Loudness Curve:"}),f.jsxs("div",{className:"button-group",children:[f.jsx("button",{className:d==="phon40"?"active":"",onClick:()=>m("phon40"),children:"40 Phon (Quiet)"}),f.jsx("button",{className:d==="phon70"?"active":"",onClick:()=>m("phon70"),children:"70 Phon (Moderate)"}),f.jsx("button",{className:d==="phon100"?"active":"",onClick:()=>m("phon100"),children:"100 Phon (Loud)"})]})]}),f.jsx("button",{className:`play-button ${c?"playing":""}`,onClick:w,children:c?"Stop Sound":"Play Sound"})]}),f.jsx(vj,{frequency:n,volume:l,isPlaying:c}),f.jsxs("div",{className:"explanation",children:[f.jsx("h3",{children:"What are Equal-Loudness Contours?"}),f.jsx("p",{children:"Equal-loudness contours, like the Fletcher-Munson curves shown above, illustrate how our perception of loudness varies with frequency. Each curve represents a constant perceived loudness level (measured in phons)."}),f.jsx("p",{children:"At 1000 Hz, the phon level equals the sound pressure level (dB SPL). For all other frequencies, the curves show how much louder or quieter a sound needs to be to be perceived as equally loud as a 1000 Hz tone."}),f.jsx("p",{children:"Key observations:"}),f.jsxs("ul",{children:[f.jsx("li",{children:"We're most sensitive to frequencies between 2-5 kHz (notice the dip in the curves)"}),f.jsx("li",{children:"We're less sensitive to very low (below 100 Hz) and very high (above 10 kHz) frequencies"}),f.jsx("li",{children:"As overall loudness increases (higher phon curves), our sensitivity becomes more uniform"}),f.jsx("li",{children:'This explains why bass and treble are often boosted at low listening volumes (e.g., in "loudness" settings on audio equipment)'})]})]}),f.jsx("button",{className:"btn",onClick:A,style:{marginTop:"1rem",fontSize:"0.8rem",background:"#f3f4f6",color:"#374151"},children:"Test Frequency Range"})]})};var fb=function(n,e){var i=C.useRef(function(){});C.useEffect(function(){i.current=n}),C.useEffect(function(){{var a=setInterval(function(){return i.current()},e);return function(){return clearInterval(a)}}},[e])};const Nj=({timeData:n,width:e,height:i,timeScale:a,showGrid:l,sampleRate:r})=>{const c=C.useRef(null),h=4.5;C.useEffect(()=>{if(!c.current||!n||n.length===0)return;const g=c.current,b=g.getContext("2d"),S=window.devicePixelRatio||1;g.width=e*S,g.height=i*S,g.style.width=`${e}px`,g.style.height=`${i}px`,b.scale(S,S),b.fillStyle="#f8f9fa",b.fillRect(0,0,e,i),l&&d(b,e,i);const x=Math.floor(n.length/a),v=1/r,M=x*v*1e3;m(b,e,i,M),b.beginPath(),b.lineWidth=2,b.strokeStyle="#3b82f6";const w=e/x;let _=0;for(let A=0;A<x;A++){const j=Math.floor(A*a),D=n[j]*h,k=(Math.max(-1,Math.min(1,D))+1)/2*i;A===0?b.moveTo(_,k):b.lineTo(_,k),_+=w}b.stroke(),b.beginPath(),b.lineWidth=1,b.strokeStyle="rgba(0, 0, 0, 0.3)",b.moveTo(0,i/2),b.lineTo(e,i/2),b.stroke(),b.fillStyle="rgba(0, 0, 0, 0.6)",b.font="10px Arial",b.textAlign="right",b.fillText(`Amplitude: ${h}x`,e-10,15)},[n,e,i,a,l,r,h]);const d=(g,b,S)=>{g.beginPath(),g.lineWidth=.5,g.strokeStyle="rgba(0, 0, 0, 0.1)";const x=8;for(let M=1;M<x;M++){const w=S/x*M;g.moveTo(0,w),g.lineTo(b,w)}const v=10;for(let M=1;M<v;M++){const w=b/v*M;g.moveTo(w,0),g.lineTo(w,S)}g.stroke()},m=(g,b,S,x)=>{g.fillStyle="rgba(0, 0, 0, 0.7)",g.font="10px Arial",g.textAlign="center";const v=5;for(let M=0;M<=v;M++){const w=b/v*M,_=x/v*M;g.fillText(`${_.toFixed(1)}`,w,S-5)}};return f.jsx("canvas",{ref:c,className:"waveform-canvas",width:e,height:i})},Ej=({frequencyData:n,width:e,height:i,showGrid:a,sampleRate:l})=>{const r=C.useRef(null);C.useEffect(()=>{if(!r.current||!n||n.length===0)return;const b=r.current,S=b.getContext("2d"),x=window.devicePixelRatio||1;b.width=e*x,b.height=i*x,b.style.width=`${e}px`,b.style.height=`${i}px`,S.scale(x,x),S.fillStyle="#f8f9fa",S.fillRect(0,0,e,i),a&&c(S,e,i),h(S,e,i,l,n.length);const v=[{min:100,max:300,color:"rgba(255, 99, 132, 0.2)",label:"Fundamental"},{min:300,max:1e3,color:"rgba(54, 162, 235, 0.2)",label:"F1"},{min:1e3,max:3e3,color:"rgba(255, 206, 86, 0.2)",label:"F2-F3"},{min:3e3,max:8e3,color:"rgba(75, 192, 192, 0.2)",label:"Consonants"}];d(S,e,i,l,n.length,v);const M=e/n.length,w=l/2;S.fillStyle="#3b82f6";for(let A=0;A<n.length;A++){const j=A*w/n.length;if(j<20)continue;const D=Math.log10(20),N=Math.log10(w),H=(Math.log10(Math.max(20,j))-D)/(N-D)*e,O=n[A]/255*i,L=n[A]/255;S.fillStyle=m(L),S.fillRect(H,i-O,M*2,O)}g(S,n,e,i,l,10)},[n,e,i,a,l]);const c=(b,S,x)=>{b.beginPath(),b.lineWidth=.5,b.strokeStyle="rgba(0, 0, 0, 0.1)";const v=8;for(let j=1;j<v;j++){const D=x/v*j;b.moveTo(0,D),b.lineTo(S,D)}const M=[100,200,500,1e3,2e3,5e3,1e4],w=l/2,_=Math.log10(20),A=Math.log10(w);for(const j of M){if(j>w)continue;const N=(Math.log10(j)-_)/(A-_)*S;b.moveTo(N,0),b.lineTo(N,x)}b.stroke()},h=(b,S,x,v,M)=>{b.fillStyle="rgba(0, 0, 0, 0.7)",b.font="10px Arial",b.textAlign="center";const w=[20,100,500,1e3,2e3,5e3,1e4,2e4],_=v/2,A=Math.log10(20),j=Math.log10(_);for(const D of w){if(D>_)continue;const k=(Math.log10(D)-A)/(j-A)*S;let H=D.toString();D>=1e3&&(H=`${(D/1e3).toFixed(D%1e3===0?0:1)}k`),b.fillText(H,k,x-5)}},d=(b,S,x,v,M,w)=>{const _=v/2,A=Math.log10(20),j=Math.log10(_);w.forEach(D=>{if(D.min>_)return;const N=(Math.log10(Math.max(20,D.min))-A)/(j-A),k=(Math.log10(Math.min(_,D.max))-A)/(j-A),H=N*S,O=(k-N)*S;b.fillStyle=D.color,b.fillRect(H,0,O,x),b.fillStyle="rgba(0, 0, 0, 0.5)",b.font="10px Arial",b.textAlign="center",b.fillText(D.label,H+O/2,15)})},m=b=>b<.25?`rgba(59, 130, 246, ${.3+b*2})`:b<.5?`rgba(16, 185, 129, ${.4+b})`:b<.75?`rgba(251, 191, 36, ${.5+b})`:`rgba(239, 68, 68, ${.6+b})`,g=(b,S,x,v,M,w)=>{const _=M/2,A=Math.log10(20),j=Math.log10(_),D=S.length,N=[];for(let k=0;k<w;k++){const H=20*Math.pow(10,k/w*(j-A)),O=20*Math.pow(10,(k+1)/w*(j-A)),L=Math.floor(H*D/_),z=Math.ceil(O*D/_);let J=L,$=S[L]||0;for(let q=L+1;q<z&&q<D;q++)S[q]>$&&($=S[q],J=q);if($>30){const q=J*_/D,W=(Math.log10(Math.max(20,q))-A)/(j-A)*x;N.push({x:W,y:v-$/255*v,frequency:q,amplitude:$})}}N.forEach(k=>{if(b.beginPath(),b.fillStyle="rgba(220, 38, 38, 0.8)",b.arc(k.x,k.y,4,0,2*Math.PI),b.fill(),k.amplitude>100){b.fillStyle="rgba(0, 0, 0, 0.7)",b.font="10px Arial",b.textAlign="center";const H=k.frequency>=1e3?`${(k.frequency/1e3).toFixed(1)}k`:`${Math.round(k.frequency)}`;b.fillText(H,k.x,k.y-10)}})};return f.jsx("canvas",{ref:r,className:"spectrum-canvas",width:e,height:i})},Rj=()=>{const[n,e]=C.useState(!1),[i,a]=C.useState(null),[l,r]=C.useState(null),[c,h]=C.useState([]),[d,m]=C.useState([]),[g,b]=C.useState(0),[S,x]=C.useState(2048),[v,M]=C.useState("both"),[w,_]=C.useState(1),[A,j]=C.useState(!1),[D,N]=C.useState(!0),k=C.useRef(null),H=C.useRef(null);C.useEffect(()=>((async()=>{try{const q=new(window.AudioContext||window.webkitAudioContext);b(q.sampleRate);const ee=q.createAnalyser();ee.fftSize=S,ee.smoothingTimeConstant=.2,a(q),r(ee),h(new Float32Array(ee.fftSize)),m(new Uint8Array(ee.frequencyBinCount))}catch(q){console.error("Failed to initialize audio context:",q)}})(),()=>{k.current&&k.current.getTracks().forEach(q=>q.stop()),i&&i.close()}),[]),C.useEffect(()=>{l&&(l.fftSize=S,h(new Float32Array(S)),m(new Uint8Array(l.frequencyBinCount)))},[S,l]);const O=async()=>{if(n)k.current&&k.current.getTracks().forEach($=>$.stop()),H.current&&(H.current.disconnect(),H.current=null),e(!1),j(!1);else try{const $=await navigator.mediaDevices.getUserMedia({audio:!0});k.current=$;const q=i.createMediaStreamSource($);q.connect(l),H.current=q,e(!0),j(!1)}catch($){console.error("Error accessing microphone:",$)}},L=()=>{j(!A)};fb(()=>{if(!l||!n||A)return;const $=new Float32Array(l.fftSize);l.getFloatTimeDomainData($),h($);const q=new Uint8Array(l.frequencyBinCount);l.getByteFrequencyData(q),m(q)},30);const z=$=>{const q=parseInt($.target.value);x(q)},J=$=>{_(parseFloat($.target.value))};return f.jsxs("div",{className:"sound-wave-visualizer",children:[f.jsx("h2",{children:"Sound Wave Visualizer"}),f.jsxs("div",{className:"info-panel",children:[f.jsx("p",{children:"This demo visualizes sound waves in real-time, showing both the waveform (time-domain) and frequency spectrum. Use the microphone input to see different sound patterns."}),f.jsx("p",{children:"Try saying vowels (a, e, i, o, u) to see simple waveforms, and fricatives (f, s, sh) to see complex overlapping frequency patterns."})]}),f.jsxs("div",{className:"controls-panel",children:[f.jsxs("div",{className:"primary-controls",children:[f.jsx("button",{className:`record-button ${n?"stop":"start"}`,onClick:O,children:n?"Stop Microphone":"Start Microphone"}),n&&f.jsx("button",{className:`pause-button ${A?"resume":"pause"}`,onClick:L,children:A?"Resume":"Pause"})]}),f.jsxs("div",{className:"visualization-controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"visualization-mode",children:"Visualization Mode:"}),f.jsxs("select",{id:"visualization-mode",value:v,onChange:$=>M($.target.value),children:[f.jsx("option",{value:"both",children:"Both"}),f.jsx("option",{value:"waveform",children:"Waveform Only"}),f.jsx("option",{value:"spectrum",children:"Spectrum Only"})]})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"fft-size",children:"Resolution:"}),f.jsxs("select",{id:"fft-size",value:S,onChange:z,children:[f.jsx("option",{value:"512",children:"Low (512)"}),f.jsx("option",{value:"1024",children:"Medium (1024)"}),f.jsx("option",{value:"2048",children:"High (2048)"}),f.jsx("option",{value:"4096",children:"Very High (4096)"}),f.jsx("option",{value:"8192",children:"Ultra High (8192)"})]})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"time-scale",children:"Time Scale:"}),f.jsx("input",{type:"range",id:"time-scale",min:"0.25",max:"4",step:"0.25",value:w,onChange:J,className:"slider"}),f.jsxs("span",{children:[w,"x"]})]}),f.jsxs("div",{className:"control-group checkbox",children:[f.jsx("input",{type:"checkbox",id:"grid-lines",checked:D,onChange:()=>N(!D)}),f.jsx("label",{htmlFor:"grid-lines",children:"Show Grid Lines"})]})]})]}),f.jsxs("div",{className:"visualization-container",children:[(v==="waveform"||v==="both")&&f.jsxs("div",{className:"canvas-container",children:[f.jsx("h3",{children:"Waveform (Time Domain)"}),f.jsx(Nj,{timeData:c,width:800,height:200,timeScale:w,showGrid:D,sampleRate:g}),f.jsx("div",{className:"axis-labels",children:f.jsx("span",{children:"Time (ms)"})})]}),(v==="spectrum"||v==="both")&&f.jsxs("div",{className:"canvas-container",children:[f.jsx("h3",{children:"Frequency Spectrum"}),f.jsx(Ej,{frequencyData:d,width:800,height:200,showGrid:D,sampleRate:g}),f.jsx("div",{className:"axis-labels",children:f.jsx("span",{children:"Frequency (Hz)"})})]})]}),f.jsxs("div",{className:"explanation",children:[f.jsx("h3",{children:"Understanding Sound Waves"}),f.jsxs("p",{children:["The ",f.jsx("strong",{children:"waveform view"})," shows the pressure variations of the sound wave over time. The amplitude (height) represents loudness, while the shape reveals characteristics of the sound:"]}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Vowels"})," typically show regular, sinusoidal patterns"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Fricatives"})," (like 's', 'f', 'sh') appear as irregular, noise-like patterns"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Plosives"})," (like 'p', 't', 'k') show sudden spikes followed by silence"]})]}),f.jsxs("p",{children:["The ",f.jsx("strong",{children:"frequency spectrum"})," shows the energy at different frequencies. Each speech sound has a characteristic distribution:"]}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Vowels"})," show distinct peaks called formants (resonant frequencies)"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Fricatives"})," have energy spread across high frequencies"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Voiced consonants"})," combine regular harmonics with noise"]})]})]})]})};ks.register(_a,wa,eo,Ds,En,ic,sc,nc);const rn=[[50,20],[100,40],[200,70],[500,100],[1e3,160],[2e3,300],[5e3,700],[1e4,1300],[15e3,2500]],V0=({audioContext:n})=>{const[e,i]=C.useState(1e3),[a,l]=C.useState(1160),[r,c]=C.useState(!1),[h,d]=C.useState(!1),[m,g]=C.useState(!1),[b,S]=C.useState(160),[x,v]=C.useState(.5),[M,w]=C.useState(.5),_=C.useRef(null),A=C.useRef(null),j=C.useRef(null),D=C.useRef(null),N=U=>{let R=0;for(let ae=0;ae<rn.length&&rn[ae][0]<=U;ae++)R=ae;if(R===rn.length-1)return rn[R][1];const Q=rn[R],B=rn[R+1],G=Q[0],K=Q[1],I=B[0],Y=B[1];return K+(U-G)*(Y-K)/(I-G)};C.useEffect(()=>{const U=N(e);S(U)},[e]);const k=Math.abs(a-e)>b,H=U=>{i(parseInt(U.target.value))},O=U=>{l(parseInt(U.target.value))},L=U=>{v(parseFloat(U.target.value)),_.current&&_.current.gainNode&&_.current.gainNode.gain.setValueAtTime(parseFloat(U.target.value),n.currentTime)},z=U=>{w(parseFloat(U.target.value)),A.current&&A.current.gainNode&&A.current.gainNode.gain.setValueAtTime(parseFloat(U.target.value),n.currentTime)},J=()=>{if(r)_.current&&(_.current.stop(),_.current=null),c(!1);else{const U=n.createOscillator(),R=n.createGain();U.type="sine",U.frequency.setValueAtTime(e,n.currentTime),R.gain.setValueAtTime(x,n.currentTime),U.connect(R),R.connect(n.destination),U.start(),U.gainNode=R,_.current=U,c(!0)}},$=()=>{if(h)A.current&&(A.current.stop(),A.current=null),d(!1);else{const U=n.createOscillator(),R=n.createGain();U.type="sine",U.frequency.setValueAtTime(a,n.currentTime),R.gain.setValueAtTime(M,n.currentTime),U.connect(R),R.connect(n.destination),U.start(),U.gainNode=R,A.current=U,d(!0)}},q=()=>{if(m){j.current&&(clearTimeout(j.current),j.current=null),_.current&&(_.current.stop(),_.current=null),A.current&&(A.current.stop(),A.current=null),g(!1);return}g(!0);const U=n.createOscillator(),R=n.createGain();U.type="sine",U.frequency.setValueAtTime(e,n.currentTime),R.gain.setValueAtTime(x,n.currentTime),U.connect(R),R.connect(n.destination);const Q=n.createOscillator(),B=n.createGain();Q.type="sine",Q.frequency.setValueAtTime(a,n.currentTime),B.gain.setValueAtTime(M,n.currentTime),Q.connect(B),B.connect(n.destination),U.start(),Q.start(),_.current=U,A.current=Q,j.current=setTimeout(()=>{U.stop(),Q.stop(),_.current=null,A.current=null,g(!1)},2e3)},ee={labels:rn.map(U=>U[0]),datasets:[{label:"Critical Bandwidth",data:rn.map(U=>U[1]),borderColor:"rgba(53, 162, 235, 1)",backgroundColor:"rgba(53, 162, 235, 0.5)",tension:.4,pointRadius:4},{label:"Current Frequency",data:rn.map(U=>U[0]===e?N(e):null),borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.5)",pointRadius:8,pointHoverRadius:10,showLine:!1},{label:"Selected Point",data:rn.map(()=>null),borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.5)",pointRadius:8,pointHoverRadius:10,showLine:!1}]};C.useEffect(()=>{if(D.current){const U=D.current,R=rn.reduce((B,G,K)=>{const I=Math.abs(G[0]-e),Y=Math.abs(rn[B][0]-e);return I<Y?K:B},0),Q=ee.datasets[2].data.map(()=>null);Q[R]=N(e),U.data&&U.data.datasets&&U.data.datasets[2]&&(U.data.datasets[2].data=Q,U.update())}},[e]);const W={responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"logarithmic",title:{display:!0,text:"Frequency (Hz)"},min:50,max:15e3},y:{title:{display:!0,text:"Critical Bandwidth (Hz)"},min:0}},plugins:{tooltip:{callbacks:{label:function(U){return`Bandwidth: ${U.raw} Hz`}}}},onClick:(U,R)=>{if(R.length>0){const Q=R[0].index;i(rn[Q][0])}}},P=N(e),te=(Math.log10(e)-Math.log10(50))/(Math.log10(15e3)-Math.log10(50))*100,V=P/2500*100;return f.jsxs("div",{className:"critical-bandwidth-chart",children:[f.jsxs("div",{className:"description",children:[f.jsxs("p",{children:["The ",f.jsx("strong",{children:"critical bandwidth"}),' represents the minimum frequency difference needed to distinguish two tones. Below this threshold, we hear a single "rough" sound rather than two distinct tones.']}),f.jsx("p",{children:"This chart shows how critical bandwidth varies across the frequency spectrum. Select a base frequency and explore whether you can distinguish it from a comparison frequency."})]}),f.jsxs("div",{className:"chart-container",style:{position:"relative"},children:[f.jsx("div",{style:{height:"300px"},children:f.jsx(bi,{ref:D,data:ee,options:W})}),f.jsx("div",{className:"frequency-marker",style:{position:"absolute",left:`${te}%`,bottom:`${V}%`,width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"rgba(255, 99, 132, 0.8)",border:"2px solid rgba(255, 99, 132, 1)",transform:"translate(-50%, 50%)",pointerEvents:"none",zIndex:10}})]}),f.jsxs("div",{className:"frequency-controls",children:[f.jsxs("div",{className:"frequency-control",children:[f.jsxs("h3",{children:["Base Frequency: ",e," Hz"]}),f.jsx("input",{type:"range",min:"50",max:"15000",step:"10",value:e,onChange:H,className:"slider"}),f.jsxs("div",{className:"volume-control",children:[f.jsxs("label",{children:["Volume: ",Math.round(x*100),"%"]}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:x,onChange:L,className:"slider"})]}),f.jsx("button",{className:`play-button ${r?"playing":""}`,onClick:J,children:r?"Stop":"Play Base"})]}),f.jsxs("div",{className:"frequency-control",children:[f.jsxs("h3",{children:["Comparison Frequency: ",a," Hz"]}),f.jsx("input",{type:"range",min:Math.max(50,e-b*2),max:Math.min(15e3,e+b*2),step:"10",value:a,onChange:O,className:"slider"}),f.jsxs("div",{className:"volume-control",children:[f.jsxs("label",{children:["Volume: ",Math.round(M*100),"%"]}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:M,onChange:z,className:"slider"})]}),f.jsx("button",{className:`play-button ${h?"playing":""}`,onClick:$,children:h?"Stop":"Play Comparison"})]}),f.jsxs("div",{className:"play-sequence",children:[f.jsx("button",{className:`sequence-button ${m?"playing":""}`,onClick:q,disabled:r||h,children:m?"Playing...":"Play Both Together"}),f.jsx("span",{className:"sequence-info",children:`Plays both tones simultaneously. Within the critical bandwidth, they'll sound like a single "rough" tone.`})]})]}),f.jsxs("div",{className:"bandwidth-info",children:[f.jsxs("h4",{children:["Critical Bandwidth at ",e," Hz: ",Math.round(b)," Hz"]}),f.jsxs("p",{children:["At this frequency, tones need to be at least ",Math.round(b)," Hz apart to be perceived as distinct. Current difference: ",Math.abs(a-e)," Hz (",k?"should be distinguishable":"likely indistinguishable",")."]})]})]})},kj=({audioContext:n})=>{const[e,i]=C.useState("simultaneous"),[a,l]=C.useState(1e3),[r,c]=C.useState(1200),[h,d]=C.useState(.2),[m,g]=C.useState(.5),[b,S]=C.useState(!1),[x,v]=C.useState(100),M=C.useRef([]),w=C.useRef(null);C.useEffect(()=>()=>{M.current.forEach(L=>{L&&L.stop()}),w.current&&clearTimeout(w.current)},[]);const _=L=>{l(parseInt(L.target.value))},A=L=>{c(parseInt(L.target.value))},j=L=>{d(parseFloat(L.target.value))},D=L=>{g(parseFloat(L.target.value))},N=L=>{v(parseInt(L.target.value))},k=L=>{i(L)},H=()=>{if(b){M.current.forEach(q=>{q&&q.stop()}),M.current=[],S(!1);return}S(!0);const L=n.createOscillator(),z=n.createGain();L.type="sine",L.frequency.setValueAtTime(a,n.currentTime),z.gain.setValueAtTime(h,n.currentTime),L.connect(z),z.connect(n.destination);const J=n.createOscillator(),$=n.createGain();J.type="sine",J.frequency.setValueAtTime(r,n.currentTime),$.gain.setValueAtTime(m,n.currentTime),J.connect($),$.connect(n.destination),L.start(),J.start(),M.current=[L,J],w.current=setTimeout(()=>{L.stop(),J.stop(),M.current=[],S(!1)},2e3)},O=()=>{if(b){M.current.forEach(ee=>{ee&&ee.stop()}),M.current=[],w.current&&clearTimeout(w.current),S(!1);return}S(!0);const L=n.createOscillator(),z=n.createGain();L.type="sine",L.frequency.setValueAtTime(r,n.currentTime),z.gain.setValueAtTime(m,n.currentTime),L.connect(z),z.connect(n.destination),L.start(),M.current=[L],L.stop(n.currentTime+.5);const J=n.createOscillator(),$=n.createGain();J.type="sine",J.frequency.setValueAtTime(a,n.currentTime),$.gain.setValueAtTime(h,n.currentTime),J.connect($),$.connect(n.destination);const q=n.currentTime+x/1e3+.5;J.start(q),J.stop(q+.5),M.current.push(J),w.current=setTimeout(()=>{S(!1)},x+1e3)};return f.jsxs("div",{className:"masking-demo",children:[f.jsxs("div",{className:"description",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Masking"})," occurs when the perception of one sound (the target) is affected by the presence of another sound (the masker). This demo lets you explore two types of masking:"]}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Simultaneous masking"}),": When two sounds occur at the same time"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Temporal masking"}),": When one sound affects the perception of a sound that occurs shortly before or after it"]})]})]}),f.jsxs("div",{className:"masking-type-selector",children:[f.jsx("button",{className:`type-button ${e==="simultaneous"?"active":""}`,onClick:()=>k("simultaneous"),children:"Simultaneous Masking"}),f.jsx("button",{className:`type-button ${e==="temporal"?"active":""}`,onClick:()=>k("temporal"),children:"Temporal Masking"})]}),f.jsxs("div",{className:"masking-controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsx("h3",{children:"Target Sound (the one being masked)"}),f.jsxs("label",{children:["Frequency: ",a," Hz"]}),f.jsx("input",{type:"range",min:"100",max:"8000",step:"10",value:a,onChange:_,className:"slider"}),f.jsxs("div",{className:"volume-control",children:[f.jsxs("label",{children:["Volume: ",Math.round(h*100),"%"]}),f.jsx("input",{type:"range",min:"0.05",max:"1",step:"0.01",value:h,onChange:j,className:"slider"})]})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("h3",{children:"Masker Sound"}),f.jsxs("label",{children:["Frequency: ",r," Hz"]}),f.jsx("input",{type:"range",min:"100",max:"8000",step:"10",value:r,onChange:A,className:"slider"}),f.jsxs("div",{className:"volume-control",children:[f.jsxs("label",{children:["Volume: ",Math.round(m*100),"%"]}),f.jsx("input",{type:"range",min:"0.05",max:"1",step:"0.01",value:m,onChange:D,className:"slider"})]})]}),e==="temporal"&&f.jsxs("div",{className:"control-group",children:[f.jsx("h3",{children:"Temporal Delay"}),f.jsxs("label",{children:["Delay: ",x," ms"]}),f.jsx("input",{type:"range",min:"10",max:"300",step:"5",value:x,onChange:N,className:"slider"})]}),f.jsx("div",{className:"play-control",children:f.jsx("button",{className:`play-button ${b?"playing":""}`,onClick:e==="simultaneous"?H:O,children:b?"Stop":"Play"})}),f.jsx("div",{className:"masking-explanation",children:e==="simultaneous"?f.jsx("p",{children:"Try adjusting the frequencies and volumes. Notice how the target becomes harder to hear when the masker is louder and closer in frequency to the target."}):f.jsx("p",{children:"The masker plays first, followed by the target after the specified delay. Try adjusting the delay and notice how the target becomes more audible as the delay increases."})})]}),f.jsxs("div",{className:"masking-tips",children:[f.jsx("h3",{children:"Tips for Exploration"}),f.jsxs("ul",{children:[f.jsx("li",{children:"For simultaneous masking, try setting the masker frequency close to the target frequency."}),f.jsx("li",{children:"Increase the masker volume gradually until you can no longer hear the target."}),f.jsx("li",{children:"For temporal masking, try very short delays (20-50ms) to experience strong masking effects."}),f.jsx("li",{children:"Notice how masking is stronger when frequencies are similar."}),f.jsx("li",{children:"Try adjusting the target volume to find the threshold where it becomes audible despite masking."})]})]})]})},Oj=({audioContext:n})=>{const[e,i]=C.useState(1e3),[a,l]=C.useState(1020),[r,c]=C.useState(5),[h,d]=C.useState(!1),[m,g]=C.useState(!1),[b,S]=C.useState({step:1,correctAnswers:0,totalTrials:0,direction:null,lastCorrect:null}),x=C.useRef(null),v=C.useRef(null),M=[[20,3],[100,1.5],[500,.5],[1e3,.3],[2e3,.4],[4e3,.6],[8e3,1],[15e3,2]],w=$=>{if($<=M[0][0])return $*(M[0][1]/100);if($>=M[M.length-1][0])return $*(M[M.length-1][1]/100);for(let q=0;q<M.length-1;q++){const[ee,W]=M[q],[P,te]=M[q+1];if($>=ee&&$<=P){const V=W+(te-W)*($-ee)/(P-ee);return $*(V/100)}}return $*.5/100};C.useEffect(()=>{const $=w(e);c($),l(e+$)},[e]),C.useEffect(()=>()=>{x.current&&x.current.stop(),v.current&&clearTimeout(v.current)},[]);const _=$=>{i(parseInt($.target.value))},A=$=>{l(parseInt($.target.value))},j=($,q=.8)=>{if(!n)return;x.current&&(x.current.stop(),x.current=null);const ee=n.createOscillator(),W=n.createGain();ee.type="sine",ee.frequency.setValueAtTime($,n.currentTime),W.gain.setValueAtTime(0,n.currentTime),W.gain.linearRampToValueAtTime(.5,n.currentTime+.01),W.gain.linearRampToValueAtTime(.5,n.currentTime+q-.01),W.gain.linearRampToValueAtTime(0,n.currentTime+q),ee.connect(W),W.connect(n.destination),ee.start(),ee.stop(n.currentTime+q),x.current=ee,setTimeout(()=>{x.current===ee&&(x.current=null)},q*1e3)},D=()=>{h||(d(!0),j(e),setTimeout(()=>{j(a),setTimeout(()=>{d(!1)},1e3)},1200))},N=()=>{g(!0),H()},k=()=>{g(!1),v.current&&clearTimeout(v.current)},H=()=>{S({step:1,correctAnswers:0,totalTrials:0,direction:Math.random()>.5?"higher":"lower",lastCorrect:null}),O()},O=()=>{if(!m)return;d(!0);const $=b.direction,q=r*b.step,ee=$==="higher"?e+q:e-q;j(e),v.current=setTimeout(()=>{j(ee),setTimeout(()=>{d(!1)},1e3)},1200)},L=$=>{if(!m||h)return;const q=b.direction==="higher"&&$==="higher"||b.direction==="lower"&&$==="lower";S(ee=>({...ee,totalTrials:ee.totalTrials+1,correctAnswers:ee.correctAnswers+(q?1:0),step:q?ee.step+.5:Math.max(1,ee.step-.5),direction:Math.random()>.5?"higher":"lower",lastCorrect:q})),setTimeout(()=>{O()},1e3)},z={labels:M.map($=>$[0]),datasets:[{label:"Just Noticeable Difference (%)",data:M.map($=>$[1]),borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.4}]},J={scales:{x:{type:"logarithmic",title:{display:!0,text:"Frequency (Hz)"},min:20,max:16e3},y:{title:{display:!0,text:"JND (% of frequency)"},min:0}},responsive:!0,maintainAspectRatio:!1};return f.jsxs("div",{className:"frequency-discrimination",children:[f.jsxs("div",{className:"description",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Frequency discrimination"})," refers to our ability to detect changes in frequency. The ",f.jsx("strong",{children:"Just Noticeable Difference (JND)"})," is the smallest change in frequency that can be reliably detected."]}),f.jsx("p",{children:"This JND varies across the frequency spectrum, being smallest (best discrimination) in the mid-frequency range around 1-2 kHz where human speech is concentrated."})]}),m?f.jsxs("div",{className:"discrimination-game",children:[f.jsx("h3",{children:"Frequency Discrimination Game"}),f.jsxs("div",{className:"game-info",children:[f.jsx("p",{children:"Listen to the two tones and decide if the second tone is higher or lower than the first. The difficulty will adjust based on your performance."}),f.jsxs("div",{className:"game-stats",children:[f.jsxs("div",{className:"stat",children:["Base Frequency: ",e," Hz"]}),f.jsxs("div",{className:"stat",children:["Current JND: ",r.toFixed(1)," Hz"]}),f.jsxs("div",{className:"stat",children:["Difficulty Level: ",b.step.toFixed(1),"x"]}),f.jsxs("div",{className:"stat",children:["Score: ",b.correctAnswers,"/",b.totalTrials]}),b.lastCorrect!==null&&f.jsx("div",{className:`last-result ${b.lastCorrect?"correct":"incorrect"}`,children:b.lastCorrect?"Correct!":"Incorrect!"})]})]}),f.jsxs("div",{className:"game-controls",children:[f.jsx("button",{className:"play-button",onClick:O,disabled:h,children:h?"Playing...":"Play Tones"}),f.jsxs("div",{className:"answer-buttons",children:[f.jsx("button",{className:"answer-button higher",onClick:()=>L("higher"),disabled:h,children:"Second tone was HIGHER"}),f.jsx("button",{className:"answer-button lower",onClick:()=>L("lower"),disabled:h,children:"Second tone was LOWER"})]}),f.jsx("button",{className:"stop-button",onClick:k,children:"End Game"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"chart-container",children:[f.jsx("div",{style:{height:"300px"},children:f.jsx(bi,{data:z,options:J})}),f.jsx("div",{className:"frequency-marker",style:{left:`${(Math.log10(e)-Math.log10(20))/(Math.log10(16e3)-Math.log10(20))*100}%`}})]}),f.jsxs("div",{className:"interactive-test",children:[f.jsx("h3",{children:"Test Your Frequency Discrimination"}),f.jsxs("div",{className:"frequency-controls",children:[f.jsxs("div",{className:"frequency-control",children:[f.jsxs("label",{children:["Base Frequency: ",e," Hz"]}),f.jsx("input",{type:"range",min:"100",max:"8000",step:"100",value:e,onChange:_,className:"slider"})]}),f.jsxs("div",{className:"frequency-control",children:[f.jsxs("label",{children:["Test Frequency: ",a," Hz",f.jsxs("span",{className:"jnd-info",children:["(Difference: ",Math.abs(a-e).toFixed(1)," Hz, JND  ",r.toFixed(1)," Hz)"]})]}),f.jsx("input",{type:"range",min:e-r*10,max:e+r*10,step:"1",value:a,onChange:A,className:"slider"})]}),f.jsxs("div",{className:"sequence-control",children:[f.jsx("button",{className:`play-button ${h?"playing":""}`,onClick:D,disabled:h,children:h?"Playing...":"Play Sequence"}),f.jsx("span",{className:"sequence-info",children:"Try to hear if the second tone is higher or lower than the first."})]})]}),f.jsxs("div",{className:"game-start",children:[f.jsx("button",{className:"game-button",onClick:N,children:"Start Discrimination Game"}),f.jsx("p",{children:"Test your frequency discrimination abilities with an interactive game. You'll hear two tones and need to identify if the second is higher or lower."})]})]})]})]})},zj=({audioContext:n})=>{const[e,i]=C.useState(!1),[a,l]=C.useState(1e3),[r,c]=C.useState(100),[h,d]=C.useState(5),[m,g]=C.useState(.7),[b,S]=C.useState(!0),[x,v]=C.useState(!1),M=C.useRef(null),w=C.useRef(null);C.useEffect(()=>()=>{M.current&&M.current.stop(),w.current&&clearTimeout(w.current)},[]);const _=O=>{l(parseInt(O.target.value))},A=O=>{c(parseInt(O.target.value))},j=O=>{d(parseInt(O.target.value))},D=O=>{g(parseFloat(O.target.value))},N=()=>{if(e||!n)return;i(!0),S(!1);const O=n.createBufferSource(),L=n.createGain(),z=n.createBiquadFilter();z.type="notch",z.frequency.value=a,z.Q.value=10;const J=n.createBiquadFilter();J.type="notch",J.frequency.value=a,J.Q.value=5;const $=n.createBiquadFilter();$.type="bandpass",$.frequency.value=a,$.Q.value=.5;const q=n.sampleRate*h,ee=n.createBuffer(1,q,n.sampleRate),W=ee.getChannelData(0);for(let V=0;V<q;V++)W[V]=Math.random()*2-1;O.buffer=ee,L.gain.setValueAtTime(0,n.currentTime),L.gain.linearRampToValueAtTime(m,n.currentTime+.1),L.gain.linearRampToValueAtTime(m,n.currentTime+h-.2),L.gain.linearRampToValueAtTime(0,n.currentTime+h),O.connect($),$.connect(z),z.connect(J),J.connect(L),L.connect(n.destination),O.start(),M.current=O;let P=h;const te=setInterval(()=>{P-=1,P<=0&&clearInterval(te)},1e3);w.current=setTimeout(()=>{i(!1),clearInterval(te),setTimeout(()=>{S(!0)},500)},h*1e3)},k=()=>{if(e)return;const O=n.createOscillator(),L=n.createGain();O.type="sine",O.frequency.value=a,L.gain.setValueAtTime(0,n.currentTime),L.gain.linearRampToValueAtTime(.3,n.currentTime+.05),L.gain.linearRampToValueAtTime(.3,n.currentTime+.95),L.gain.linearRampToValueAtTime(0,n.currentTime+1),O.connect(L),L.connect(n.destination),O.start(),O.stop(n.currentTime+1)},H=()=>{v(!x)};return f.jsxs("div",{className:"phantom-tones-demo",children:[f.jsxs("div",{className:"description",children:[f.jsxs("p",{children:["The ",f.jsx("strong",{children:"Zwicker tone"})," or ",f.jsx("strong",{children:"auditory afterimage"})," is a phantom tone that you may hear after listening to broadband noise with a specific frequency notched out."]}),f.jsx("p",{children:"When the noise stops, you might briefly hear a faint tone at the frequency that was missing from the noise. This demonstrates how our auditory system actively fills in missing information."})]}),f.jsxs("div",{className:"experiment-panel",children:[f.jsxs("div",{className:"controls-panel",children:[f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Notch Frequency: ",a," Hz"]}),f.jsx("input",{type:"range",min:"500",max:"4000",step:"50",value:a,onChange:_,className:"slider",disabled:e})]}),f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Notch Width: ",r," Hz"]}),f.jsx("input",{type:"range",min:"50",max:"300",step:"10",value:r,onChange:A,className:"slider",disabled:e})]}),f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Noise Duration: ",h," seconds"]}),f.jsx("input",{type:"range",min:"3",max:"10",step:"1",value:h,onChange:j,className:"slider",disabled:e})]}),f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Volume: ",Math.round(m*100),"%"]}),f.jsx("input",{type:"range",min:"0.3",max:"1",step:"0.05",value:m,onChange:D,className:"slider",disabled:e})]})]}),f.jsxs("div",{className:"experiment-actions",children:[f.jsx("button",{className:"play-button primary-button",onClick:N,disabled:e,children:e?`Playing Notched Noise... (${Math.ceil(h-(Date.now()-n.currentTime*1e3)/1e3)}s)`:"Play Notched Noise"}),f.jsx("button",{className:"reference-button",onClick:k,disabled:e,children:"Play Reference Tone"}),f.jsx("button",{className:"visualization-button",onClick:H,children:x?"Hide Visualization":"Show Visualization"})]}),b&&!e&&f.jsx("div",{className:"instructions-panel",children:n.state==="running"?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Instructions:"}),f.jsxs("ol",{children:[f.jsx("li",{children:'Click "Play Notched Noise" and listen to the noise for the full duration.'}),f.jsx("li",{children:"When the noise stops, pay close attention - you might hear a faint tone."}),f.jsx("li",{children:'Click "Play Reference Tone" to compare what you heard with the actual frequency.'}),f.jsx("li",{children:"Try different notch frequencies and widths to see how it affects the phantom tone."})]})]}):f.jsx("p",{children:"Click anywhere to enable audio for this demo."})}),!b&&!e&&f.jsxs("div",{className:"result-panel",children:[f.jsx("h3",{children:"Did you hear it?"}),f.jsxs("p",{children:["After the noise stopped, you might have heard a faint tone at around ",a,' Hz. This is the "phantom tone" or Zwicker tone - an auditory illusion created by your brain.']}),f.jsx("p",{children:'Click "Play Reference Tone" to hear the actual frequency that was notched out of the noise.'})]})]}),f.jsxs("div",{className:"explanation-panel",children:[f.jsx("h3",{children:"How It Works"}),f.jsx("p",{children:'The Zwicker tone illusion demonstrates how our auditory system actively processes sound rather than passively receiving it. When exposed to broadband noise with a specific frequency band missing (a "notch"), our auditory neurons that respond to that frequency experience less stimulation than neurons responding to other frequencies.'}),f.jsx("p",{children:"When the noise stops, the neurons that were less stimulated temporarily show increased activity relative to the others, creating the perception of a tone at the notched frequency. This is similar to how you see an afterimage of complementary colors after staring at a colored image."})]}),x&&f.jsxs("div",{className:"visualization-panel",children:[f.jsx("h3",{children:"Frequency Spectrum Visualization"}),f.jsxs("div",{className:"spectrum-visualization",children:[f.jsxs("div",{className:"frequency-axis",children:[f.jsxs("div",{className:"frequency-marker",style:{left:`${(a-500)/3500*100}%`},children:[f.jsx("div",{className:"marker-line"}),f.jsxs("div",{className:"marker-label",children:[a," Hz"]})]}),f.jsx("div",{className:"spectrum-curve",children:f.jsxs("svg",{viewBox:"0 0 100 50",preserveAspectRatio:"none",width:"100%",height:"100%",children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"spectrumGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[f.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.8"}),f.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.2"})]})}),f.jsx("path",{d:`M0,50 
                       ${Array.from({length:100},(O,L)=>{const z=L,J=500+L/100*3500,$=Math.abs(J-a),q=$<r/2?50-50*(1-($/(r/2))**2):0;return`L${z},${q}`}).join(" ")}
                       L100,50 Z`,fill:"url(#spectrumGradient)"})]})})]}),f.jsxs("div",{className:"frequency-labels",children:[f.jsx("span",{children:"500 Hz"}),f.jsx("span",{children:"4000 Hz"})]})]}),f.jsxs("p",{className:"visualization-explanation",children:["This simplified visualization shows the frequency spectrum of the noise with a notch at ",a," Hz. The deeper the notch, the more effectively that frequency is removed from the noise."]})]})]})},Lj=({audioContext:n})=>{const[e,i]=C.useState(100),[a,l]=C.useState(4),[r,c]=C.useState(!1),[h,d]=C.useState(!1),[m,g]=C.useState([1,.7,.5,.3,.2]),b=C.useRef([]);C.useEffect(()=>()=>{b.current.forEach(j=>{j&&j.stop()})},[]);const S=j=>{i(parseInt(j.target.value))},x=j=>{l(parseInt(j.target.value))},v=()=>{c(!r)},M=(j,D)=>{const N=[...m];N[j]=parseFloat(D),g(N)},w=()=>{if(h){b.current.forEach(D=>{D&&D.stop()}),b.current=[],d(!1);return}d(!0);const j=[];if(r){const D=n.createOscillator(),N=n.createGain();D.type="sine",D.frequency.setValueAtTime(e,n.currentTime),N.gain.setValueAtTime(m[0],n.currentTime),D.connect(N),N.connect(n.destination),D.start(),j.push(D)}for(let D=1;D<=a;D++){const N=n.createOscillator(),k=n.createGain();N.type="sine",N.frequency.setValueAtTime(e*(D+1),n.currentTime);const H=m[D]!==void 0?m[D]:.5;k.gain.setValueAtTime(H,n.currentTime),N.connect(k),k.connect(n.destination),N.start(),j.push(N)}b.current=j},_=()=>{if(h)return;const j=n.createOscillator(),D=n.createGain();j.type="sine",j.frequency.setValueAtTime(e,n.currentTime),D.gain.setValueAtTime(.5,n.currentTime),j.connect(D),D.connect(n.destination),j.start(),setTimeout(()=>{j.stop()},1e3)},A=()=>{const j=[];r&&j.push({number:1,frequency:e,amplitude:m[0]});for(let D=1;D<=a;D++)j.push({number:D+1,frequency:e*(D+1),amplitude:m[D]!==void 0?m[D]:.5});return j};return f.jsxs("div",{className:"missing-fundamental-demo",children:[f.jsxs("div",{className:"controls-panel",children:[f.jsxs("div",{className:"fundamental-controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Fundamental Frequency: ",e," Hz"]}),f.jsx("input",{type:"range",min:"50",max:"200",step:"1",value:e,onChange:S,className:"slider"})]}),f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Number of Harmonics: ",a]}),f.jsx("input",{type:"range",min:"2",max:"6",step:"1",value:a,onChange:x,className:"slider"})]}),f.jsx("div",{className:"control-group checkbox",children:f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:r,onChange:v}),"Include Fundamental Frequency"]})})]}),f.jsxs("div",{className:"harmonics-display",children:[f.jsx("h3",{children:"Harmonics"}),f.jsx("div",{className:"harmonics-list",children:A().map((j,D)=>f.jsxs("div",{className:"harmonic-item",children:[f.jsxs("span",{className:"harmonic-number",children:["H",j.number]}),f.jsxs("span",{className:"harmonic-frequency",children:[j.frequency," Hz"]}),f.jsx("div",{className:"harmonic-volume-control",children:f.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:j.amplitude,onChange:N=>M(j.number===1?0:j.number-1,N.target.value),className:"volume-slider"})})]},D))})]}),f.jsxs("div",{className:"playback-controls",children:[f.jsx("button",{className:`play-button ${h?"playing":""}`,onClick:w,children:h?"Stop":"Play Harmonics"}),f.jsx("button",{className:"reference-button",onClick:_,disabled:h,children:"Play Fundamental Only"})]}),f.jsxs("div",{className:"instructions-panel",children:[f.jsx("h3",{children:"Instructions:"}),f.jsxs("ol",{children:[f.jsx("li",{children:"Set the fundamental frequency and number of harmonics."}),f.jsx("li",{children:'Uncheck "Include Fundamental Frequency" to remove the fundamental.'}),f.jsx("li",{children:"Adjust the volume sliders to change the relative strength of each harmonic."}),f.jsx("li",{children:'Click "Play Harmonics" and listen carefully.'}),f.jsx("li",{children:"You should still hear the fundamental pitch even when it's not included!"}),f.jsx("li",{children:'Click "Play Fundamental Only" to compare with the actual fundamental.'})]})]})]}),f.jsxs("div",{className:"explanation-panel",children:[f.jsx("h3",{children:"How It Works"}),f.jsx("p",{children:"The missing fundamental illusion demonstrates that pitch perception is not simply about detecting frequencies, but involves complex pattern recognition in the brain."}),f.jsx("p",{children:"When your auditory system detects a series of harmonics (e.g., 200 Hz, 300 Hz, 400 Hz), it recognizes that these frequencies form a harmonic series. Your brain then infers that they must be harmonics of a 100 Hz fundamental, even if that 100 Hz tone isn't physically present in the sound."}),f.jsx("p",{children:'This is why we can hear bass notes from small speakers that physically cannot reproduce low frequencies - the higher harmonics give our brain enough information to "fill in" the missing fundamental.'}),f.jsx("p",{children:"Try adjusting the volume of individual harmonics to see how it affects your perception of the fundamental. Some harmonics contribute more strongly to the missing fundamental effect than others."})]})]})},Bj=()=>{const[n,e]=C.useState("critical-bandwidth"),[i,a]=C.useState(null);C.useEffect(()=>{const r=()=>{if(!i){const c=new(window.AudioContext||window.webkitAudioContext);a(c)}document.removeEventListener("click",r)};return document.addEventListener("click",r),()=>{document.removeEventListener("click",r),i&&i.close()}},[i]);const l=()=>{if(!i)return f.jsx("div",{className:"initial-prompt",children:f.jsx("p",{children:"Click anywhere to enable audio for this demo."})});switch(n){case"critical-bandwidth":return f.jsx(V0,{audioContext:i});case"frequency-discrimination":return f.jsx(Oj,{audioContext:i});case"masking":return f.jsx(kj,{audioContext:i});case"phantom-tones":return f.jsx(zj,{audioContext:i});case"missing-fundamental":return f.jsx(Lj,{audioContext:i});default:return f.jsx(V0,{audioContext:i})}};return f.jsxs("div",{className:"frequency-perception-demo",children:[f.jsx("h2",{children:"Human Frequency Perception"}),f.jsx("div",{className:"info-panel",children:f.jsx("p",{children:"Our ability to perceive and distinguish sounds is not uniform across the frequency spectrum. This demo explores several key aspects of human frequency perception."})}),f.jsxs("div",{className:"tabs",children:[f.jsx("button",{className:n==="critical-bandwidth"?"active":"",onClick:()=>e("critical-bandwidth"),children:"Critical Bandwidth"}),f.jsx("button",{className:n==="frequency-discrimination"?"active":"",onClick:()=>e("frequency-discrimination"),children:"Frequency Discrimination"}),f.jsx("button",{className:n==="masking"?"active":"",onClick:()=>e("masking"),children:"Masking Effects"}),f.jsx("button",{className:n==="phantom-tones"?"active":"",onClick:()=>e("phantom-tones"),children:"Phantom Tones"}),f.jsx("button",{className:n==="missing-fundamental"?"active":"",onClick:()=>e("missing-fundamental"),children:"Missing Fundamental"})]}),f.jsx("div",{className:"tab-content",children:l()}),f.jsxs("div",{className:"explanation",children:[f.jsx("h3",{children:"Key Concepts in Frequency Perception"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Frequency Resolution"}),": Humans cannot resolve frequencies equally well across the spectrum. Our ability to distinguish between two close frequencies varies based on their position in the frequency range."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Critical Bandwidth"}),": Two frequencies need to have a minimum distance to be perceived as separate. This critical bandwidth varies across the spectrum - it's narrower at low frequencies and wider at high frequencies."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Masking"}),": Loud sounds can hide (mask) quieter sounds that are close in frequency or time. This masking effect is the basis for many audio compression algorithms."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Pitch Perception"}),": Our perception of pitch is not exactly the same as frequency. The relationship is approximately logarithmic, not linear."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Auditory Illusions"}),': Our auditory system can create phantom tones and other illusions, demonstrating that hearing is an active process where the brain interprets and sometimes "fills in" sound information.']})]})]})]})},Fj=({tractShape:n,onChange:e})=>{const i=C.useRef(null),[a,l]=C.useState(null),[r,c]=C.useState({width:600,height:200});C.useEffect(()=>{const _=()=>{if(i.current){const{width:A,height:j}=i.current.getBoundingClientRect();c({width:A,height:j})}};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const h=()=>{const{width:_,height:A}=r,j=n.length,D=_/(j-1),N=A/2;return n.map((k,H)=>{const O=H*D,L=A*.4*k,z=N-L,J=N+L;return{x:O,topY:z,bottomY:J,value:k,centerY:N}})},d=_=>{if(_.length===0)return{topPath:"",bottomPath:""};let A=`M ${_[0].x} ${_[0].topY}`;for(let D=1;D<_.length;D++){const N=_[D-1],k=_[D],H=N.x+(k.x-N.x)/3,O=N.topY,L=k.x-(k.x-N.x)/3,z=k.topY;A+=` C ${H} ${O}, ${L} ${z}, ${k.x} ${k.topY}`}let j=`M ${_[0].x} ${_[0].bottomY}`;for(let D=1;D<_.length;D++){const N=_[D-1],k=_[D],H=N.x+(k.x-N.x)/3,O=N.bottomY,L=k.x-(k.x-N.x)/3,z=k.bottomY;j+=` C ${H} ${O}, ${L} ${z}, ${k.x} ${k.bottomY}`}return{topPath:A,bottomPath:j}},m=(_,A)=>{A.preventDefault(),l(_),window.addEventListener("mousemove",g),window.addEventListener("mouseup",S),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",S),window.addEventListener("touchcancel",S),A.type==="touchstart"&&A.touches[0]&&b(A)},g=_=>{if(a===null||!i.current)return;const A=i.current.getBoundingClientRect(),j=A.height/2,D=_.clientY-A.top;let N=j-D;const k=A.height*.4,H=Math.abs(N)/k;let O=Math.min(H,1);N<0&&(O=Math.max(0,1-O)),x(a,O)},b=_=>{if(_.preventDefault(),a===null||!i.current||!_.touches[0])return;const A=i.current.getBoundingClientRect(),j=A.height/2,D=_.touches[0].clientY-A.top;let N=j-D;const k=A.height*.4,H=Math.abs(N)/k;let O=Math.min(H,1);N<0&&(O=Math.max(0,1-O)),x(a,O)},S=()=>{a!==null&&(l(null),window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",S),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",S),window.removeEventListener("touchcancel",S))},x=(_,A)=>{const j=[...n];j[_]=A;const D=.3;_>0&&(j[_-1]=j[_-1]*(1-D)+A*D),_<j.length-1&&(j[_+1]=j[_+1]*(1-D)+A*D),e(j)},v=h(),{topPath:M,bottomPath:w}=d(v);return f.jsxs("div",{className:"vocal-tract-visualizer",children:[f.jsxs("svg",{ref:i,className:"tract-svg",width:"100%",height:"200",preserveAspectRatio:"none",children:[f.jsx("path",{d:M,fill:"none",stroke:"#3b82f6",strokeWidth:"3",strokeLinecap:"round"}),f.jsx("path",{d:w,fill:"none",stroke:"#3b82f6",strokeWidth:"3",strokeLinecap:"round"}),f.jsx("path",{d:`${M} L ${v[v.length-1].x} ${v[v.length-1].bottomY} ${w.substring(w.indexOf("M")+1)} Z`,fill:"#dbeafe",fillOpacity:"0.7",stroke:"none"}),v.map((_,A)=>f.jsxs("g",{children:[f.jsx("line",{x1:_.x,y1:_.topY,x2:_.x,y2:_.bottomY,stroke:"#60a5fa",strokeWidth:"1",strokeDasharray:"2,2"}),f.jsx("circle",{cx:_.x,cy:_.topY,r:a===A?8:6,fill:a===A?"#2563eb":"#60a5fa",stroke:"#fff",strokeWidth:"2",onMouseDown:j=>m(A,j),onTouchStart:j=>m(A,j),style:{cursor:"pointer"}})]},A)),f.jsx("text",{x:"10",y:"20",className:"tract-label",children:"Lips"}),f.jsx("text",{x:r.width-60,y:"20",className:"tract-label",children:"Glottis"})]}),f.jsx("p",{className:"tract-instructions",children:"Drag the control points to change the vocal tract shape"})]})},Hj=({formants:n})=>{const e=C.useRef(null);return C.useEffect(()=>{if(!e.current)return;const i=e.current,a=i.getContext("2d"),l=i.width,r=i.height;a.clearRect(0,0,l,r),a.fillStyle="#f9fafb",a.fillRect(0,0,l,r),a.strokeStyle="#d1d5db",a.lineWidth=1;for(let c=500;c<=4e3;c+=500){const h=c/4e3*l;a.beginPath(),a.moveTo(h,0),a.lineTo(h,r),a.stroke(),a.fillStyle="#6b7280",a.font="10px Arial",a.textAlign="center",a.fillText(`${c}`,h,r-5)}n.forEach((c,h)=>{const d=["#ef4444","#3b82f6","#10b981"],m=c/4e3*l,g=a.createRadialGradient(m,20,0,m,20,50);g.addColorStop(0,`${d[h]}`),g.addColorStop(1,"rgba(255, 255, 255, 0)"),a.fillStyle=g,a.beginPath(),a.arc(m,20,50,0,Math.PI*2),a.fill(),a.fillStyle="#1f2937",a.font="bold 12px Arial",a.textAlign="center",a.fillText(`F${h+1}: ${c} Hz`,m,60)}),a.strokeStyle="#6b7280",a.lineWidth=2,a.beginPath(),a.moveTo(0,r-20);for(let c=0;c<l;c++){const h=c/l*4e3;let d=0;n.forEach((g,b)=>{const S=Math.abs(h-g),x=[100,120,150][b],v=[1,.8,.6][b];d+=v*Math.exp(-(S*S)/(2*x*x))});const m=r-20-d*60;c===0?a.moveTo(c,m):a.lineTo(c,m)}a.stroke(),a.fillStyle="#1f2937",a.font="12px Arial",a.textAlign="center",a.fillText("Frequency (Hz)",l/2,r-20)},[n]),f.jsxs("div",{className:"formant-display",children:[f.jsx("canvas",{ref:e,width:500,height:100,className:"formant-canvas"}),f.jsx("div",{className:"formant-values",children:n.map((i,a)=>f.jsxs("div",{className:`formant-value formant-${a+1}`,children:[f.jsxs("span",{className:"formant-label",children:["F",a+1,":"]}),f.jsxs("span",{className:"formant-frequency",children:[i," Hz"]})]},a))})]})},qj=()=>{const[n,e]=C.useState(null),[i,a]=C.useState(!1),[l,r]=C.useState([.6,.7,.8,.8,.7,.6,.5,.4,.3,.2,.2,.2,.2,.3,.4,.5]),[c,h]=C.useState("neutral"),[d,m]=C.useState([500,1500,2500]),[g,b]=C.useState(120),[S,x]=C.useState(.2),v=C.useRef(null),M=C.useRef([]),w=C.useRef([500,1500,2500]),_={neutral:{name:"Neutral (Schwa)",shape:[.6,.7,.8,.8,.7,.6,.5,.4,.3,.2,.2,.2,.2,.3,.4,.5],formants:[500,1500,2500]},a:{name:'A (as in "father")',shape:[.8,.8,.8,.8,.7,.6,.5,.4,.3,.2,.2,.2,.2,.3,.4,.5],formants:[800,1200,2500]},e:{name:'E (as in "bed")',shape:[.4,.5,.6,.7,.8,.8,.7,.6,.5,.4,.3,.2,.2,.2,.3,.4],formants:[500,1800,2500]},i:{name:'I (as in "see")',shape:[.3,.4,.5,.6,.7,.8,.8,.7,.6,.5,.4,.3,.2,.2,.2,.3],formants:[280,2250,2900]},o:{name:'O (as in "go")',shape:[.5,.6,.7,.8,.8,.7,.6,.5,.4,.3,.2,.2,.2,.2,.3,.4],formants:[450,800,2500]},u:{name:'U (as in "boot")',shape:[.3,.4,.5,.6,.7,.8,.8,.7,.6,.5,.4,.3,.2,.2,.2,.2],formants:[300,870,2250]}};C.useEffect(()=>{const z=()=>{if(!n){const J=new(window.AudioContext||window.webkitAudioContext);e(J)}document.removeEventListener("click",z)};return document.addEventListener("click",z),()=>{document.removeEventListener("click",z),n&&n.close()}},[n]);const A=z=>{const J=_[z];r(J.shape),m(J.formants),h(z),i&&L(J.formants)},j=z=>{r(z);const J=D(z);if(m(J),i&&L(J),c){const $=_[c].shape;z.every((ee,W)=>Math.abs(ee-$[W])<.05)||h("")}},D=z=>{const q=2*Math.PI,W=[...z].reverse().map(B=>B*5),P=[];for(let B=1;B<W.length-1;B++)W[B]<W[B-1]&&W[B]<W[B+1]&&P.push({index:B,area:W[B],position:B/W.length});W[0]<2.5&&P.push({index:0,area:W[0],position:0}),P.sort((B,G)=>B.area-G.area);const te=P.slice(0,3);let V=[];if(te.length>0)for(te.forEach(B=>{let G,K,I=0,Y=0;G=B.index*(17.5/W.length);for(let re=0;re<B.index;re++)I+=W[re]*(17.5/W.length);K=(W.length-B.index-1)*(17.5/W.length);for(let re=B.index+1;re<W.length;re++)Y+=W[re]*(17.5/W.length);const ae=17.5/W.length;if(G>0&&I>0){const re=35e3/q*Math.sqrt(B.area/(I*ae));V.push(Math.round(re))}if(K>0&&Y>0){const re=35e3/q*Math.sqrt(B.area/(Y*ae));V.push(Math.round(re))}}),V.sort((B,G)=>B-G),V=V.slice(0,3);V.length<3;){const G=(2*(V.length+1)-1)*35e3/(4*17.5);V.push(Math.round(G))}else V=[Math.round(35e3/(4*17.5)),Math.round(3*35e3/(4*17.5)),Math.round(5*35e3/(4*17.5))];const U=1-W[0]/5,R=te.some(B=>B.position<.3),Q=te.some(B=>B.position>.7);return U>.5&&(V=V.map(B=>Math.round(B*(1-U*.2)))),R&&(V[1]=Math.round(V[1]*1.2)),Q&&(V[0]=Math.round(V[0]*1.1),V[1]=Math.round(V[1]*.9)),V[0]=Math.max(250,Math.min(850,V[0])),V[1]=Math.max(850,Math.min(2300,V[1])),V[2]=Math.max(2300,Math.min(3500,V[2])),V[1]=Math.max(V[1],V[0]+350),V[2]=Math.max(V[2],V[1]+500),w.current&&(V=V.map((G,K)=>Math.round(G*(1-.6)+w.current[K]*.6))),w.current=[...V],console.log("Estimated formants:",V,"from",te.length,"significant constrictions:",te),V},N=z=>{b(parseInt(z.target.value)),i&&L(d)},k=z=>{x(parseFloat(z.target.value)),i&&L(d)},H=()=>{n&&(i?(v.current&&(Array.isArray(v.current)?v.current.forEach(z=>{z&&typeof z.stop=="function"&&z.stop()}):typeof v.current.stop=="function"&&v.current.stop(),v.current=null),M.current=[],a(!1)):(O(d),a(!0)))},O=z=>{if(!n)return;const J=n.createOscillator();J.type="sawtooth",J.frequency.value=g;const $=n.createBuffer(1,n.sampleRate*2,n.sampleRate),q=$.getChannelData(0);for(let U=0;U<$.length;U++)q[U]=Math.random()*2-1;const ee=n.createBufferSource();ee.buffer=$,ee.loop=!0;const W=n.createGain();W.gain.value=1-S;const P=n.createGain();P.gain.value=S*.5;const te=z.map(U=>{const R=n.createBiquadFilter();return R.type="bandpass",R.frequency.value=U,R.Q.value=10,R}),V=n.createGain();V.gain.value=.5,J.connect(W),W.connect(V),ee.connect(P),P.connect(V),z.map((U,R)=>{const Q=n.createGain();return Q.gain.value=1/z.length,R===0&&(Q.gain.value=.6),R===1&&(Q.gain.value=.3),R===2&&(Q.gain.value=.1),V.connect(te[R]),te[R].connect(Q),Q.connect(n.destination),Q}),J.start(),ee.start(),v.current=[J,ee],M.current=te,v.gainNodes={oscillator:W,noise:P}},L=z=>{if(!(!i||!M.current.length)){if(console.log("Updating sound with formants:",z),z.forEach((J,$)=>{if(M.current[$]){const q=n.currentTime;M.current[$].frequency.cancelScheduledValues(q),M.current[$].frequency.setValueAtTime(M.current[$].frequency.value,q),M.current[$].frequency.exponentialRampToValueAtTime(J,q+.05)}}),v.current&&v.current[0]){const J=n.currentTime;v.current[0].frequency.cancelScheduledValues(J),v.current[0].frequency.setValueAtTime(v.current[0].frequency.value,J),v.current[0].frequency.exponentialRampToValueAtTime(g,J+.05)}if(v.gainNodes){const J=n.currentTime;v.gainNodes.oscillator&&(v.gainNodes.oscillator.gain.cancelScheduledValues(J),v.gainNodes.oscillator.gain.setValueAtTime(v.gainNodes.oscillator.gain.value,J),v.gainNodes.oscillator.gain.linearRampToValueAtTime(1-S,J+.05)),v.gainNodes.noise&&(v.gainNodes.noise.gain.cancelScheduledValues(J),v.gainNodes.noise.gain.setValueAtTime(v.gainNodes.noise.gain.value,J),v.gainNodes.noise.gain.linearRampToValueAtTime(S*.5,J+.05))}}};return f.jsxs("div",{className:"vocal-tract-demo",children:[f.jsx("h2",{children:"Vocal Tract Simulator"}),f.jsx("div",{className:"info-panel",children:f.jsx("p",{children:"This simulator demonstrates how the shape of the human vocal tract affects speech sounds, particularly vowels. The vocal tract acts as a filter, emphasizing certain frequencies (formants) that give vowels their distinctive qualities."})}),f.jsxs("div",{className:"demo-container",children:[f.jsxs("div",{className:"tract-container",children:[f.jsx("h3",{children:"Vocal Tract Shape"}),f.jsx(Fj,{tractShape:l,onChange:j}),f.jsxs("div",{className:"presets-container",children:[f.jsx("h4",{children:"Vowel Presets"}),f.jsx("div",{className:"preset-buttons",children:Object.entries(_).map(([z,J])=>f.jsx("button",{className:`preset-button ${c===z?"active":""}`,onClick:()=>A(z),children:J.name},z))})]})]}),f.jsxs("div",{className:"controls-container",children:[f.jsxs("div",{className:"formant-display-container",children:[f.jsx("h3",{children:"Formant Frequencies"}),f.jsx(Hj,{formants:d})]}),f.jsxs("div",{className:"voice-controls",children:[f.jsx("h3",{children:"Voice Controls"}),f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Pitch: ",g," Hz"]}),f.jsx("input",{type:"range",min:"80",max:"400",value:g,onChange:N,className:"slider"})]}),f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Breathiness: ",Math.round(S*100),"%"]}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:S,onChange:k,className:"slider"})]}),f.jsx("button",{className:`play-button ${i?"playing":""}`,onClick:H,children:i?"Stop Sound":"Play Sound"})]})]})]}),f.jsxs("div",{className:"explanation",children:[f.jsx("h3",{children:"How It Works"}),f.jsx("p",{children:"The human vocal tract is a complex tube extending from the vocal folds to the lips. By changing the shape of this tube through movements of the tongue, jaw, and lips, we create different resonant frequencies called formants."}),f.jsx("p",{children:"The first three formants (F1, F2, F3) are particularly important for vowel sounds:"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"F1"})," (typically 300-800 Hz): Related to the height of the tongue. Lower F1 = higher tongue position."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"F2"})," (typically 900-2300 Hz): Related to the front/back position of the tongue. Higher F2 = more frontal."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"F3"})," (typically 2200-3000 Hz): Contributes to the overall quality and is affected by lip rounding."]})]}),f.jsx("p",{children:"This simulator uses a simplified model where the vocal tract is represented as a tube with varying diameters. The sound source (glottal pulse + noise) is filtered according to the tract shape to produce different vowel sounds."})]})]})},Pj=({impulseResponse:n,analyserNode:e,isPlaying:i})=>{const a=C.useRef(null),l=C.useRef(null);return C.useEffect(()=>{if(!a.current||!n)return;const r=a.current,c=r.getContext("2d"),h=r.width,d=r.height;c.clearRect(0,0,h,d),c.fillStyle="#f9fafb",c.fillRect(0,0,h,d);const m=n,g=m.getChannelData(0);c.strokeStyle="#d1d5db",c.lineWidth=1,c.beginPath(),c.moveTo(0,d/2),c.lineTo(h,d/2),c.stroke(),c.strokeStyle="#3b82f6",c.lineWidth=2,c.beginPath();const b=Math.ceil(g.length/h),S=d/2;for(let v=0;v<h;v++){const M=Math.min(v*b,g.length-1),w=v,_=(1-g[M])*S;v===0?c.moveTo(w,_):c.lineTo(w,_)}c.stroke(),c.fillStyle="#6b7280",c.font="10px Arial",c.textAlign="center";const x=m.duration;for(let v=0;v<=10;v++){const M=v/10*h,w=v/10*x;c.fillText(`${w.toFixed(1)}s`,M,d-5)}c.fillStyle="#1f2937",c.font="12px Arial",c.textAlign="center",c.fillText("Impulse Response Waveform",h/2,15)},[n]),C.useEffect(()=>{if(!e||!i||!a.current)return;const r=a.current,c=r.getContext("2d"),h=r.width,d=r.height,m=e.frequencyBinCount,g=new Uint8Array(m),b=()=>{l.current=requestAnimationFrame(b),e.getByteFrequencyData(g),c.clearRect(0,0,h,d),c.fillStyle="#f9fafb",c.fillRect(0,0,h,d);const S=h/m*2.5;let x=0;for(let v=0;v<m;v++){const M=g[v]/255*d,w=v/m*240;c.fillStyle=`hsl(${w}, 70%, 60%)`,c.fillRect(x,d-M,S,M),x+=S+1}c.fillStyle="#1f2937",c.font="12px Arial",c.textAlign="center",c.fillText("Real-time Frequency Analysis",h/2,15)};return b(),()=>{l.current&&cancelAnimationFrame(l.current)}},[e,i]),f.jsxs("div",{className:"impulse-visualizer",children:[f.jsx("canvas",{ref:a,width:600,height:200,className:"visualizer-canvas"}),!n&&f.jsx("div",{className:"no-impulse-message",children:f.jsx("p",{children:"Select an impulse response to visualize"})})]})},Vj=({impulseResponses:n,selectedImpulse:e,dryWetMix:i,inputGain:a,reverbGain:l,onImpulseChange:r,onDryWetChange:c,onInputGainChange:h,onReverbGainChange:d})=>f.jsxs("div",{className:"convolution-controls",children:[f.jsx("h3",{children:"Convolution Settings"}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{children:"Impulse Response"}),f.jsx("select",{value:e,onChange:r,className:"impulse-select",children:Object.entries(n).map(([m,g])=>f.jsx("option",{value:m,children:g.name},m))}),f.jsx("p",{className:"impulse-description",children:e&&n[e].description})]}),f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Dry/Wet Mix: ",Math.round(i*100),"%"]}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:i,onChange:c,className:"slider"}),f.jsxs("div",{className:"slider-labels",children:[f.jsx("span",{children:"Dry (0%)"}),f.jsx("span",{children:"Wet (100%)"})]})]}),f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Input Gain: ",Math.round(a*100),"%"]}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:a,onChange:h,className:"slider"})]}),f.jsxs("div",{className:"control-group",children:[f.jsxs("label",{children:["Reverb Gain: ",Math.round(l*100),"%"]}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:l,onChange:d,className:"slider"})]}),f.jsxs("div",{className:"convolution-info",children:[f.jsx("h4",{children:"About This Impulse Response"}),f.jsxs("div",{className:"impulse-details",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx("span",{className:"detail-label",children:"Type:"}),f.jsx("span",{className:"detail-value",children:e&&n[e].name})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("span",{className:"detail-label",children:"Character:"}),f.jsxs("span",{className:"detail-value",children:[e==="small-room"&&"Short, intimate reflections",e==="concert-hall"&&"Smooth, balanced decay",e==="cathedral"&&"Long, diffuse reverb tail",e==="plate-reverb"&&"Dense, bright character",e==="spring-reverb"&&"Metallic, bouncy reflections"]})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx("span",{className:"detail-label",children:"Best for:"}),f.jsxs("span",{className:"detail-value",children:[e==="small-room"&&"Vocals, acoustic instruments",e==="concert-hall"&&"Orchestral music, piano",e==="cathedral"&&"Choral music, organ, ambient sounds",e==="plate-reverb"&&"Drums, percussion, vocals",e==="spring-reverb"&&"Guitar, vintage effects"]})]})]})]})]}),Uj=()=>{const[n,e]=C.useState(null),[i,a]=C.useState(!1),[l,r]=C.useState("small-room"),[c,h]=C.useState(.7),[d,m]=C.useState(.8),[g,b]=C.useState(.6),[S,x]=C.useState(null),[v,M]=C.useState("drums"),[w,_]=C.useState(!1),[A,j]=C.useState(!1),D=C.useRef(null),N=C.useRef(null),k=C.useRef(null),H=C.useRef(null),O={"no-convolution":{name:"No Convolution",file:null,description:"Bypass convolution - hear the original audio without any room effect."},"small-room":{name:"Small Room",file:"webdemos/impulse-responses/small-room.wav",description:"A small, somewhat damped room with short reflections."},"concert-hall":{name:"Concert Hall",file:"webdemos/impulse-responses/concert-hall.wav",description:"A large concert hall with long, smooth reverb tail."},cathedral:{name:"Cathedral",file:"webdemos/impulse-responses/cathedral.wav",description:"A cathedral with very long reverb time and distinct early reflections."},"plate-reverb":{name:"Plate Reverb",file:"webdemos/impulse-responses/plate-reverb.wav",description:"A plate reverb with a dense and bright sound."},"spring-reverb":{name:"Spring Reverb",file:"webdemos/impulse-responses/spring-reverb.wav",description:'A vintage spring reverb with characteristic "boingy" sound.'}},L={drums:{name:"Drums",file:"webdemos/audio-samples/drums.mp3",description:"Drum kit recording"},voice:{name:"Voice",file:"webdemos/audio-samples/voice.mp3",description:"Spoken voice recording"},flute:{name:"Flute",file:"webdemos/audio-samples/flute_music.wav",description:"Flute music recording"},gunshot:{name:"Gunshot",file:"webdemos/audio-samples/gunshot.wav",description:"Gunshot recording"}};C.useEffect(()=>{const U=()=>{if(!n){const R=new(window.AudioContext||window.webkitAudioContext);e(R)}document.removeEventListener("click",U)};return document.addEventListener("click",U),()=>{document.removeEventListener("click",U),n&&n.close()}},[n]),C.useEffect(()=>{if(!n||!l)return;(async()=>{_(!0);try{const Q=await(await fetch(O[l].file)).arrayBuffer(),B=await n.decodeAudioData(Q);x(B),k.current&&i&&(k.current.buffer=B)}catch(R){console.error("Error loading impulse response:",R)}finally{_(!1)}})()},[n,l,i]),C.useEffect(()=>{if(!(!n||!D.current)){if(!H.current){const U=n.createAnalyser();U.fftSize=2048,H.current=U}return()=>{N.current&&N.current.disconnect(),k.current&&k.current.disconnect()}}},[n]),C.useEffect(()=>{!D.current||!v||(D.current.src=L[v].file,i&&(J(),setTimeout(()=>{z()},100)))},[v]);const z=async()=>{if(!n||!D.current)return;const U=D.current;try{U.src=L[v].file,await U.load(),V(),await U.play(),a(!0)}catch(R){console.error("Error playing audio:",R),a(!1)}},J=()=>{D.current&&(D.current.pause(),D.current.currentTime=0),N.current&&(N.current.disconnect(),N.current=null),k.current&&k.current.disconnect(),a(!1)},$=()=>{i?J():z()},q=U=>{r(U.target.value)},ee=U=>{h(parseFloat(U.target.value)),i&&N.current&&(J(),z())},W=U=>{m(parseFloat(U.target.value)),i&&N.current&&(J(),z())},P=U=>{b(parseFloat(U.target.value)),i&&N.current&&(J(),z())},te=()=>{if(!n||!S||A)return;j(!0);const U=n.createBufferSource();U.buffer=S;const R=n.createGain();R.gain.value=.8;const Q=n.createAnalyser();Q.fftSize=2048,H.current=Q,U.connect(R),R.connect(Q),Q.connect(n.destination),U.start(),U.onended=()=>{j(!1),U.disconnect(),R.disconnect()}},V=()=>{if(!n||!D.current)return;const U=D.current,R=n.createMediaElementSource(U);N.current=R;const Q=n.createAnalyser();Q.fftSize=2048,H.current=Q;const B=n.createGain();B.gain.value=d;const G=n.createGain();G.gain.value=1-c;const K=n.createGain();if(K.gain.value=c*g,R.connect(B),B.connect(G),G.connect(Q),l!=="no-convolution"&&S){const I=n.createConvolver();I.buffer=S,k.current=I,B.connect(I),I.connect(K),K.connect(Q)}Q.connect(n.destination)};return f.jsxs("div",{className:"impulse-response-demo",children:[f.jsx("h2",{children:"Impulse Response & Convolution Demo"}),f.jsx("div",{className:"info-panel",children:f.jsx("p",{children:'This demo demonstrates how impulse responses and convolution are used to simulate different acoustic environments. An impulse response captures how sound reflects in a particular space, and convolution applies this acoustic "fingerprint" to any audio.'})}),f.jsxs("div",{className:"demo-container",children:[f.jsxs("div",{className:"visualizer-container",children:[f.jsx("h3",{children:"Impulse Response Visualization"}),f.jsx(Pj,{impulseResponse:S,analyserNode:H.current,isPlaying:i}),f.jsxs("div",{className:"audio-source-selector",children:[f.jsx("h4",{children:"Audio Source"}),f.jsx("div",{className:"source-buttons",children:Object.entries(L).map(([U,R])=>f.jsx("button",{className:`source-button ${v===U?"active":""}`,onClick:()=>M(U),children:R.name},U))}),f.jsx("p",{className:"source-description",children:v&&L[v].description})]}),f.jsx("audio",{ref:D,loop:!0}),f.jsx("button",{className:`play-button ${i?"playing":""}`,onClick:$,disabled:w||!S,children:w?"Loading...":i?"Stop Audio":"Play Audio"}),f.jsx("div",{className:"impulse-controls",children:S&&l!=="no-convolution"&&f.jsx("button",{className:`impulse-play-button ${A?"playing":""}`,onClick:te,disabled:w||i||!S,children:A?"Playing Impulse...":"Listen to Impulse Response"})})]}),f.jsx("div",{className:"controls-container",children:f.jsx(Vj,{impulseResponses:O,selectedImpulse:l,dryWetMix:c,inputGain:d,reverbGain:g,onImpulseChange:q,onDryWetChange:ee,onInputGainChange:W,onReverbGainChange:P})})]}),f.jsxs("div",{className:"explanation",children:[f.jsx("h3",{children:"How Convolution Reverb Works"}),f.jsx("p",{children:"Convolution reverb is a process that uses the mathematical convolution operation to apply the acoustic characteristics of a space to an audio signal. Here's how it works:"}),f.jsxs("ol",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Impulse Response Capture:"})," An impulse (like a balloon pop or starter pistol) is recorded in a real space. This recording captures how sound waves reflect and decay in that environment."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Convolution Process:"})," The impulse response is mathematically combined with an input signal. Each sample of the input is essentially multiplied by the entire impulse response."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Result:"})," The output signal sounds as if it was played in the original space where the impulse response was recorded."]})]}),f.jsx("p",{children:"This technique is used extensively in music production, film sound, and virtual reality to create realistic spatial audio. Unlike algorithmic reverbs that use mathematical models to simulate spaces, convolution reverb uses actual acoustic measurements, resulting in more authentic and complex reverberation."})]}),f.jsxs("div",{className:"attribution",children:[f.jsx("h3",{children:"Attribution"}),f.jsxs("p",{children:["The impulse responses used in this demo are sourced from the",f.jsx("a",{href:"https://www.openair.hosted.york.ac.uk/",target:"_blank",rel:"noopener noreferrer",children:" OpenAIR (Open Acoustic Impulse Response) Library"}),", created by Damian Murphy and Simon Shelley at the University of York, UK."]}),f.jsxs("p",{children:["These impulse responses are licensed under the",f.jsx("a",{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noopener noreferrer",children:" Creative Commons Attribution 4.0 International License"}),"."]}),f.jsx("p",{children:"Specific recordings used:"}),f.jsxs("ul",{className:"attribution-list",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Small Room"}),': "Maes Howe" by Damian Murphy']}),f.jsxs("li",{children:[f.jsx("strong",{children:"Concert Hall"}),":Jack Lyons Concert Hall (University of York)"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Cathedral"}),": 1st Baptist Church Nashville"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Spring Reverb"}),": Impulse response created from a Slinky toy"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Gunshot"}),": Gunshot recording"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Flute"}),": Flute music recording"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Drums"}),": Drums recording"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Voice"}),": Singing voice recording"]})]}),f.jsxs("p",{children:["For more information about these recordings and to access the full library, please visit the ",f.jsx("a",{href:"https://www.openair.hosted.york.ac.uk/",target:"_blank",rel:"noopener noreferrer",children:"OpenAIR website"}),"."]})]})]})},Wj=({audioBuffer:n,onSelectionChange:e,selectionRange:i})=>{const a=C.useRef(null),l=C.useRef(null),[r,c]=C.useState(!1),[h,d]=C.useState(0);C.useEffect(()=>{if(!a.current||!n)return;const M=a.current,w=M.getContext("2d"),_=l.current;M.width=_.clientWidth,M.height=150,w.fillStyle="#f8fafc",w.fillRect(0,0,M.width,M.height),m(w,n,M.width,M.height),i.start!==i.end&&g(w,i,n.duration,M.width,M.height)},[n,i]),C.useEffect(()=>{const M=()=>{if(a.current&&l.current&&n){const w=a.current,_=w.getContext("2d"),A=l.current;w.width=A.clientWidth,w.height=150,_.fillStyle="#f8fafc",_.fillRect(0,0,w.width,w.height),m(_,n,w.width,w.height),i.start!==i.end&&g(_,i,n.duration,w.width,w.height)}};return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[n,i]);const m=(M,w,_,A)=>{const j=w.getChannelData(0),D=Math.ceil(j.length/_),N=A/2;M.strokeStyle="#3b82f6",M.lineWidth=1,M.beginPath(),M.moveTo(0,N),M.lineTo(_,N),M.stroke(),M.beginPath();for(let k=0;k<_;k++){let H=1,O=-1;for(let L=0;L<D;L++){const z=j[k*D+L];z<H&&(H=z),z>O&&(O=z)}M.moveTo(k,(1+H)*N),M.lineTo(k,(1+O)*N)}M.stroke()},g=(M,w,_,A,j)=>{const D=w.start/_*A,N=w.end/_*A;M.fillStyle="rgba(59, 130, 246, 0.3)",M.fillRect(D,0,N-D,j),M.strokeStyle="#2563eb",M.lineWidth=2,M.beginPath(),M.moveTo(D,0),M.lineTo(D,j),M.stroke(),M.beginPath(),M.moveTo(N,0),M.lineTo(N,j),M.stroke()},b=M=>{if(!n)return;const w=a.current,_=w.getBoundingClientRect(),j=(M.clientX-_.left)/w.width*n.duration;c(!0),d(j),e(j,j)},S=M=>{if(!r||!n)return;const w=a.current,_=w.getBoundingClientRect(),j=Math.max(0,Math.min(w.width,M.clientX-_.left))/w.width*n.duration;j>=h?e(h,j):e(j,h)},x=()=>{c(!1)},v=()=>{r&&c(!1)};return f.jsx("div",{ref:l,className:"waveform-editor",children:f.jsx("canvas",{ref:a,onMouseDown:b,onMouseMove:S,onMouseUp:x,onMouseLeave:v,style:{cursor:r?"col-resize":"crosshair"}})})},$j=()=>{const[n,e]=C.useState(null),[i,a]=C.useState(!1),[l,r]=C.useState(null),[c,h]=C.useState(null),[d,m]=C.useState(!1),[g,b]=C.useState(!1),[S,x]=C.useState({start:0,end:0}),[v,M]=C.useState(null),[w,_]=C.useState(0),[A,j]=C.useState([]),D=C.useRef(null),N=C.useRef([]),k=C.useRef(null),H=C.useRef(null),O=C.useRef(null);C.useEffect(()=>{const B=()=>{if(!n){const G=new(window.AudioContext||window.webkitAudioContext);e(G)}document.removeEventListener("click",B)};return document.addEventListener("click",B),()=>{document.removeEventListener("click",B),n&&n.close()}},[n]),C.useEffect(()=>(i?(_(0),O.current=setInterval(()=>{_(B=>B+.1)},100)):O.current&&clearInterval(O.current),()=>{O.current&&clearInterval(O.current)}),[i]);const L=async()=>{if(n)try{const B=await navigator.mediaDevices.getUserMedia({audio:!0}),G=new MediaRecorder(B);D.current=G,N.current=[],G.ondataavailable=K=>{K.data.size>0&&N.current.push(K.data)},G.onstop=async()=>{const K=new Blob(N.current,{type:"audio/webm"}),I=URL.createObjectURL(K);r(I),h(null);const Y=await K.arrayBuffer(),ae=await n.decodeAudioData(Y);M(ae),x({start:0,end:0}),B.getTracks().forEach(re=>re.stop())},G.start(),a(!0)}catch(B){console.error("Error accessing microphone:",B),alert("Could not access microphone. Please check permissions.")}},z=()=>{D.current&&i&&(D.current.stop(),a(!1))},J=()=>{if(!n||!v||d)return;const B=n.createBufferSource();B.buffer=v,B.connect(n.destination),B.onended=()=>{m(!1),k.current=null},B.start(),k.current=B,m(!0)},$=()=>{if(!n||!c||g)return;const B=n.createBufferSource();B.buffer=ee(),B.connect(n.destination),B.onended=()=>{b(!1),H.current=null},B.start(),H.current=B,b(!0)},q=()=>{k.current&&(k.current.stop(),k.current=null,m(!1)),H.current&&(H.current.stop(),H.current=null,b(!1))},ee=()=>{if(!v)return null;const B=n.createBuffer(v.numberOfChannels,v.length,v.sampleRate),G=Math.floor(S.start*v.sampleRate),K=Math.floor(S.end*v.sampleRate);for(let I=0;I<v.numberOfChannels;I++){const Y=v.getChannelData(I),ae=B.getChannelData(I);for(let re=0;re<G;re++)ae[re]=Y[re];for(let re=G;re<K;re++)ae[re]=0;for(let re=K;re<v.length;re++)ae[re]=Y[re]}return B},W=()=>{if(!v||S.start===S.end)return;const B=ee(),G=new OfflineAudioContext(B.numberOfChannels,B.length,B.sampleRate),K=G.createBufferSource();K.buffer=B,K.connect(G.destination),K.start(),G.startRendering().then(I=>{const Y=[];for(let le=0;le<I.numberOfChannels;le++)Y.push(I.getChannelData(le));const ae=P(Y,I.length),re=te(ae,I.numberOfChannels,I.sampleRate),ye=URL.createObjectURL(re);h(ye)}).catch(I=>{console.error("Error rendering modified audio:",I)})},P=(B,G)=>{const K=B.length,I=new Float32Array(G*K);for(let Y=0;Y<G;Y++)for(let ae=0;ae<K;ae++)I[Y*K+ae]=B[ae][Y];return I},te=(B,G,K)=>{const I=new ArrayBuffer(44+B.length*2),Y=new DataView(I);V(Y,0,"RIFF"),Y.setUint32(4,36+B.length*2,!0),V(Y,8,"WAVE"),V(Y,12,"fmt "),Y.setUint32(16,16,!0),Y.setUint16(20,1,!0),Y.setUint16(22,G,!0),Y.setUint32(24,K,!0),Y.setUint32(28,K*G*2,!0),Y.setUint16(32,G*2,!0),Y.setUint16(34,16,!0),V(Y,36,"data"),Y.setUint32(40,B.length*2,!0);const ae=.9;let re=44;for(let ye=0;ye<B.length;ye++,re+=2){const le=Math.max(-1,Math.min(1,B[ye]))*ae;Y.setInt16(re,le<0?le*32768:le*32767,!0)}return new Blob([I],{type:"audio/wav"})},V=(B,G,K)=>{for(let I=0;I<K.length;I++)B.setUint8(G+I,K.charCodeAt(I))},U=(B,G)=>{x({start:B,end:G})},R=()=>{if(!v)return[];const B=v.getChannelData(0),G=v.sampleRate,K=Math.floor(.025*G),I=Math.floor(.01*G),Y=[];for(let le=0;le<B.length-K;le+=I){const pe=B.slice(le,le+K),Te=2048,je=new Float32Array(Te);for(let de=0;de<K;de++)je[de]=pe[de];for(let de=0;de<K;de++)je[de]*=.5*(1-Math.cos(2*Math.PI*de/(K-1)));let _e=0,he=0;for(let de=0;de<K;de++){const qe=Math.abs(pe[de]),Me=qe*qe;de>0&&(pe[de]>=0&&pe[de-1]<0||pe[de]<0&&pe[de-1]>=0)&&(he+=Me)}let be=0;for(let de=1;de<K;de++)(pe[de]>=0&&pe[de-1]<0||pe[de]<0&&pe[de-1]>=0)&&be++;const Ne=be/(K-1);let Be=0;for(let de=0;de<K;de++)Be+=pe[de]*pe[de];if(Be=Math.sqrt(Be/K),Ne>.1&&he>_e&&Be>.01&&Be<.2){const de=le/G,qe=(le+K)/G;Y.push({start:de,end:qe,confidence:he/(_e+.001)*Ne})}}const ae=[];let re=null;for(const le of Y)re?le.start-re.end<.03?(re.end=le.end,re.confidence=Math.max(re.confidence,le.confidence)):(ae.push(re),re={...le}):re={...le};re&&ae.push(re);const ye=ae.filter(le=>le.end-le.start>=.05);return ye.sort((le,pe)=>pe.confidence-le.confidence),ye.slice(0,3)},Q=()=>{const B=R();j(B),B.length>0&&x({start:B[0].start,end:B[0].end})};return f.jsxs("div",{className:"fricative-plosive-demo",children:[f.jsx("h2",{children:"Fricative to Plosive Conversion"}),f.jsxs("div",{className:"info-panel",children:[f.jsx("p",{children:'This demo shows how removing a small portion of a fricative sound can make it sound like a plosive. For example, removing part of the /f/ in the German word "hoffen" can make it sound like "hopfen".'}),f.jsxs("p",{children:['1. Record a word containing a fricative sound (like "f", "s", "sh")',f.jsx("br",{}),"2. Select the middle portion of the fricative sound in the waveform",f.jsx("br",{}),'3. Click "Apply Modification" to null out the selected region',f.jsx("br",{}),"4. Compare the original and modified sounds"]})]}),f.jsxs("div",{className:"demo-controls",children:[f.jsx("div",{className:"recording-controls",children:i?f.jsxs("button",{className:"stop-button",onClick:z,children:["Stop Recording (",w.toFixed(1),"s)"]}):f.jsx("button",{className:"record-button",onClick:L,disabled:d||g,children:"Record"})}),v&&f.jsxs("div",{className:"waveform-container",children:[f.jsx("h3",{children:"Waveform Editor"}),f.jsx("p",{className:"instruction",children:"Select a portion of the fricative sound to null out:"}),f.jsx(Wj,{audioBuffer:v,onSelectionChange:U,selectionRange:S}),f.jsxs("div",{className:"selection-info",children:["Selected: ",S.start.toFixed(3),"s to ",S.end.toFixed(3),"s (",((S.end-S.start)*1e3).toFixed(0)," ms)"]}),f.jsx("button",{className:"apply-button",onClick:W,disabled:i||d||g||S.start===S.end,children:"Apply Modification"})]}),f.jsxs("div",{className:"detection-controls",children:[f.jsx("button",{className:"detect-button",onClick:Q,disabled:i||d||g,children:"Detect Fricatives"}),A.length>0&&f.jsxs("div",{className:"detected-fricatives",children:[f.jsx("h4",{children:"Detected Fricatives:"}),f.jsx("ul",{children:A.map((B,G)=>f.jsx("li",{children:f.jsxs("button",{className:"fricative-button",onClick:()=>x({start:B.start,end:B.end}),children:[B.start.toFixed(3),"s - ",B.end.toFixed(3),"s (",((B.end-B.start)*1e3).toFixed(0)," ms)"]})},G))})]})]}),f.jsxs("div",{className:"playback-controls",children:[l&&f.jsxs("div",{className:"playback-section",children:[f.jsx("h3",{children:"Original Audio"}),f.jsx("button",{className:`play-button ${d?"playing":""}`,onClick:d?q:J,disabled:i||g,children:d?"Stop":"Play Original"}),f.jsx("audio",{src:l,controls:!1})]}),c&&f.jsxs("div",{className:"playback-section",children:[f.jsx("h3",{children:"Modified Audio"}),f.jsx("button",{className:`play-button modified ${g?"playing":""}`,onClick:g?q:$,disabled:i||d,children:g?"Stop":"Play Modified"}),f.jsx("audio",{src:c,controls:!1})]})]})]}),f.jsxs("div",{className:"examples-section",children:[f.jsx("h3",{children:"Example Transformations"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"German:"}),' "hoffen" (to hope)  "hopfen" (hops)']}),f.jsxs("li",{children:[f.jsx("strong",{children:"English:"}),' "raffle"  "rapple"']}),f.jsxs("li",{children:[f.jsx("strong",{children:"English:"}),' "missing"  "misting"']}),f.jsxs("li",{children:[f.jsx("strong",{children:"German:"}),' "Wasser" (water)  "Wakter"']})]}),f.jsx("p",{children:"This technique works because fricatives (like /f/, /s/, /sh/) are continuous sounds, while plosives (like /p/, /t/, /k/) have a brief silence (closure) followed by a burst. By removing the middle portion of a fricative, we create an artificial closure that makes it sound like a plosive."})]})]})},U0=({alignment:n})=>!n||n.length===0?f.jsx("div",{className:"no-alignment",children:"No alignment data available"}):f.jsxs("div",{className:"alignment-container",children:[f.jsxs("div",{className:"alignment-row reference-row",children:[f.jsx("div",{className:"row-label",children:"Reference:"}),f.jsx("div",{className:"alignment-words",children:n.map((e,i)=>f.jsx("span",{className:`alignment-word ${e.type}`,children:e.ref||"___"},`ref-${i}`))})]}),f.jsxs("div",{className:"alignment-row hypothesis-row",children:[f.jsx("div",{className:"row-label",children:"Hypothesis:"}),f.jsx("div",{className:"alignment-words",children:n.map((e,i)=>f.jsx("span",{className:`alignment-word ${e.type}`,children:e.hyp||"___"},`hyp-${i}`))})]}),f.jsxs("div",{className:"alignment-row error-type-row",children:[f.jsx("div",{className:"row-label",children:"Error Type:"}),f.jsx("div",{className:"alignment-words",children:n.map((e,i)=>f.jsx("span",{className:`alignment-word ${e.type}`,children:e.type==="correct"?"correct":e.type==="substitution"?"subst":e.type==="deletion"?"del":"ins"},`type-${i}`))})]})]}),Yj=({matrix:n,refWords:e,hypWords:i,path:a,activeCell:l,stepMode:r,currentStep:c,stepHistory:h})=>{if(!n||n.length===0)return f.jsx("div",{className:"no-matrix",children:"No matrix data available"});const d=(D,N)=>a.some(([k,H])=>k===D&&H===N),m=(D,N)=>{if(D===0&&N===0)return"start";const k=a.findIndex(([L,z])=>L===D&&z===N);if(k<=0)return"";const[H,O]=a[k-1];return H===D-1&&O===N-1?e[D-1]===i[N-1]?"match":"substitution":H===D-1&&O===N?"deletion":"insertion"},g=()=>!r||!h||c>=h.length?[]:h[c].highlightCells||[],b=(D,N)=>g().some(([H,O])=>H===D&&O===N),S=(D,N)=>r?l&&l[0]===D&&l[1]===N?"active-cell":b(D,N)?"highlighted-cell":"":"",x=()=>!r||!h||c>=h.length?[]:h[c].backtrackPath||[],v=(D,N)=>x().some(([H,O])=>H===D&&O===N),M=(D,N)=>{if(!r||!h||c>=h.length)return"";const k=h[c];return k.pathOperations&&k.pathOperations[`${D},${N}`]||""},w=(D,N)=>{if(!r||!h||c>=h.length)return"";const k=h[c];return k.cellOperations&&k.cellOperations[`${D},${N}`]||""},_=()=>r&&h&&c===h.length-1,A=(D,N)=>{if(!r)return d(D,N)?`path-cell ${m(D,N)}`:"";const k=h[c];if(!k)return"";if(_()){if(k.backtrackPath&&k.backtrackPath.some(([H,O])=>H===D&&O===N)){const H=m(D,N);if(H)return`path-cell ${H}`;const O=k.pathOperations?k.pathOperations[`${D},${N}`]:"";return O?`path-cell ${O}`:"path-cell"}return""}if(k.step==="backtrack"&&v(D,N)){const H=M(D,N);if(H)return`step-path-cell ${H}`}if(D>0&&N>0)for(let H=0;H<=c;H++){const O=h[H];if(O&&O.step==="fill"&&O.activeCell&&O.activeCell[0]===D&&O.activeCell[1]===N)return O.operation||""}return j(D,N)},j=(D,N)=>{if(D===0||N===0)return"";const k=w(D,N);return k?`computed-${k}`:""};return f.jsxs("div",{className:"dp-matrix-container",children:[f.jsxs("div",{className:"dp-matrix",children:[f.jsxs("div",{className:"dp-matrix-row header-row",children:[f.jsx("div",{className:"dp-matrix-cell header-cell"}),f.jsx("div",{className:"dp-matrix-cell header-cell"}),i.map((D,N)=>f.jsx("div",{className:"dp-matrix-cell header-cell",children:D},`hyp-${N}`))]}),n.map((D,N)=>f.jsxs("div",{className:"dp-matrix-row",children:[f.jsx("div",{className:"dp-matrix-cell header-cell",children:N===0?"":e[N-1]}),D.map((k,H)=>{const O=S(N,H),L=A(N,H);return f.jsx("div",{className:`dp-matrix-cell ${L} ${O}`,title:L?`Operation: ${L.replace("path-cell","").replace("step-path-cell","").trim()}`:"",children:k!==null?k:""},`cell-${N}-${H}`)})]},`row-${N}`))]}),f.jsxs("div",{className:"dp-matrix-legend",children:[f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color start"}),f.jsx("span",{children:"Start"})]}),f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color match"}),f.jsx("span",{children:"Match"})]}),f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color substitution"}),f.jsx("span",{children:"Substitution"})]}),f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color deletion"}),f.jsx("span",{children:"Deletion"})]}),f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color insertion"}),f.jsx("span",{children:"Insertion"})]}),r&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color active-cell"}),f.jsx("span",{children:"Current Cell"})]}),f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color highlighted-cell"}),f.jsx("span",{children:"Referenced Cell"})]}),!_()&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color computed-match"}),f.jsx("span",{children:"Match Operation"})]}),f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color computed-substitution"}),f.jsx("span",{children:"Substitution Operation"})]}),f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color computed-deletion"}),f.jsx("span",{children:"Deletion Operation"})]}),f.jsxs("div",{className:"legend-item",children:[f.jsx("div",{className:"legend-color computed-insertion"}),f.jsx("span",{children:"Insertion Operation"})]})]})]})]})]})},Gj=()=>{const[n,e]=C.useState("the quick brown fox jumps over the lazy dog"),[i,a]=C.useState("the quick brown fox jumped over lazy dog"),[l,r]=C.useState(0),[c,h]=C.useState(0),[d,m]=C.useState(0),[g,b]=C.useState(0),[S,x]=C.useState([]),[v,M]=C.useState(!1),[w,_]=C.useState(!1),[A,j]=C.useState([]),[D,N]=C.useState([]),[k,H]=C.useState([]),[O,L]=C.useState([]),[z,J]=C.useState(!1),[$,q]=C.useState(0),[ee,W]=C.useState(0),[P,te]=C.useState([]),[V,U]=C.useState(null),[R,Q]=C.useState(""),[B,G]=C.useState(1e3),[K,I]=C.useState(!1),[Y,ae]=C.useState(null);C.useEffect(()=>{z?re():ye()},[n,i,z]),C.useEffect(()=>{if(K){const me=setInterval(()=>{q(de=>de>=ee-1?(I(!1),de):de+1)},B);return ae(me),()=>clearInterval(me)}else Y&&(clearInterval(Y),ae(null))},[K,ee,B]),C.useEffect(()=>{if(z&&P.length>0&&$<P.length){const me=P[$];j(me.matrix),U(me.activeCell),Q(me.explanation),$===ee-1&&(r(me.wer||0),h(me.subs||0),m(me.dels||0),b(me.ins||0),x(me.alignment||[]),L(me.backtrackPath||[]))}},[$,P,z]);const re=()=>{q(0),te([]),U(null),Q("");const me=n.trim().toLowerCase().split(/\s+/).filter(xe=>xe.length>0),de=i.trim().toLowerCase().split(/\s+/).filter(xe=>xe.length>0);N(me),H(de);const qe=Array(me.length+1).fill().map(()=>Array(de.length+1).fill(null)),Me=[];qe[0][0]=0,Me.push({matrix:JSON.parse(JSON.stringify(qe)),activeCell:[0,0],explanation:"Initialize the first cell (0,0) to 0. This represents the edit distance between two empty strings.",step:"initialization"});for(let xe=1;xe<=me.length;xe++){const Ae=JSON.parse(JSON.stringify(Me[Me.length-1].matrix));Ae[xe][0]=xe,Me.push({matrix:Ae,activeCell:[xe,0],explanation:`Initialize cell (${xe},0) to ${xe}. This represents the edit distance when deleting ${xe} word${xe>1?"s":""} "${me.slice(0,xe).join(", ")}" from the reference.`,step:"initialization"})}for(let xe=1;xe<=de.length;xe++){const Ae=JSON.parse(JSON.stringify(Me[Me.length-1].matrix));Ae[0][xe]=xe,Me.push({matrix:Ae,activeCell:[0,xe],explanation:`Initialize cell (0,${xe}) to ${xe}. This represents the edit distance when inserting ${xe} word${xe>1?"s":""} "${de.slice(0,xe).join(", ")}" from the hypothesis.`,step:"initialization"})}for(let xe=1;xe<=me.length;xe++)for(let Ae=1;Ae<=de.length;Ae++){const bt=JSON.parse(JSON.stringify(Me[Me.length-1].matrix)),Xt=me[xe-1]===de[Ae-1]?0:1,Wt=bt[xe-1][Ae]+1,xt=bt[xe][Ae-1]+1,en=bt[xe-1][Ae-1]+Xt;Me.push({matrix:bt,activeCell:[xe,Ae],explanation:`Calculating cell (${xe},${Ae}) for words "${me[xe-1]}" and "${de[Ae-1]}":
          1. Deletion: (${xe-1},${Ae}) + 1 = ${Wt}
          2. Insertion: (${xe},${Ae-1}) + 1 = ${xt}
          3. Substitution: (${xe-1},${Ae-1}) + ${Xt} = ${en}
          ${Xt===0?`(Cost is 0 because "${me[xe-1]}" and "${de[Ae-1]}" match)`:`(Cost is 1 because "${me[xe-1]}" and "${de[Ae-1]}" don't match)`}`,step:"calculation",highlightCells:[[xe-1,Ae],[xe,Ae-1],[xe-1,Ae-1]]});const Et=Math.min(Wt,xt,en);bt[xe][Ae]=Et;let _t="";Et===Wt?_t="deletion":Et===xt?_t="insertion":Xt===0?_t="match":_t="substitution";const tn=Me.length>0&&Me[Me.length-1].cellOperations?{...Me[Me.length-1].cellOperations}:{};tn[`${xe},${Ae}`]=_t,Me.push({matrix:bt,activeCell:[xe,Ae],explanation:`Cell (${xe},${Ae}) = ${Et} (minimum of ${Wt}, ${xt}, ${en}).
          Operation: ${_t}${_t==="match"?` (words "${me[xe-1]}" and "${de[Ae-1]}" match)`:""}`,step:"fill",operation:_t,cellOperations:tn})}let Ce=me.length,Ee=de.length;const at=[],Vt=[[Ce,Ee]];let Gt=0,Ut=0,Dt=0;const ft=JSON.parse(JSON.stringify(Me[Me.length-1].matrix));for(;Ce>0||Ee>0;){let xe=JSON.parse(JSON.stringify(ft)),Ae="",bt="";Ce>0&&Ee>0&&ft[Ce][Ee]===ft[Ce-1][Ee-1]+(me[Ce-1]===de[Ee-1]?0:1)?(me[Ce-1]===de[Ee-1]?(at.unshift({type:"correct",ref:me[Ce-1],hyp:de[Ee-1]}),Ae="match",bt=`Words match: "${me[Ce-1]}" = "${de[Ee-1]}". Move diagonally to (${Ce-1},${Ee-1}).`):(at.unshift({type:"substitution",ref:me[Ce-1],hyp:de[Ee-1]}),Gt++,Ae="substitution",bt=`Substitution: Replace "${me[Ce-1]}" with "${de[Ee-1]}". Move diagonally to (${Ce-1},${Ee-1}).`),Ce--,Ee--):Ce>0&&ft[Ce][Ee]===ft[Ce-1][Ee]+1?(at.unshift({type:"deletion",ref:me[Ce-1],hyp:null}),Ce--,Ut++,Ae="deletion",bt=`Deletion: Remove "${me[Ce-1]}" from reference. Move up to (${Ce},${Ee}).`):(at.unshift({type:"insertion",ref:null,hyp:de[Ee-1]}),Ee--,Dt++,Ae="insertion",bt=`Insertion: Add "${de[Ee-1]}" to hypothesis. Move left to (${Ce},${Ee}).`),Vt.push([Ce,Ee]);const Xt={},Wt=[...Vt].reverse();for(let xt=0;xt<Wt.length-1;xt++){const[en,Et]=Wt[xt],[_t,tn]=Wt[xt+1];let Os="";_t===en+1&&tn===Et+1?Os=me[en]===de[Et]?"match":"substitution":_t===en+1&&tn===Et?Os="deletion":_t===en&&tn===Et+1&&(Os="insertion"),Xt[`${_t},${tn}`]=Os}Me.push({matrix:xe,activeCell:[Ce,Ee],explanation:`Backtracking: ${bt}`,step:"backtrack",backtrackPath:[...Vt].reverse(),operation:Ae,pathOperations:Xt,alignment:[...at]})}const Ie=Gt+Ut+Dt,hn=me.length>0?Ie/me.length:0,Ln={},Nt=[...Vt];for(let xe=0;xe<Nt.length-1;xe++){const[Ae,bt]=Nt[xe],[Xt,Wt]=Nt[xe+1];let xt="";Xt===Ae+1&&Wt===bt+1?xt=me[Ae]===de[bt]?"match":"substitution":Xt===Ae+1&&Wt===bt?xt="deletion":Xt===Ae&&Wt===bt+1&&(xt="insertion"),Ln[`${Xt},${Wt}`]=xt}const lc=[...Vt].reverse();Me.push({matrix:ft,activeCell:null,explanation:`Final Word Error Rate calculation:
       Substitutions: ${Gt}
       Deletions: ${Ut}
       Insertions: ${Dt}
       Total Errors: ${Ie}
       Reference Words: ${me.length}
       WER = Total Errors / Reference Words = ${Ie} / ${me.length} = ${(hn*100).toFixed(2)}%`,step:"result",wer:hn,subs:Gt,dels:Ut,ins:Dt,alignment:at,backtrackPath:lc,cellOperations:Me[Me.length-1].cellOperations||{},pathOperations:Ln}),te(Me),W(Me.length),q(0),Me.length>0&&(j(Me[0].matrix),U(Me[0].activeCell),Q(Me[0].explanation))},ye=()=>{const me=n.trim().toLowerCase().split(/\s+/).filter(Ie=>Ie.length>0),de=i.trim().toLowerCase().split(/\s+/).filter(Ie=>Ie.length>0);N(me),H(de);const qe=Array(me.length+1).fill().map(()=>Array(de.length+1).fill(0));for(let Ie=0;Ie<=me.length;Ie++)qe[Ie][0]=Ie;for(let Ie=0;Ie<=de.length;Ie++)qe[0][Ie]=Ie;for(let Ie=1;Ie<=me.length;Ie++)for(let hn=1;hn<=de.length;hn++){const Ln=me[Ie-1]===de[hn-1]?0:1;qe[Ie][hn]=Math.min(qe[Ie-1][hn]+1,qe[Ie][hn-1]+1,qe[Ie-1][hn-1]+Ln)}j(qe);let Me=me.length,Ce=de.length;const Ee=[],at=[];let Vt=0,Gt=0,Ut=0;for(;Me>0||Ce>0;)at.push([Me,Ce]),Me>0&&Ce>0&&qe[Me][Ce]===qe[Me-1][Ce-1]+(me[Me-1]===de[Ce-1]?0:1)?(me[Me-1]===de[Ce-1]?Ee.unshift({type:"correct",ref:me[Me-1],hyp:de[Ce-1]}):(Ee.unshift({type:"substitution",ref:me[Me-1],hyp:de[Ce-1]}),Vt++),Me--,Ce--):Me>0&&qe[Me][Ce]===qe[Me-1][Ce]+1?(Ee.unshift({type:"deletion",ref:me[Me-1],hyp:null}),Me--,Gt++):(Ee.unshift({type:"insertion",ref:null,hyp:de[Ce-1]}),Ce--,Ut++);at.length>0&&(at[at.length-1][0]!==0||at[at.length-1][1]!==0)&&at.push([0,0]),L(at.reverse());const Dt=Vt+Gt+Ut,ft=me.length>0?Dt/me.length:0;r(ft),h(Vt),m(Gt),b(Ut),x(Ee)},le=me=>{e(me.target.value)},pe=me=>{a(me.target.value)},Te=()=>{M(!v)},je=()=>{_(!w)},_e=()=>{J(!z)},he=me=>{switch(me){case"first":q(0);break;case"prev":q(Math.max(0,$-1));break;case"next":q(Math.min(ee-1,$+1));break;case"last":q(ee-1);break;case"play":I(!K);break}},be=me=>{G(parseInt(me.target.value))},Ne=[{name:"Basic Example",ref:"the quick brown fox jumps over the lazy dog",hyp:"the quick brown fox jumped over lazy dog"},{name:"ASR Errors",ref:"recognize speech with artificial intelligence",hyp:"wreck a nice beach with artificial intelligence"},{name:"Number Confusion",ref:"please call five five five one two three four",hyp:"please call five five five one two three"},{name:"Proper Nouns",ref:"john smith lives in new york city",hyp:"john smyth lives in new york"},{name:"Short Example",ref:"hello world",hyp:"hallo word"}],Be=me=>{e(me.ref),a(me.hyp)};return f.jsxs("div",{className:"word-error-rate-demo",children:[f.jsxs("div",{className:"description",children:[f.jsx("h2",{children:"Word Error Rate (WER) Calculator"}),f.jsx("p",{children:"Word Error Rate is the standard metric for evaluating speech recognition accuracy. It measures the minimum number of edits (substitutions, deletions, and insertions) needed to transform the reference text into the hypothesis text."}),f.jsxs("div",{className:"toggle-buttons",children:[f.jsx("button",{className:"toggle-button explanation-toggle",onClick:Te,children:v?"Hide Explanation":"Show Explanation"}),f.jsx("button",{className:"toggle-button matrix-toggle",onClick:je,children:w?"Hide DP Matrix":"Show DP Matrix"}),f.jsx("button",{className:`toggle-button step-toggle ${z?"active":""}`,onClick:_e,children:z?"Exit Step Mode":"Step-by-Step Mode"})]}),v&&f.jsxs("div",{className:"explanation-panel",children:[f.jsx("h3",{children:"How WER is Calculated"}),f.jsx("p",{children:"WER = (S + D + I) / N"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"S"}),": Number of substitutions"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"D"}),": Number of deletions"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"I"}),": Number of insertions"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"N"}),": Number of words in the reference"]})]}),f.jsx("p",{children:"The algorithm uses dynamic programming (Levenshtein distance) to find the minimum number of edits required to transform the reference into the hypothesis."}),f.jsx("p",{children:"In this implementation, each operation (substitution, deletion, insertion) has a cost of 1."})]})]}),f.jsxs("div",{className:"examples-panel",children:[f.jsx("h3",{children:"Load Example"}),f.jsx("div",{className:"example-buttons",children:Ne.map((me,de)=>f.jsx("button",{className:"example-button",onClick:()=>Be(me),children:me.name},de))})]}),f.jsxs("div",{className:"input-panel",children:[f.jsxs("div",{className:"input-group",children:[f.jsx("label",{htmlFor:"reference",children:"Reference Text (Ground Truth):"}),f.jsx("textarea",{id:"reference",value:n,onChange:le,placeholder:"Enter the reference text...",rows:3})]}),f.jsxs("div",{className:"input-group",children:[f.jsx("label",{htmlFor:"hypothesis",children:"Hypothesis Text (ASR Output):"}),f.jsx("textarea",{id:"hypothesis",value:i,onChange:pe,placeholder:"Enter the hypothesis text...",rows:3})]})]}),z&&f.jsxs("div",{className:"step-controls",children:[f.jsxs("div",{className:"step-navigation",children:[f.jsx("button",{onClick:()=>he("first"),disabled:$===0,children:f.jsx("span",{children:""})}),f.jsx("button",{onClick:()=>he("prev"),disabled:$===0,children:f.jsx("span",{children:""})}),f.jsxs("div",{className:"step-indicator",children:["Step ",$+1," of ",ee]}),f.jsx("button",{onClick:()=>he("next"),disabled:$===ee-1,children:f.jsx("span",{children:""})}),f.jsx("button",{onClick:()=>he("last"),disabled:$===ee-1,children:f.jsx("span",{children:""})})]}),f.jsxs("div",{className:"auto-play-controls",children:[f.jsx("button",{className:`play-button ${K?"playing":""}`,onClick:()=>he("play"),children:K?" Pause":" Play"}),f.jsxs("div",{className:"speed-control",children:[f.jsx("label",{htmlFor:"speed",children:"Speed:"}),f.jsxs("select",{id:"speed",value:B,onChange:be,children:[f.jsx("option",{value:"2000",children:"Slow"}),f.jsx("option",{value:"1000",children:"Medium"}),f.jsx("option",{value:"500",children:"Fast"})]})]})]})]}),(w||z)&&f.jsxs("div",{className:"matrix-visualization",children:[f.jsx("h3",{children:"Dynamic Programming Matrix"}),f.jsxs("p",{className:"matrix-explanation",children:["This matrix shows the minimum edit distance at each step of the algorithm.",!z&&"The highlighted path shows the optimal sequence of operations to transform the reference into the hypothesis."]}),f.jsx(Yj,{matrix:A,refWords:D,hypWords:k,path:z?[]:O,activeCell:V,stepMode:z,currentStep:$,stepHistory:P})]}),z&&R&&f.jsxs("div",{className:"step-explanation",children:[f.jsx("h3",{children:"Current Step Explanation"}),f.jsx("p",{children:R})]}),f.jsxs("div",{className:"results-panel",children:[(!z||$===ee-1)&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"wer-result",children:[f.jsxs("h3",{children:["Word Error Rate: ",(l*100).toFixed(2),"%"]}),f.jsxs("div",{className:"error-breakdown",children:[f.jsxs("div",{className:"error-type",children:[f.jsx("span",{className:"error-label",children:"Substitutions:"}),f.jsx("span",{className:"error-count",children:c})]}),f.jsxs("div",{className:"error-type",children:[f.jsx("span",{className:"error-label",children:"Deletions:"}),f.jsx("span",{className:"error-count",children:d})]}),f.jsxs("div",{className:"error-type",children:[f.jsx("span",{className:"error-label",children:"Insertions:"}),f.jsx("span",{className:"error-count",children:g})]}),f.jsxs("div",{className:"error-type",children:[f.jsx("span",{className:"error-label",children:"Total Errors:"}),f.jsx("span",{className:"error-count",children:c+d+g})]})]})]}),f.jsxs("div",{className:"alignment-visualization",children:[f.jsx("h3",{children:"Alignment Visualization"}),f.jsx(U0,{alignment:S})]})]}),z&&$<ee-1&&P.length>0&&P[$].step==="backtrack"&&f.jsxs("div",{className:"interim-results",children:[f.jsx("h3",{children:"Current Alignment (In Progress)"}),f.jsx(U0,{alignment:P[$].alignment||[]})]})]}),f.jsxs("div",{className:"tips-panel",children:[f.jsx("h3",{children:"Tips for Interpreting WER"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Lower is better"})," - A WER of 0% means perfect recognition"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Human transcribers"})," typically achieve 4-5% WER"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"State-of-the-art ASR systems"})," achieve 5-10% WER on clean speech"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Context matters"})," - WER doesn't account for semantic importance of words"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Error patterns"})," are often more informative than the raw WER number"]})]})]})]})},kh=({data:n,width:e,height:i,color:a="#0284c7",fillColor:l="rgba(2, 132, 199, 0.1)",showGrid:r=!0,showAxes:c=!0,title:h="",xLabel:d="",yLabel:m="",highlightIndex:g=-1,gridStep:b=20,xRange:S=null,yRange:x=null})=>{const v=C.useRef(null);C.useEffect(()=>{if(!v.current||!n||n.length===0)return;const j=v.current,D=j.getContext("2d"),N=window.devicePixelRatio||1;j.width=e*N,j.height=i*N,j.style.width=`${e}px`,j.style.height=`${i}px`,D.scale(N,N),D.fillStyle="#f8f9fa",D.fillRect(0,0,e,i),r&&M(D,e,i,b),c&&w(D,e,i),_(D,n,e,i,a,l,g,S,x),A(D,e,i,h,d,m)},[n,e,i,a,l,r,c,h,d,m,g,b,S,x]);const M=(j,D,N,k)=>{j.beginPath(),j.strokeStyle="rgba(229, 231, 235, 0.8)",j.lineWidth=.5;for(let H=k;H<D;H+=k)j.moveTo(H,0),j.lineTo(H,N);for(let H=k;H<N;H+=k)j.moveTo(0,H),j.lineTo(D,H);j.stroke()},w=(j,D,N)=>{const k=N/2,H=40;j.beginPath(),j.strokeStyle="#6b7280",j.lineWidth=1,j.moveTo(0,k),j.lineTo(D,k),j.moveTo(H,0),j.lineTo(H,N),j.stroke(),j.beginPath(),j.strokeStyle="#6b7280",j.lineWidth=1;const O=5,L=40;for(let z=H+L;z<D;z+=L)j.moveTo(z,k-O/2),j.lineTo(z,k+O/2),j.font="bold 10px Arial",j.fillStyle="#4b5563",j.textAlign="center",j.fillText((z-H)/L,z,k+15);for(let z=H-L;z>0;z-=L)j.moveTo(z,k-O/2),j.lineTo(z,k+O/2),j.font="bold 10px Arial",j.fillStyle="#4b5563",j.textAlign="center",j.fillText((z-H)/L,z,k+15);for(let z=k-L;z>0;z-=L)j.moveTo(H-O/2,z),j.lineTo(H+O/2,z),j.font="bold 10px Arial",j.fillStyle="#4b5563",j.textAlign="right",j.fillText(((k-z)/L).toFixed(1),H-8,z+3);for(let z=k+L;z<N;z+=L)j.moveTo(H-O/2,z),j.lineTo(H+O/2,z),j.font="bold 10px Arial",j.fillStyle="#4b5563",j.textAlign="right",j.fillText(((k-z)/L).toFixed(1),H-8,z+3);j.font="bold 10px Arial",j.fillStyle="#4b5563",j.textAlign="right",j.fillText("0",H-8,k+10),j.stroke()},_=(j,D,N,k,H,O,L,z,J)=>{if(!D||D.length===0)return;const $=k/2,q=40;let ee=J?J[0]:Math.min(...D),W=J?J[1]:Math.max(...D);if(W-ee<.5){const te=(W+ee)/2;ee=te-.5,W=te+.5}ee===W&&(ee-=.5,W+=.5);const P=z?(N-q)/(z[1]-z[0]):(N-q)/D.length;if(O){j.beginPath(),j.moveTo(q,$);for(let te=0;te<D.length;te++){const V=q+te*P,U=W-ee,R=k*.8,Q=$-((D[te]-ee)/U-.5)*R;j.lineTo(V,Q)}j.lineTo(q+(D.length-1)*P,$),j.closePath(),j.fillStyle=O,j.fill()}j.beginPath();for(let te=0;te<D.length;te++){const V=q+te*P,U=W-ee,R=k*.8,Q=$-((D[te]-ee)/U-.5)*R;te===0?j.moveTo(V,Q):j.lineTo(V,Q),te===L&&(j.save(),j.fillStyle="#ef4444",j.beginPath(),j.arc(V,Q,5,0,Math.PI*2),j.fill(),j.restore(),j.save(),j.strokeStyle="rgba(239, 68, 68, 0.5)",j.setLineDash([3,3]),j.beginPath(),j.moveTo(V,Q),j.lineTo(V,$),j.stroke(),j.restore())}j.strokeStyle=H,j.lineWidth=2,j.stroke()},A=(j,D,N,k,H,O)=>{k&&(j.font="bold 16px Arial",j.fillStyle="#1f2937",j.textAlign="center",j.fillText(k,D/2,16)),H&&(j.font="bold 14px Arial",j.fillStyle="#374151",j.textAlign="center",j.fillText(H,D/2,N-10)),O&&(j.save(),j.font="bold 14px Arial",j.fillStyle="#374151",j.translate(12,N/2),j.rotate(-Math.PI/2),j.textAlign="center",j.fillText(O,0,0),j.restore())};return f.jsx("canvas",{ref:v,className:"visualization-canvas",width:e,height:i})},Vn={rectangular:{name:"Rectangular",generate:(n=100)=>{const e=Array(n).fill(0),i=Math.floor(n*.4),a=Math.floor(n*.6);for(let l=i;l<a;l++)e[l]=1;return e}},triangular:{name:"Triangular",generate:(n=100)=>{const e=Array(n).fill(0),i=Math.floor(n*.5),a=Math.floor(n*.2);for(let l=i-a;l<=i+a;l++)l>=0&&l<n&&(e[l]=1-Math.abs(l-i)/a);return e}},gaussian:{name:"Gaussian",generate:(n=100)=>{const e=Array(n).fill(0),i=Math.floor(n*.5),a=n*.06;for(let l=0;l<n;l++)e[l]=Math.exp(-.5*Math.pow((l-i)/a,2));return e}},sinc:{name:"Sinc",generate:(n=100)=>{const e=Array(n).fill(0),i=Math.floor(n*.5),a=15;for(let l=0;l<n;l++)if(l===i)e[l]=1.5;else{const r=(l-i)/a;e[l]=1.5*Math.sin(Math.PI*r)/(Math.PI*r)}return e}},square_wave:{name:"Square Wave",generate:(n=100)=>{const e=Array(n).fill(0),i=Math.floor(n*.2);for(let a=0;a<n;a++)e[a]=Math.floor(a%i/(i/2))?-1.2:1.2;return e}},sine_wave:{name:"Sine Wave",generate:(n=100)=>{const e=Array(n).fill(0),i=Math.floor(n*.2);for(let a=0;a<n;a++)e[a]=Math.sin(a*2*Math.PI/i);return e}},delta:{name:"Delta",generate:(n=100)=>{const e=Array(n).fill(0);return e[Math.floor(n*.5)]=1,e}},double_delta:{name:"Double Delta",generate:(n=100)=>{const e=Array(n).fill(0);return e[Math.floor(n*.4)]=1,e[Math.floor(n*.6)]=1,e}},exponential:{name:"Exponential",generate:(n=100)=>{const e=Array(n).fill(0),i=Math.floor(n*.3);for(let a=i;a<n;a++)e[a]=Math.exp(-.05*(a-i));return e}}},Xj=()=>{const[n,e]=C.useState("rectangular"),[i,a]=C.useState("gaussian"),[l,r]=C.useState([]),[c,h]=C.useState([]),[d,m]=C.useState([]),[g,b]=C.useState(0),[S,x]=C.useState(!1),[v,M]=C.useState("normal"),w=100,_=C.useRef(null);C.useEffect(()=>{r(Vn[n].generate(w)),h(Vn[i].generate(w))},[n,i]);const A=C.useCallback((z,J)=>{if(!z||!J||z.length===0||J.length===0)return[];const $=Array(z.length+J.length-1).fill(0);for(let q=0;q<$.length;q++)for(let ee=0;ee<z.length;ee++){const W=q-ee;W>=0&&W<J.length&&($[q]+=z[ee]*J[W])}return $},[]),j=C.useCallback((z,J)=>{if(!z||z.length===0)return[];const $=Math.floor(J/100*z.length),q=Array(z.length).fill(0);for(let ee=0;ee<$;ee++)q[ee]=z[ee];return q},[]),[D,N]=C.useState([]);C.useEffect(()=>{if(l.length>0&&c.length>0){const z=A(l,c);N(z)}},[l,c,A]),C.useEffect(()=>{m(j(D,g))},[g,D,j]),C.useEffect(()=>{if(S){let z;switch(v){case"slow":z=50;break;case"fast":z=10;break;default:z=30}const J=()=>{b($=>{const q=$+1;return q>100?(x(!1),100):q}),_.current=setTimeout(J,z)};return _.current=setTimeout(J,z),()=>{_.current&&clearTimeout(_.current)}}},[S,v]);const k=()=>{if(!c||c.length===0)return[];const z=w*1.5,J=Math.floor(g/100*z),$=Array(w).fill(0);for(let q=0;q<w;q++){const ee=q+(w-J);ee>=0&&ee<c.length&&($[q]=c[ee])}return $},H=z=>{b(parseInt(z.target.value)),x(!1)},O=()=>{g>=100&&b(0),x(!S)},L=()=>{b(0),x(!1)};return f.jsxs("div",{className:"convolution-demo",children:[f.jsx("h2",{children:"Convolution Visualization"}),f.jsx("div",{className:"info-panel",children:f.jsx("p",{children:"This demo visualizes the convolution of two functions. Select different function types and use the slider to move the second function from right to left across the first function. The third plot shows how the convolution result builds up as the functions overlap."})}),f.jsxs("div",{className:"control-panel",children:[f.jsxs("div",{className:"function-selector",children:[f.jsxs("div",{className:"function-group",children:[f.jsx("h3",{children:"First Function (Stationary)"}),f.jsx("div",{className:"function-options",children:Object.keys(Vn).map(z=>f.jsx("button",{className:`function-option ${n===z?"selected":""}`,onClick:()=>e(z),children:Vn[z].name},z))})]}),f.jsxs("div",{className:"function-group",children:[f.jsx("h3",{children:"Second Function (Moving)"}),f.jsx("div",{className:"function-options",children:Object.keys(Vn).map(z=>f.jsx("button",{className:`function-option ${i===z?"selected":""}`,onClick:()=>a(z),children:Vn[z].name},z))})]})]}),f.jsxs("div",{className:"slider-control",children:[f.jsxs("label",{htmlFor:"position-slider",children:["Convolution Progress: ",g,"%"]}),f.jsx("input",{id:"position-slider",type:"range",min:"0",max:"100",value:g,onChange:H,className:"slider"}),f.jsxs("div",{className:"animation-controls",children:[f.jsx("button",{className:`play-button ${S?"playing":""}`,onClick:O,children:S?" Pause":" Play Animation"}),f.jsx("button",{className:"play-button",onClick:L,children:" Reset"}),f.jsxs("div",{className:"speed-control",children:[f.jsx("label",{htmlFor:"speed-select",children:"Speed:"}),f.jsxs("select",{id:"speed-select",value:v,onChange:z=>M(z.target.value),children:[f.jsx("option",{value:"slow",children:"Slow"}),f.jsx("option",{value:"normal",children:"Normal"}),f.jsx("option",{value:"fast",children:"Fast"})]})]})]})]})]}),f.jsxs("div",{className:"visualizations",children:[f.jsxs("div",{className:"visualization-container",children:[f.jsxs("h3",{children:["First Function: ",Vn[n].name]}),f.jsx(kh,{data:l,width:350,height:200,color:"#0284c7",fillColor:"rgba(2, 132, 199, 0.1)",title:Vn[n].name,xLabel:"Time",yLabel:"Amplitude",yRange:[-1.2,1.2]})]}),f.jsxs("div",{className:"visualization-container",children:[f.jsxs("h3",{children:["Second Function: ",Vn[i].name]}),f.jsx(kh,{data:k(),width:350,height:200,color:"#10b981",fillColor:"rgba(16, 185, 129, 0.1)",title:`${Vn[i].name} (Moving)`,xLabel:"Time",yLabel:"Amplitude",yRange:[-1.2,1.2]})]}),f.jsxs("div",{className:"visualization-container",children:[f.jsx("h3",{children:"Convolution Result (f * g)"}),f.jsx(kh,{data:d,width:350,height:200,color:"#7c3aed",fillColor:"rgba(124, 58, 237, 0.1)",title:"Convolution Output",xLabel:"Time",yLabel:"Amplitude",yRange:[-Math.max(.1,...D.map(Math.abs))*1.2,Math.max(.1,...D.map(Math.abs))*1.2]})]})]}),f.jsxs("div",{className:"explanation",children:[f.jsx("h3",{children:"About Convolution"}),f.jsx("p",{children:"Convolution is a mathematical operation that combines two functions to produce a third function that represents how the shape of one is modified by the other. The formula for convolution is:"}),f.jsx("p",{className:"formula",children:"(f * g)(n) =  f(k)  g(n-k) for k=0 to n"}),f.jsx("p",{children:"As you slide the second function across the first function, each point in the convolution result is calculated by multiplying the overlapping values and summing them up. This process is fundamental in:"}),f.jsxs("ul",{children:[f.jsx("li",{children:"Signal processing (filtering, smoothing)"}),f.jsx("li",{children:"Image processing (blurring, edge detection)"}),f.jsx("li",{children:"Probability theory (combining probability distributions)"}),f.jsx("li",{children:"Acoustics (applying room effects to sound)"}),f.jsx("li",{children:"Neural networks (convolutional layers)"})]})]})]})},Ij=()=>{var je,_e;const[n,e]=C.useState(null),[i,a]=C.useState(null),[l,r]=C.useState(null),[c,h]=C.useState("voice"),[d,m]=C.useState("small-room"),[g,b]=C.useState(!1),[S,x]=C.useState(!1),[v,M]=C.useState(""),[w,_]=C.useState(0),[A,j]=C.useState({timeDirect:0,timeFFT:0}),[D,N]=C.useState(null),[k,H]=C.useState(!1),[O,L]=C.useState("fft"),[z,J]=C.useState(""),[$,q]=C.useState({input:[],impulse:[],output:[]}),ee=C.useRef(null),W=C.useRef(null),P={voice:{name:"Voice",file:"webdemos/audio-samples/voice.mp3",description:"Spoken voice recording"},drums:{name:"Drums",file:"webdemos/audio-samples/drums.mp3",description:"Drum kit recording"},flute:{name:"Flute",file:"webdemos/audio-samples/flute_music.wav",description:"Flute music recording"},"short-sample":{name:"Short Sample",file:"webdemos/audio-samples/short-sample.wav",description:"A short audio sample for quick calculations"}},te={"small-room":{name:"Small Room",file:"webdemos/impulse-responses/small-room.wav",description:"A small, somewhat damped room with short reflections."},"concert-hall":{name:"Concert Hall",file:"webdemos/impulse-responses/concert-hall.wav",description:"A large concert hall with long, smooth reverb tail."},cathedral:{name:"Cathedral",file:"webdemos/impulse-responses/cathedral.wav",description:"A cathedral with very long reverb time and distinct early reflections."},"simple-impulse":{name:"Simple Impulse",file:"webdemos/impulse-responses/simple-impulse.wav",description:"A simple impulse response for demonstration purposes."}};C.useEffect(()=>{const he=()=>{if(!n)try{const be=new(window.AudioContext||window.webkitAudioContext);e(be)}catch(be){console.error("Failed to create audio context:",be)}document.removeEventListener("click",he)};return document.addEventListener("click",he),()=>{document.removeEventListener("click",he),n&&n.close()}},[n]),C.useEffect(()=>{if(!n)return;(async()=>{b(!0);try{M("Loading audio source..."),_(10);const be=await fetch(P[c].file);_(30);const Ne=await be.arrayBuffer();_(40);const Be=await n.decodeAudioData(Ne);a(Be),_(60),M("Loading impulse response...");const me=await fetch(te[d].file);_(70);const de=await me.arrayBuffer();_(80);const qe=await n.decodeAudioData(de);r(qe),_(90),M("Preparing visualizations...");const Me=V(Be,1e3),Ce=V(qe,1e3);q(Ee=>({...Ee,input:Me,impulse:Ce})),_(100)}catch(be){console.error("Error loading buffers:",be)}finally{b(!1),M(""),_(0)}})()},[n,c,d]);const V=(he,be)=>{if(!he)return[];const Ne=he.getChannelData(0),Be=[],me=Math.floor(Ne.length/be);for(let de=0;de<be;de++)Be.push(Ne[de*me]);return Be},U=(he,be)=>{const Ne=he.getChannelData(0),Be=be.getChannelData(0),me=Ne.length+Be.length-1,de=new Float32Array(me),qe=performance.now(),Me=1e3,Ce=Math.ceil(me/Me);return new Promise(Ee=>{let at=0;const Vt=()=>{M(`Computing time-domain convolution (${Math.floor(at/Ce*100)}%)...`),_(Math.floor(at/Ce*100));const Gt=at*Me,Ut=Math.min(Gt+Me,me);for(let Dt=Gt;Dt<Ut;Dt++)for(let ft=0;ft<Be.length;ft++)Dt-ft>=0&&Dt-ft<Ne.length&&(de[Dt]+=Ne[Dt-ft]*Be[ft]);if(at++,at<Ce)setTimeout(Vt,0);else{const Dt=performance.now(),ft=n.createBuffer(he.numberOfChannels,me,he.sampleRate);ft.getChannelData(0).set(de),M(""),_(100),Ee({buffer:ft,executionTime:Dt-qe})}};Vt()})},R=async(he,be)=>{M("Setting up FFT convolution..."),_(20);const Ne=performance.now(),Be=n.createConvolver();Be.buffer=be,M("Creating offline audio context..."),_(40);const me=new OfflineAudioContext(he.numberOfChannels,he.length+be.length-1,he.sampleRate),de=me.createBufferSource();de.buffer=he;const qe=me.createConvolver();qe.buffer=be,de.connect(qe),qe.connect(me.destination),de.start(),M("Performing FFT convolution..."),_(60);const Me=await me.startRendering();M("Finalizing FFT convolution..."),_(80);const Ce=performance.now();return M(""),_(100),{buffer:Me,executionTime:Ce-Ne}},Q=async()=>{if(!(!i||!l||!n)){K(),x(!0),_(0);try{let he;O==="direct"?(M("Computing direct time-domain convolution..."),he=await U(i,l),j(Ne=>({...Ne,timeDirect:he.executionTime}))):(M("Computing FFT-based convolution..."),he=await R(i,l),j(Ne=>({...Ne,timeFFT:he.executionTime}))),M("Preparing visualization data...");const be=V(he.buffer,1e3);q(Ne=>({...Ne,output:be})),N(he.buffer),J(O),M("Completed!"),setTimeout(()=>M(""),1e3)}catch(he){console.error("Error during convolution processing:",he),M("Error: "+he.message)}finally{x(!1),_(0)}}},B=async()=>{if(!(!i||!l||!n)){K(),x(!0),_(0);try{M("Computing direct time-domain convolution...");const he=await U(i,l);M("Computing FFT-based convolution...");const be=await R(i,l);j({timeDirect:he.executionTime,timeFFT:be.executionTime}),M("Preparing visualization data...");const Ne=V(O==="fft"?be.buffer:he.buffer,1e3);q(Be=>({...Be,output:Ne})),N(O==="fft"?be.buffer:he.buffer),J(O),M("Completed!"),setTimeout(()=>M(""),1e3)}catch(he){console.error("Error during convolution processing:",he),M("Error: "+he.message)}finally{x(!1),_(0)}}},G=()=>{if(!(!D||!n)){K();try{const he=n.createBufferSource();he.buffer=D;const be=n.createGain();be.gain.value=.8,he.connect(be),be.connect(n.destination),he.start(0),W.current=he,H(!0),he.onended=()=>{H(!1),W.current=null}}catch(he){console.error("Error playing audio:",he),H(!1)}}},K=()=>{if(W.current){try{W.current.stop(),W.current.disconnect()}catch(he){console.error("Error stopping playback:",he)}W.current=null}H(!1)},I=()=>{k?K():G()},Y={responsive:!0,maintainAspectRatio:!1,animation:!1,scales:{x:{ticks:{display:!1},grid:{display:!1}},y:{ticks:{display:!1},grid:{color:"rgba(200, 200, 200, 0.1)"}}},plugins:{legend:{display:!1}}},ae=(he,be,Ne)=>({labels:Array(he.length).fill(""),datasets:[{label:be,data:he,borderColor:Ne,borderWidth:1,pointRadius:0}]}),re=C.useMemo(()=>ae($.input,"Input Signal","rgb(75, 192, 192)"),[$.input]),ye=C.useMemo(()=>ae($.impulse,"Impulse Response","rgb(255, 159, 64)"),[$.impulse]),le=C.useMemo(()=>ae($.output,"Convolution Result","rgb(255, 99, 132)"),[$.output]),pe=C.useMemo(()=>A.timeDirect===0||A.timeFFT===0?0:(A.timeDirect/A.timeFFT).toFixed(2),[A]),Te=A.timeDirect>0&&A.timeFFT>0;return f.jsxs("div",{className:"fourier-convolution-demo",children:[f.jsxs("div",{className:"demo-header",children:[f.jsx("h2",{children:"Fourier Transform Convolution Demo"}),f.jsx("div",{className:"info-panel",children:f.jsx("p",{children:"Compare the computational efficiency of convolution in the time domain versus using the Fast Fourier Transform (FFT). This demo demonstrates how the convolution theorem makes audio processing more efficient."})})]}),(g||S||v)&&f.jsxs("div",{className:"processing-indicator",children:[f.jsx("div",{className:"progress-container",children:f.jsx("div",{className:"progress-bar",style:{width:`${w}%`}})}),f.jsx("p",{className:"processing-message",children:v||"Processing..."})]}),f.jsxs("div",{className:"demo-container",children:[f.jsxs("div",{className:"controls-container",children:[f.jsx("h3",{children:"Input Selection"}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{children:"Audio Source"}),f.jsx("select",{className:"input-select",value:c,onChange:he=>h(he.target.value),disabled:S||g,children:Object.entries(P).map(([he,be])=>f.jsx("option",{value:he,children:be.name},he))}),f.jsx("p",{className:"source-description",children:(je=P[c])==null?void 0:je.description})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{children:"Impulse Response"}),f.jsx("select",{className:"impulse-select",value:d,onChange:he=>m(he.target.value),disabled:S||g,children:Object.entries(te).map(([he,be])=>f.jsx("option",{value:he,children:be.name},he))}),f.jsx("p",{className:"impulse-description",children:(_e=te[d])==null?void 0:_e.description})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{children:"Convolution Method"}),f.jsxs("div",{className:"method-selection",children:[f.jsxs("label",{className:"method-option",children:[f.jsx("input",{type:"radio",value:"direct",checked:O==="direct",onChange:()=>L("direct"),disabled:S}),f.jsx("span",{children:"Time Domain (Direct)"})]}),f.jsxs("label",{className:"method-option",children:[f.jsx("input",{type:"radio",value:"fft",checked:O==="fft",onChange:()=>L("fft"),disabled:S}),f.jsx("span",{children:"Fast Fourier Transform"})]})]})]}),f.jsxs("div",{className:"button-group",children:[f.jsx("button",{className:"process-button",onClick:Q,disabled:!i||!l||S||g,children:S?"Processing...":`Run ${O==="direct"?"Time Domain":"FFT"} Method`}),f.jsx("button",{className:"compare-button",onClick:B,disabled:!i||!l||S||g,children:"Run Both Methods"})]}),f.jsx("div",{className:"button-group mt-3",children:f.jsx("button",{className:`play-button ${k?"playing":""}`,onClick:I,disabled:!D||S,children:k?"Stop":"Play Result"})}),z&&f.jsx("div",{className:"last-run-info",children:f.jsxs("p",{children:["Last run: ",z==="direct"?"Time Domain":"FFT"," method"]})})]}),f.jsxs("div",{className:"visualizer-container",children:[f.jsx("h3",{children:"Visualization"}),Te&&f.jsxs("div",{className:"performance-metrics",children:[f.jsx("h4",{children:"Performance Comparison"}),f.jsxs("div",{className:"metrics-grid",children:[f.jsxs("div",{className:"metric-item",children:[f.jsx("span",{className:"metric-label",children:"Time Domain:"}),f.jsxs("span",{className:"metric-value",children:[A.timeDirect.toFixed(2)," ms"]})]}),f.jsxs("div",{className:"metric-item",children:[f.jsx("span",{className:"metric-label",children:"FFT:"}),f.jsxs("span",{className:"metric-value",children:[A.timeFFT.toFixed(2)," ms"]})]}),f.jsxs("div",{className:"metric-item highlight",children:[f.jsx("span",{className:"metric-label",children:"Speed Difference:"}),f.jsxs("span",{className:"metric-value",children:[pe,"x faster"]}),f.jsx("span",{className:"metric-caption",children:pe>1?"FFT is faster":"Time domain is faster"})]})]})]}),!Te&&A.timeDirect>0&&f.jsxs("div",{className:"performance-metrics",children:[f.jsx("h4",{children:"Time Domain Performance"}),f.jsxs("div",{className:"metrics-grid",children:[f.jsxs("div",{className:"metric-item",children:[f.jsx("span",{className:"metric-label",children:"Execution Time:"}),f.jsxs("span",{className:"metric-value",children:[A.timeDirect.toFixed(2)," ms"]})]}),f.jsxs("div",{className:"metric-item",children:[f.jsx("span",{className:"metric-label",children:"Run Both Methods"}),f.jsx("span",{className:"metric-caption",children:"To see a performance comparison, run both methods"})]})]})]}),!Te&&A.timeFFT>0&&f.jsxs("div",{className:"performance-metrics",children:[f.jsx("h4",{children:"FFT Performance"}),f.jsxs("div",{className:"metrics-grid",children:[f.jsxs("div",{className:"metric-item",children:[f.jsx("span",{className:"metric-label",children:"Execution Time:"}),f.jsxs("span",{className:"metric-value",children:[A.timeFFT.toFixed(2)," ms"]})]}),f.jsxs("div",{className:"metric-item",children:[f.jsx("span",{className:"metric-label",children:"Run Both Methods"}),f.jsx("span",{className:"metric-caption",children:"To see a performance comparison, run both methods"})]})]})]}),f.jsxs("div",{className:"waveforms",children:[f.jsxs("div",{className:"waveform-item",children:[f.jsx("h4",{children:"Input Signal"}),f.jsx("div",{className:"waveform-container",children:$.input.length>0?f.jsx(bi,{data:re,options:Y}):f.jsx("div",{className:"no-data-message",children:"No input signal loaded"})})]}),f.jsxs("div",{className:"waveform-item",children:[f.jsx("h4",{children:"Impulse Response"}),f.jsx("div",{className:"waveform-container",children:$.impulse.length>0?f.jsx(bi,{data:ye,options:Y}):f.jsx("div",{className:"no-data-message",children:"No impulse response loaded"})})]}),f.jsxs("div",{className:"waveform-item",children:[f.jsx("h4",{children:"Convolution Result"}),f.jsx("div",{className:"waveform-container",children:$.output.length>0?f.jsx(bi,{data:le,options:Y}):f.jsx("div",{className:"no-data-message",children:"Process convolution to see result"})})]})]})]})]}),f.jsxs("div",{className:"explanation",children:[f.jsx("h3",{children:"How It Works"}),f.jsxs("div",{className:"explanation-grid",children:[f.jsxs("div",{className:"explanation-item",children:[f.jsx("h4",{children:"Time Domain Convolution"}),f.jsx("p",{children:"Direct convolution in the time domain requires multiplying each sample of the input signal with every sample of the impulse response. For signals of length N and M, this has a time complexity of O(NM)."}),f.jsx("pre",{className:"code-block",children:`// Time domain convolution
for (let n = 0; n < outputLength; n++) {
  for (let k = 0; k < h.length; k++) {
    if (n - k >= 0 && n - k < x.length) {
      output[n] += x[n - k] * h[k];
    }
  }
}`})]}),f.jsxs("div",{className:"explanation-item",children:[f.jsx("h4",{children:"FFT-based Convolution"}),f.jsx("p",{children:"The convolution theorem states that convolution in the time domain equals pointwise multiplication in the frequency domain. Using FFT, we can transform both signals, multiply them, and then transform back, achieving O(N log N) complexity."}),f.jsx("pre",{className:"code-block",children:`// FFT-based convolution
// 1. Transform signals to frequency domain
X = FFT(x)
H = FFT(h)

// 2. Multiply in frequency domain
Y = X * H

// 3. Transform back to time domain
y = IFFT(Y)`})]})]}),f.jsx("div",{className:"documentation-link",children:f.jsx("a",{href:"/webdemos/docs/fourier-convolution-theory.md",target:"_blank",rel:"noopener noreferrer",children:"View detailed technical documentation on the Fourier Transform and Convolution"})})]}),f.jsx("audio",{ref:ee,style:{display:"none"}})]})},Ms={rectangular:{name:"Rectangular (No Window)",description:"Simple truncation of the signal without smoothing. Shows most spectral leakage.",function:(n,e)=>1},hamming:{name:"Hamming",description:"Improved side lobe suppression compared to rectangular. Common in speech analysis.",function:(n,e)=>.54-.46*Math.cos(2*Math.PI*n/(e-1))},hanning:{name:"Hanning (Hann)",description:"Better frequency resolution than Hamming, with good side lobe suppression.",function:(n,e)=>.5*(1-Math.cos(2*Math.PI*n/(e-1)))},blackman:{name:"Blackman",description:"Very good side lobe suppression, at cost of wider main lobe.",function:(n,e)=>.42-.5*Math.cos(2*Math.PI*n/(e-1))+.08*Math.cos(4*Math.PI*n/(e-1))},kaiser:{name:"Kaiser",description:"Adjustable window with parameter  (beta) that controls sidelobe levels.",function:(n,e,i=5)=>{if(n===0||n===e-1)return 0;const a=(e-1)/2,l=i*Math.sqrt(1-Math.pow((n-a)/a,2));let r=1,c=1;for(let h=1;h<=10;h++)c*=l*l/(4*h*h),r+=c;return r/Qj(i)}}},Qj=n=>{let e=1,i=1;for(let a=1;a<=10;a++)i*=n*n/(4*a*a),e+=i;return e},ba={sine:{name:"Pure Sine Wave",description:"A single sinusoidal signal with no other frequency components.",generate:(n,e)=>Array.from({length:n},(a,l)=>Math.sin(2*Math.PI*440*l/e)),theoreticalSpectrum:(n,e)=>{const a=e/2,l=Math.floor(n/2),r=a/l,c=Array(l).fill(-120),h=Math.round(440/r);return h<l&&(c[h]=0,h>0&&(c[h-1]=-20),h<l-1&&(c[h+1]=-20)),c}},twoSines:{name:"Two Sine Waves",description:"Two sinusoidal signals with different frequencies.",generate:(n,e)=>Array.from({length:n},(l,r)=>.7*Math.sin(2*Math.PI*440*r/e)+.3*Math.sin(2*Math.PI*700*r/e)),theoreticalSpectrum:(n,e)=>{const l=e/2,r=Math.floor(n/2),c=l/r,h=Array(r).fill(-120),d=Math.round(440/c),m=Math.round(700/c);return d<r&&(h[d]=20*Math.log10(.7),d>0&&(h[d-1]=20*Math.log10(.7)-20),d<r-1&&(h[d+1]=20*Math.log10(.7)-20)),m<r&&(h[m]=20*Math.log10(.3),m>0&&(h[m-1]=20*Math.log10(.3)-20),m<r-1&&(h[m+1]=20*Math.log10(.3)-20)),h}},squareWave:{name:"Square Wave",description:"A square wave with many harmonics, demonstrating leakage effects well.",generate:(n,e)=>Array.from({length:n},(a,l)=>{const r=l/e;return Math.sign(Math.sin(2*Math.PI*220*r))}),theoreticalSpectrum:(n,e)=>{const a=e/2,l=Math.floor(n/2),r=a/l,c=Array(l).fill(-120);for(let h=1;h<30;h+=2){const d=220*h;if(d>=a)break;const m=Math.round(d/r);if(m<l&&m>=0){const g=20*Math.log10(4/(Math.PI*h));c[m]=g,m>0&&(c[m-1]=g-15),m<l-1&&(c[m+1]=g-15)}}return c}},transient:{name:"Transient Signal",description:"A signal with abrupt changes, challenging for Fourier analysis.",generate:(n,e)=>{const i=Array(n).fill(0),a=Math.floor(n/4),l=Math.floor(3*n/4);for(let r=a;r<l;r++){const c=(r-a)/(l-a);i[r]=Math.sin(2*Math.PI*5*c)*Math.exp(-4*Math.pow(c-.5,2))}return i}},voice:{name:"Speech-like",description:"A signal with characteristics similar to speech (varying frequency components).",generate:(n,e)=>Array.from({length:n},(i,a)=>{const l=a/e,r=150+50*Math.sin(2*Math.PI*2*l);return(.8+.2*Math.sin(2*Math.PI*8*l))*Math.sin(2*Math.PI*r*l)})}},Zj=()=>{const[n,e]=C.useState(8e3),[i,a]=C.useState(1024),[l,r]=C.useState("hamming"),[c,h]=C.useState("sine"),[d,m]=C.useState([]),[g,b]=C.useState([]),[S,x]=C.useState([]),[v,M]=C.useState([]),[w,_]=C.useState(0),[A,j]=C.useState(!0),[D,N]=C.useState([]),k=C.useRef(null),H=C.useRef(null);C.useEffect(()=>{try{const B=ba[c].generate,G=B(n*2,n);if(m(G),_(Math.floor(G.length/4)),ba[c].theoreticalSpectrum){const K=ba[c].theoreticalSpectrum(i,n);N(K)}else N([])}catch(B){console.error("Error generating signal:",B)}},[c,n,i]),C.useEffect(()=>{if(d.length)try{const B=Math.min(w+i,d.length),G=d.slice(w,B),K=Ms[l].function,I=G.map((re,ye)=>re*K(ye,G.length));b(I);const Y=O(G),ae=O(I);x(Y),M(ae)}catch(B){console.error("Error applying window:",B)}},[d,l,w,i]);const O=B=>{try{if(!B||B.length===0)return[];const G=[...B],K=Math.pow(2,Math.ceil(Math.log2(G.length)));for(;G.length<K;)G.push(0);H.current||(H.current=new(window.AudioContext||window.webkitAudioContext));const I=H.current,Y=I.createAnalyser();Y.fftSize=K*2;const ae=I.createBuffer(1,G.length,n),re=ae.getChannelData(0);G.forEach((he,be)=>{re[be]=he});const ye=new OfflineAudioContext(1,G.length,n),le=ye.createBufferSource();le.buffer=ae;const pe=ye.createAnalyser();pe.fftSize=K*2,pe.smoothingTimeConstant=0,le.connect(pe),pe.connect(ye.destination);const Te=new Float32Array(pe.frequencyBinCount);le.start(),ye.startRendering().then(()=>{pe.getFloatFrequencyData(Te)}).catch(he=>{console.error("Error rendering offline audio context:",he)});const _e=L(G).map(he=>{const be=Math.abs(he)+1e-10;return 20*Math.log10(be)});return _e.slice(0,Math.floor(_e.length/2))}catch(G){return console.error("Error in computeFFT:",G),Array(i/2).fill(-100)}},L=B=>{const G=B.length,K=[],I=Math.floor(G/2);for(let Y=0;Y<I;Y++){let ae=0,re=0;for(let le=0;le<G;le++){const pe=-2*Math.PI*Y*le/G;ae+=B[le]*Math.cos(pe),re+=B[le]*Math.sin(pe)}ae/=G,re/=G;const ye=Math.sqrt(ae*ae+re*re);K.push(ye)}return K},z=()=>{const B=k.current;if(!B)return;const G=B.getContext("2d"),K=B.width,I=B.height;G.clearRect(0,0,K,I),G.strokeStyle="#3b82f6",G.lineWidth=2,G.beginPath();const Y=Ms[l].function,ae=100;for(let re=0;re<ae;re++){const ye=re/(ae-1)*K,le=I-Y(re,ae)*(I-20)-10;re===0?G.moveTo(ye,le):G.lineTo(ye,le)}G.stroke()};C.useEffect(()=>{z()},[l]);const J=B=>{r(B.target.value)},$=B=>{h(B.target.value)},q=B=>{a(parseInt(B.target.value,10))},ee=B=>{const G=parseInt(B.target.value,10);_(Math.min(Math.max(0,G),d.length-i))},W=C.useMemo(()=>{if(!S.length)return[];const G=n/2/S.length;return Array.from({length:S.length},(K,I)=>I*G)},[S,n]),P={labels:Array.from({length:i},(B,G)=>G),datasets:[{label:"Original Signal (Rectangular Window)",data:d.slice(w,w+i),borderColor:"rgb(75, 192, 192)",borderWidth:1,pointRadius:0}]},te={labels:Array.from({length:i},(B,G)=>G),datasets:[{label:`${Ms[l].name} Windowed Signal`,data:g,borderColor:"rgb(255, 99, 132)",borderWidth:1,pointRadius:0}]},V={labels:W,datasets:[...A&&D.length>0?[{label:"Theoretical Spectrum",data:D,borderColor:"rgb(128, 0, 128)",borderWidth:2,borderDash:[5,5],pointRadius:0}]:[],{label:"Rectangular Window (Implicit)",data:S,borderColor:"rgb(75, 192, 192)",borderWidth:1,pointRadius:0},{label:`${Ms[l].name} Window`,data:v,borderColor:"rgb(255, 99, 132)",borderWidth:1,pointRadius:0}]},U={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Time Domain Signal"}},scales:{x:{title:{display:!0,text:"Sample Number"}},y:{title:{display:!0,text:"Amplitude"}}}},R={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Frequency Domain Comparison"},tooltip:{callbacks:{label:function(B){const G=B.raw,K=W[B.dataIndex].toFixed(1);return`${B.dataset.label}: ${G.toFixed(1)} dB at ${K} Hz`}}}},scales:{x:{title:{display:!0,text:"Frequency (Hz)"},max:Math.min(2e3,n/2),ticks:{callback:function(B){return B+" Hz"}}},y:{title:{display:!0,text:"Magnitude (dB)"},min:-80,max:0}},elements:{line:{tension:.2}}},Q=()=>{j(!A)};return f.jsxs("div",{className:"windowing-demo",children:[f.jsxs("div",{className:"demo-header",children:[f.jsx("h2",{children:"Windowing in Fourier Transform"}),f.jsx("div",{className:"info-panel",children:f.jsx("p",{children:"This demo illustrates how windowing affects the spectral analysis of signals. When performing Fourier transforms on finite segments of signals, we're already implicitly applying a rectangular window. Other window types can reduce spectral leakage and improve frequency resolution."})})]}),f.jsxs("div",{className:"demo-container",children:[f.jsxs("div",{className:"controls-container",children:[f.jsx("h3",{children:"Signal & Window Controls"}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"signal-type",children:"Signal Type"}),f.jsx("select",{id:"signal-type",className:"signal-select",value:c,onChange:$,children:Object.entries(ba).map(([B,G])=>f.jsx("option",{value:B,children:G.name},B))}),f.jsx("p",{className:"signal-description",children:ba[c].description})]}),ba[c].theoreticalSpectrum&&f.jsxs("div",{className:"control-group",children:[f.jsx("button",{className:`theoretical-toggle ${A?"active":""}`,onClick:Q,children:A?"Hide Theoretical Spectrum":"Show Theoretical Spectrum"}),A&&f.jsx("p",{className:"theoretical-note",children:"The purple dashed line shows the theoretical spectrum of an infinite-duration signal."})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"window-function",children:"Window Function"}),f.jsx("select",{id:"window-function",className:"window-select",value:l,onChange:J,children:Object.entries(Ms).map(([B,G])=>f.jsx("option",{value:B,children:G.name},B))}),f.jsx("p",{className:"window-description",children:Ms[l].description})]}),f.jsxs("div",{className:"window-visualization",children:[f.jsx("h4",{children:"Window Function Shape"}),f.jsx("canvas",{ref:k,width:300,height:150})]}),f.jsxs("div",{className:"frame-controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"frame-size",children:"Frame Size (samples)"}),f.jsxs("select",{id:"frame-size",className:"frame-select",value:i,onChange:q,children:[f.jsx("option",{value:"256",children:"256"}),f.jsx("option",{value:"512",children:"512"}),f.jsx("option",{value:"1024",children:"1024"}),f.jsx("option",{value:"2048",children:"2048"})]})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"frame-position",children:"Frame Position"}),f.jsx("input",{type:"range",id:"frame-position",min:"0",max:Math.max(0,d.length-i),value:w,onChange:ee,className:"frame-slider"})]})]})]}),f.jsxs("div",{className:"visualizer-container",children:[f.jsx("h3",{children:"Signal Visualizations"}),f.jsxs("div",{className:"chart-container time-domain-charts",children:[f.jsxs("div",{className:"original-signal-chart",children:[f.jsx("h4",{children:"Original Signal (Rectangular Window)"}),f.jsx("div",{className:"chart-wrapper",children:f.jsx(bi,{data:P,options:U})})]}),f.jsxs("div",{className:"windowed-signal-chart",children:[f.jsxs("h4",{children:[Ms[l].name," Windowed Signal"]}),f.jsx("div",{className:"chart-wrapper",children:f.jsx(bi,{data:te,options:U})})]})]}),f.jsxs("div",{className:"frequency-chart",children:[f.jsx("h4",{children:"Frequency Domain Comparison"}),f.jsx("div",{className:"chart-wrapper",children:f.jsx(bi,{data:V,options:R})})]}),f.jsxs("div",{className:"observation-panel",children:[f.jsx("h4",{children:"Key Observations"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Rectangular Window:"}),` When we analyze a finite segment of a signal, we're implicitly applying a rectangular window. This causes significant spectral leakage, visible as "smearing" in the frequency domain.`]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Hamming/Hanning Windows:"})," These taper the signal to zero at the edges, reducing spectral leakage by minimizing the discontinuities at segment boundaries."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Blackman Window:"})," Provides even better sidelobe suppression but at the cost of a wider main lobe (reduced frequency resolution)."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Tradeoff:"})," All windows involve a tradeoff between spectral leakage and frequency resolution."]})]})]})]})]}),f.jsxs("div",{className:"explanation",children:[f.jsx("h3",{children:"How Windowing Works"}),f.jsxs("div",{className:"explanation-grid",children:[f.jsxs("div",{className:"explanation-item",children:[f.jsx("h4",{children:"The Problem: Spectral Leakage"}),f.jsx("p",{children:`When we analyze a finite segment of a signal, we're implicitly multiplying the infinite signal by a rectangular window (abrupt truncation). This introduces discontinuities at the edges that manifest as spectral leakage - energy from one frequency "leaking" into adjacent frequency bins.`}),f.jsx("p",{children:"The true spectrum of an infinite signal would show exact frequency components (like the theoretical spectrum shown), but practical analysis with finite segments always shows some distortion."})]}),f.jsxs("div",{className:"explanation-item",children:[f.jsx("h4",{children:"The Solution: Window Functions"}),f.jsxs("p",{children:["Window functions taper the signal to zero at the boundaries, reducing discontinuities. Different windows offer different tradeoffs between:",f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Main lobe width:"})," Affects frequency resolution"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Side lobe height:"})," Affects spectral leakage"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Coherent gain:"})," Affects signal energy preservation"]})]})]})]})]}),f.jsx("div",{className:"documentation-link",children:f.jsx("a",{href:"https://en.wikipedia.org/wiki/Window_function",target:"_blank",rel:"noopener noreferrer",children:"Learn more about window functions and their applications"})})]})]})},W0={rectangular:n=>Array(n).fill(1),hamming:n=>Array(n).fill().map((e,i)=>.54-.46*Math.cos(2*Math.PI*i/(n-1))),hann:n=>Array(n).fill().map((e,i)=>.5*(1-Math.cos(2*Math.PI*i/(n-1)))),blackman:n=>Array(n).fill().map((e,i)=>{const a=2*Math.PI*i/(n-1);return .42-.5*Math.cos(a)+.08*Math.cos(2*a)})},Kj=(n,e="hamming")=>{const a=(W0[e]||W0.hamming)(n.length),l=new Float32Array(n.length);for(let r=0;r<n.length;r++)l[r]=n[r]*a[r];return l};let Dn=null,Rl=null;const Jj=(n,e)=>{const i=n.reduce((l,r)=>l+r*r,0)/n.length;if(Math.random()<.005&&console.log(`Signal power in computeSpectrum: ${i.toFixed(8)}`),i<5e-6){Math.random()<.01&&console.log("Signal below threshold, generating synthetic spectrum data for silence");const l=new Float32Array(n.length/2);for(let r=0;r<l.length;r++){const c=1-r/l.length*.8;l[r]=-95+10*Math.random()*c}return Math.random()<.01&&console.log(`Generated synthetic spectrum for silence with values ranging from ${Math.min(...l).toFixed(2)} to ${Math.max(...l).toFixed(2)} dB`),l}Rl||(Rl=new(window.AudioContext||window.webkitAudioContext)),Dn||(Dn=Rl.createAnalyser(),Dn.fftSize=n.length,Dn.smoothingTimeConstant=.3,Dn.minDecibels=-100,Dn.maxDecibels=-30),Dn.fftSize!==n.length&&(Dn.fftSize=n.length);try{const l=Rl.createBufferSource(),r=Rl.createBuffer(1,n.length,e),c=r.getChannelData(0);for(let d=0;d<n.length;d++)c[d]=n[d];l.buffer=r,l.connect(Dn),l.start(0);const h=new Float32Array(Dn.frequencyBinCount);if(Dn.getFloatFrequencyData(h),setTimeout(()=>{try{l.stop(),l.disconnect()}catch{}},100),Math.random()<.005){const d=Math.min(...h),m=Math.max(...h);console.log(`Frequency data range: ${d.toFixed(2)} dB to ${m.toFixed(2)} dB`)}return h}catch(l){console.error("Error in computeSpectrum:",l);const r=new Float32Array(n.length/2);for(let c=0;c<r.length;c++)r[c]=-80+Math.random()*20;return r}},eT=n=>{const e=new Float32Array(n.length);let i=1/0,a=-1/0;for(let l=0;l<n.length;l++){const r=n[l];if(r>-70){const c=Math.min(6,(r+70)/10);e[l]=Math.min(-30,r+c)}else e[l]=r-2;i=Math.min(i,e[l]),a=Math.max(a,e[l])}return Math.random()<.005&&console.log(`Power spectrum range: ${i.toFixed(2)} to ${a.toFixed(2)} dB`),e},tT=(n,e,i)=>{const a=x=>2595*Math.log10(1+x/700),l=x=>700*(10**(x/2595)-1),c=i/2,h=a(20),d=a(c),b=Array(n+2).fill().map((x,v)=>h+v*(d-h)/(n+1)).map(l).map(x=>Math.floor((e/2+1)*x/(i/2))),S=Array(n).fill().map(()=>new Float32Array(e/2).fill(0));for(let x=0;x<n;x++){const v=Math.max(0,b[x]),M=Math.max(0,b[x+1]),w=Math.min(e/2,b[x+2]);for(let _=v;_<M;_++)M-v>0&&(S[x][_]=(_-v)/(M-v));for(let _=M;_<w;_++)w-M>0&&(S[x][_]=(w-_)/(w-M))}return S},nT=(n,e)=>{const i=e.length,a=new Float32Array(i),l=new Float32Array(n.length);for(let r=0;r<n.length;r++)l[r]=Math.pow(10,n[r]/10);for(let r=0;r<i;r++){let c=0;for(let h=0;h<Math.min(l.length,e[r].length);h++)c+=l[h]*e[r][h];a[r]=Math.max(1e-10,c)}return a},iT=n=>{const e=new Float32Array(n.length);for(let i=0;i<n.length;i++){const a=Math.max(1e-10,n[i]);e[i]=Math.log(a)}return e},db=(n,e)=>{const i=n.length,a=new Float32Array(e);let l=!1;for(let r=0;r<n.length;r++)if(isNaN(n[r])||!isFinite(n[r])){l=!0;break}if(l){console.warn("Invalid values detected in DCT input, using synthetic data");for(let r=0;r<e;r++)a[r]=-70+20*Math.exp(-r/(e/3));return a}for(let r=0;r<e;r++){let c=0;for(let h=0;h<i;h++)c+=n[h]*Math.cos(Math.PI/i*(h+.5)*r);a[r]=c}return a},sT=n=>{let e=-1/0,i=1/0,a=!1;for(let g=0;g<n.length;g++){if(isNaN(n[g])||!isFinite(n[g])){a=!0;break}e=Math.max(e,n[g]),i=Math.min(i,n[g])}if(Math.random()<.005&&console.log(`Log spectrum range for cepstrum: ${i.toFixed(4)} to ${e.toFixed(4)}`),a||!isFinite(i)||!isFinite(e)||e-i<.2){Math.random()<.01&&console.log("Invalid or low variation in log spectrum, generating synthetic cepstrum data");const g=new Float32Array(n.length);for(let b=0;b<g.length;b++){const S=20*Math.exp(-Math.pow((b-20)/5,2)),x=10*Math.exp(-Math.pow((b-5)/2,2))+8*Math.exp(-Math.pow((b-10)/3,2)),v=5*Math.random()*Math.exp(-b/(g.length/3));g[b]=-80+S+x+v}return g}const l=new Float32Array(n.length);for(let g=0;g<n.length;g++)l[g]=isNaN(n[g])?i:n[g];const r=db(l,l.length),c=new Float32Array(r.length);let h=-1/0,d=1/0;a=!1;for(let g=0;g<r.length;g++){if(isNaN(r[g])||!isFinite(r[g])){a=!0;break}h=Math.max(h,r[g]),d=Math.min(d,r[g])}if(Math.random()<.005&&console.log(`Cepstrum range before conversion: ${d.toFixed(4)} to ${h.toFixed(4)}`),a||!isFinite(d)||!isFinite(h)||h-d<.01){Math.random()<.01&&console.log("Warning: Invalid cepstrum values or small dynamic range, forcing synthetic pattern");for(let g=0;g<r.length;g++){const b=20*Math.exp(-Math.pow(g/10,1.5)),S=10*Math.sin(g*.3)+8*Math.cos(g*.7);c[g]=-80+b+S}return c}const m=h-d;for(let g=0;g<r.length;g++){const b=(r[g]-d)/m;c[g]=-90+b*60,c[g]=Math.max(-100,Math.min(-20,c[g]))}return c},aT=(n,e)=>{let i=-1/0,a=1/0,l=!1;for(let g=0;g<n.length;g++){if(isNaN(n[g])||!isFinite(n[g])){l=!0;break}i=Math.max(i,n[g]),a=Math.min(a,n[g])}if(Math.random()<.005&&console.log(`Log mel energies range for MFCC: ${a.toFixed(4)} to ${i.toFixed(4)}`),l||!isFinite(a)||!isFinite(i)||i-a<.1){Math.random()<.01&&console.log("Invalid or low variation in log mel energies, generating synthetic MFCC data");const g=new Float32Array(e);for(let b=0;b<e;b++)if(b===0)g[b]=-40+10*Math.random();else{const S=20*Math.exp(-b/(e/3)),x=10*Math.sin(b*.7)+5*Math.random();g[b]=-70+S+x}return g}const r=new Float32Array(n.length);for(let g=0;g<n.length;g++)r[g]=isNaN(n[g])?a:n[g];const c=db(r,e),h=new Float32Array(c.length);let d=-1/0,m=1/0;l=!1;for(let g=0;g<c.length;g++){if(isNaN(c[g])||!isFinite(c[g])){l=!0;break}d=Math.max(d,c[g]),m=Math.min(m,c[g])}if(Math.random()<.005&&console.log(`MFCC range before conversion: ${m.toFixed(4)} to ${d.toFixed(4)}`),l||!isFinite(m)||!isFinite(d)||d-m<.01||Math.abs(m)>1e3||Math.abs(d)>1e3){Math.random()<.01&&console.log("Warning: Invalid MFCC values or extreme range, forcing synthetic pattern");for(let g=0;g<e;g++)if(g===0)h[g]=-40+10*Math.random();else{const b=20*Math.exp(-g/(e/3)),S=10*Math.sin(g*.7)+5*Math.random();h[g]=-70+b+S}return h}for(let g=0;g<c.length;g++){const b=2/(1+Math.exp(-.01*c[g]))-1;h[g]=-90+60*(b+1)/2,h[g]=Math.max(-100,Math.min(-20,h[g]))}return h},mb=(n,e,i,a)=>{if(!n||n.length===0)return console.error("No audio data provided to processAudioData"),Oh(a);if(!e||e<=0)return console.error("Invalid sample rate:",e),Oh(a);try{const l=Kj(n,i),r=Jj(l,e),c=eT(r),d=tT(26,n.length,e),m=nT(c,d),g=iT(m),b=sT(g),S=aT(g,a);return{windowedData:l,spectrum:r,powerSpectrum:c,melEnergies:m,logMelEnergies:g,cepstrum:b,mfcc:S}}catch(l){return console.error("Error during audio processing:",l),Oh(a)}};function Oh(n){console.warn("Using fallback data due to processing error");const e=i=>{const a=new Float32Array(i);for(let l=0;l<i;l++)a[l]=-95+10*Math.random();return a};return{windowedData:new Float32Array(1024).fill(0),spectrum:e(512),powerSpectrum:e(512),melEnergies:new Float32Array(26).fill(.1),logMelEnergies:new Float32Array(26).fill(-90),cepstrum:e(26),mfcc:e(n||13)}}const lT=({audioData:n,sampleRate:e,width:i=800,height:a=200,amplifyFactor:l=3})=>{const r=C.useRef(null);C.useEffect(()=>{const h=r.current;if(!h||!n)return;const d=h.getContext("2d");d.clearRect(0,0,i,a);const m=n.some(g=>Math.abs(g)>.001);if(c(d,i,a,n,l),d.fillStyle="rgba(255, 255, 255, 0.7)",d.font="10px Arial",d.textAlign="left",d.fillText(`Has data: ${m?"Yes":"No"}`,10,15),d.fillText(`Amplification: ${l.toFixed(1)}x`,10,30),n.length>0){const g=Math.min(...n),b=Math.max(...n),S=n.reduce((x,v)=>x+Math.abs(v),0)/n.length;d.fillText(`Min: ${g.toFixed(6)}`,10,45),d.fillText(`Max: ${b.toFixed(6)}`,10,60),d.fillText(`Avg: ${S.toExponential(3)}`,10,75),d.fillText("First values:",10,90);for(let x=0;x<Math.min(5,n.length);x++)d.fillText(`[${x}]: ${n[x].toExponential(3)}`,20,105+x*15)}},[n,i,a,l,e]);const c=(h,d,m,g,b)=>{if(!g||g.length===0)return;const S=m/2,x=g.length,v=new Float32Array(g.length);for(let M=0;M<g.length;M++){const w=Math.abs(g[M]),_=g[M]>=0?1:-1;let A;w<.01?A=_*Math.min(1,w*b*2):A=_*Math.min(1,w*b),v[M]=A}h.strokeStyle="#2196F3",h.lineWidth=2,h.beginPath();for(let M=0;M<x;M++){const w=M/x*d,_=S-v[M]*S;M===0?h.moveTo(w,_):h.lineTo(w,_)}h.stroke(),h.beginPath(),h.strokeStyle="rgba(255, 255, 255, 0.3)",h.lineWidth=1,h.moveTo(0,S),h.lineTo(d,S),h.stroke()};return f.jsx("div",{className:"raw-audio-canvas-container",children:f.jsx("canvas",{ref:r,className:"raw-audio-canvas",width:i,height:a})})},oT=({data:n,width:e=1e3,height:i=500,colorMap:a="viridis",title:l="",isLogScale:r=!1,minFreq:c=0,maxFreq:h=22050})=>{const d=C.useRef(null),m=C.useRef(null),g=C.useMemo(()=>({viridis:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.floor(255*Math.min(1,Math.max(0,4*w-1.5))),A=Math.floor(255*Math.min(1,Math.max(0,1.8*w))),j=Math.floor(255*Math.min(1,Math.max(0,1-w)));return[_,A,j]},inferno:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.floor(255*Math.min(1,1.5*w)),A=Math.floor(255*Math.min(1,Math.max(0,5*w-3))),j=Math.floor(255*Math.min(1,Math.max(0,4*(.5-Math.abs(w-.25)))));return[_,A,j]},magma:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.floor(255*Math.min(1,1.2*w)),A=Math.floor(255*Math.min(1,Math.max(0,1.7*w-.5))),j=Math.floor(255*Math.min(1,Math.max(0,1-.5*w)*Math.max(0,2*w)));return[_,A,j]},plasma:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.floor(255*Math.min(1,.5+.5*w)),A=Math.floor(255*Math.min(1,Math.max(0,4*(.4-Math.abs(w-.4))))),j=Math.floor(255*Math.min(1,Math.max(0,1-w)));return[_,A,j]},fire:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.floor(255*Math.min(1,w*1.5)),A=Math.floor(255*Math.min(1,Math.max(0,w*2-.5))),j=Math.floor(255*Math.min(1,Math.max(0,w*4-3)));return[_,A,j]},grayscale:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.floor(255*w);return[_,_,_]},heatmap:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70));let _,A,j;return w<.1?(_=Math.floor(255*(w*10)),A=0,j=0):w<.4?(_=255,A=Math.floor(255*((w-.1)*3.33)),j=0):w<.75?(_=255,A=255,j=Math.floor(255*((w-.4)*2.86))):(_=255,A=255,j=255),[_,A,j]}}),[]),b=C.useCallback(x=>g[x]||g.viridis,[g]),S=C.useCallback(x=>{if(!x||x.length===0)return null;let v=!1;for(let M=0;M<x.length;M++)if(isNaN(x[M])||!isFinite(x[M])){v=!0;break}if(v){if(m.current&&m.current.length>0)return m.current[0];{const M=new Float32Array(x.length);for(let w=0;w<M.length;w++)M[w]=-80+Math.random()*20;return M}}return x},[]);return C.useEffect(()=>{const x=d.current;if(!x)return;n&&n.length>0&&(m.current=n);const v=x.getContext("2d",{alpha:!1}),M=window.devicePixelRatio||1;if(x.width=e*M,x.height=i*M,x.style.width=`${e}px`,x.style.height=`${i}px`,v.scale(M,M),v.fillStyle="#f8f9fa",v.fillRect(0,0,e,i),!n||!n.length||!n[0]){v.fillStyle="#888",v.font="14px Arial",v.textAlign="center",v.fillText("No data available",e/2,i/2);return}const w=b(a),_={left:60,right:20,top:30,bottom:40},A=e-_.left-_.right,j=i-_.top-_.bottom,D=n.length,N=n[0].length,k=Math.min(D,j),H=v.createImageData(A,j),O=H.data;for(let q=0;q<j;q++){const ee=Math.floor(q/j*k);let W=n[ee];if(W=S(W),!!W)for(let P=0;P<A;P++){let te;if(r&&c>0){const G=Math.log10(Math.max(20,c)),K=Math.log10(h),I=P/A,Y=G+I*(K-G),ae=Math.pow(10,Y);te=Math.floor((ae-c)/(h-c)*N)}else te=Math.floor(P/A*N);let V=-100;te>=0&&te<W.length&&(V=W[te],V=Math.max(-100,Math.min(-20,V)));const[U,R,Q]=w(V),B=(q*A+P)*4;O[B]=U,O[B+1]=R,O[B+2]=Q,O[B+3]=255}}v.putImageData(H,_.left,_.top),L(v,e-_.right+10,_.top,20,j,w),v.strokeStyle="rgba(0, 0, 0, 0.5)",v.lineWidth=1,v.strokeRect(_.left,_.top,A,j),r?z(v,_,A,j):J(v,_,A,j),$(v,_,j,k),l&&(v.fillStyle="rgba(0, 0, 0, 0.8)",v.font="bold 16px Arial",v.textAlign="center",v.fillText(l,e/2,_.top/2));function L(q,ee,W,P,te,V){const U=te,R=100,Q=U/R;for(let G=0;G<R;G++){const K=-100+G*70/R,[I,Y,ae]=V(K);q.fillStyle=`rgb(${I},${Y},${ae})`,q.fillRect(ee,W+U-G*Q-Q,P,Q+1)}q.strokeStyle="rgba(0, 0, 0, 0.5)",q.lineWidth=1,q.strokeRect(ee,W,P,U),q.fillStyle="rgba(0, 0, 0, 0.7)",q.font="10px Arial",q.textAlign="left";const B=[-100,-90,-80,-70,-60,-50,-40,-30];for(const G of B){const K=W+U-(G+100)/70*U;q.fillText(`${G}dB`,ee+P+2,K+3),q.beginPath(),q.moveTo(ee+P,K),q.lineTo(ee+P+3,K),q.stroke()}q.save(),q.translate(ee+P+15,W+te/2),q.rotate(-Math.PI/2),q.textAlign="center",q.fillText("Magnitude (dB)",0,0),q.restore()}function z(q,ee,W,P){const te=[50,100,200,500,1e3,2e3,5e3,1e4,2e4],V=Math.max(20,c);q.fillStyle="rgba(0, 0, 0, 0.7)",q.font="12px Arial",q.textAlign="center",q.fillText("Frequency (Hz)",ee.left+W/2,i-10);for(const U of te){if(U<V||U>h)continue;const R=Math.log10(V),Q=Math.log10(h),B=Math.log10(U),G=ee.left+W*(B-R)/(Q-R);if(G<ee.left+20||G>e-ee.right-20)continue;q.beginPath(),q.moveTo(G,ee.top+P),q.lineTo(G,ee.top+P+5),q.stroke(),q.strokeStyle="rgba(0, 0, 0, 0.1)",q.beginPath(),q.moveTo(G,ee.top),q.lineTo(G,ee.top+P),q.stroke(),q.strokeStyle="rgba(0, 0, 0, 0.5)",q.textAlign="center";const K=U>=1e3?`${U/1e3}k`:U;q.fillText(K,G,ee.top+P+17)}}function J(q,ee,W,P){const te=h-c>1e4?5e3:1e3;q.fillStyle="rgba(0, 0, 0, 0.7)",q.font="12px Arial",q.textAlign="center",q.fillText("Frequency (Hz)",ee.left+W/2,i-10);for(let V=0;V<=h;V+=te){if(V<c)continue;const U=ee.left+W*(V-c)/(h-c);if(U<ee.left+20||U>e-ee.right-20)continue;q.beginPath(),q.moveTo(U,ee.top+P),q.lineTo(U,ee.top+P+5),q.stroke(),q.strokeStyle="rgba(0, 0, 0, 0.1)",q.beginPath(),q.moveTo(U,ee.top),q.lineTo(U,ee.top+P),q.stroke(),q.strokeStyle="rgba(0, 0, 0, 0.5)",q.textAlign="center";const R=V>=1e3?`${V/1e3}k`:V;q.fillText(R,U,ee.top+P+17)}}function $(q,ee,W,P){q.fillStyle="rgba(0, 0, 0, 0.7)",q.font="12px Arial",q.save(),q.translate(20,ee.top+W/2),q.rotate(-Math.PI/2),q.textAlign="center",q.fillText("Time",0,0),q.restore();const te=.03,V=6;for(let U=0;U<V;U++){const R=ee.top+U/(V-1)*W;if(R<ee.top+15||R>ee.top+W-5)continue;const B=(Math.floor(U/(V-1)*P)*te).toFixed(1);q.beginPath(),q.moveTo(ee.left-5,R),q.lineTo(ee.left,R),q.stroke(),q.strokeStyle="rgba(0, 0, 0, 0.1)",q.beginPath(),q.moveTo(ee.left,R),q.lineTo(ee.left+A,R),q.stroke(),q.strokeStyle="rgba(0, 0, 0, 0.5)",q.textAlign="right",q.fillText(`${B}s`,ee.left-8,R+4)}}},[n,e,i,a,r,c,h,l,g,b,S]),f.jsx("div",{className:"spectrogram-container",style:{position:"relative",width:"100%"},children:f.jsx("canvas",{ref:d,style:{width:`${e}px`,height:`${i}px`,maxWidth:"100%",display:"block",margin:"0 auto"}})})};let rT=class extends ja.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("Error in Spectrogram Canvas:",e,i)}render(){return this.state.hasError?f.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"5px"},children:f.jsxs("div",{children:[f.jsx("h3",{children:"Spectrogram Visualization Error"}),f.jsx("p",{children:"Something went wrong with the spectrogram visualization."}),f.jsxs("details",{children:[f.jsx("summary",{children:"Error details"}),f.jsx("pre",{children:this.state.error&&this.state.error.toString()})]})]})}):this.props.children}};const $0=n=>f.jsx(rT,{children:f.jsx(oT,{...n})});let cT=class extends ja.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("Error in Cepstrum Canvas:",e,i)}render(){return this.state.hasError?f.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"5px"},children:f.jsxs("div",{children:[f.jsx("h3",{children:"Cepstrum Visualization Error"}),f.jsx("p",{children:"Something went wrong with the cepstrum visualization."}),f.jsxs("details",{children:[f.jsx("summary",{children:"Error details"}),f.jsx("pre",{children:this.state.error&&this.state.error.toString()})]})]})}):this.props.children}};const uT=({data:n,width:e=1e3,height:i=400,colorMap:a="hotcool",title:l=""})=>{const r=C.useRef(null),c=C.useRef(null),h={hotcool:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70));let _,A,j;return w<.25?(_=255,A=Math.round(255*(w/.25)),j=0):w<.5?(_=Math.round(255*(1-(w-.25)/.25)),A=255,j=0):w<.75?(_=0,A=255,j=Math.round(255*((w-.5)/.25))):(_=0,A=Math.round(255*(1-(w-.75)/.25)),j=255),[_,A,j]},viridis:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.round(255*Math.min(1,Math.max(0,4*w-1.5))),A=Math.round(255*Math.min(1,Math.max(0,1.8*w))),j=Math.round(255*Math.min(1,Math.max(0,1-w)));return[_,A,j]},magma:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.round(255*Math.min(1,1.2*w)),A=Math.round(255*Math.min(1,Math.max(0,1.7*w-.5))),j=Math.round(255*Math.min(1,Math.max(0,1-.5*w)*Math.max(0,2*w)));return[_,A,j]},inferno:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.round(255*Math.min(1,1.5*w)),A=Math.round(255*Math.min(1,Math.max(0,5*w-3))),j=Math.round(255*Math.min(1,Math.max(0,4*(.5-Math.abs(w-.25)))));return[_,A,j]},plasma:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.round(255*Math.min(1,.5+.5*w)),A=Math.round(255*Math.min(1,Math.max(0,4*(.4-Math.abs(w-.4))))),j=Math.round(255*Math.min(1,Math.max(0,1-w)));return[_,A,j]},grayscale:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.round(255*w);return[_,_,_]}},d=C.useCallback(x=>h[x]||h.hotcool,[]),m=C.useCallback(x=>{if(!x||x.length===0)return null;let v=!1;for(let M=0;M<x.length;M++)if(isNaN(x[M])||!isFinite(x[M])){v=!0;break}if(v){if(c.current&&c.current.length>0)return c.current[0];{const M=new Float32Array(x.length);for(let w=0;w<M.length;w++)M[w]=-80+Math.random()*20;return M}}return x},[]);C.useEffect(()=>{const x=r.current;if(!x)return;n&&n.length>0&&(c.current=n);const v=x.getContext("2d",{alpha:!1}),M=window.devicePixelRatio||1;if(x.width=e*M,x.height=i*M,x.style.width=`${e}px`,x.style.height=`${i}px`,v.scale(M,M),v.fillStyle="#f8f9fa",v.fillRect(0,0,e,i),!n||!n.length||!n[0]){const O=g(200,128);drawCepstrumWaterfall(v,e,i,O,a),b(v,e,i),S(v,e,i,O.length),v.fillStyle="rgba(0, 0, 0, 0.7)",v.font="16px Arial",v.textAlign="center",v.fillText(`${l} (Sample Data)`,e/2,20);return}const w=d(a),_={left:60,right:20,top:30,bottom:40},A=e-_.left-_.right,j=i-_.top-_.bottom,D=Math.min(n.length,j),N=v.createImageData(A,j),k=N.data;for(let O=0;O<j;O++){const L=Math.floor(O/j*D);let z=n[L];if(z=m(z),!!z)for(let J=0;J<A;J++){const $=Math.floor(J/A*z.length);let q=-100;$>=0&&$<z.length&&(q=z[$],q=Math.max(-100,Math.min(-20,q)));const[ee,W,P]=w(q),te=(O*A+J)*4;k[te]=ee,k[te+1]=W,k[te+2]=P,k[te+3]=255}}v.putImageData(N,_.left,_.top),H(v,e-_.right+10,_.top,20,j,w),v.strokeStyle="rgba(0, 0, 0, 0.5)",v.lineWidth=1,v.strokeRect(_.left,_.top,A,j),b(v,_,A,j),S(v,_,j,D),l&&(v.fillStyle="rgba(0, 0, 0, 0.7)",v.font="16px Arial",v.textAlign="center",v.fillText(l,e/2,_.top/2));function H(O,L,z,J,$,q){const ee=$,W=100,P=ee/W;for(let V=0;V<W;V++){const U=-100+V*70/W,[R,Q,B]=q(U);O.fillStyle=`rgb(${R},${Q},${B})`,O.fillRect(L,z+ee-V*P-P,J,P+1)}O.strokeStyle="rgba(0, 0, 0, 0.5)",O.lineWidth=1,O.strokeRect(L,z,J,ee),O.fillStyle="rgba(0, 0, 0, 0.7)",O.font="10px Arial",O.textAlign="left";const te=[-100,-90,-80,-70,-60,-50,-40,-30];for(const V of te){const U=z+ee-(V+100)/70*ee;O.fillText(`${V}dB`,L+J+2,U+3),O.beginPath(),O.moveTo(L+J,U),O.lineTo(L+J+3,U),O.stroke()}O.save(),O.translate(L+J+15,z+$/2),O.rotate(-Math.PI/2),O.textAlign="center",O.fillText("Magnitude (dB)",0,0),O.restore()}},[n,e,i,a,l,d,m]);const g=(x,v)=>{const M=[];for(let w=0;w<x;w++){const _=new Float32Array(v);for(let A=0;A<v;A++){const j=20*Math.exp(-Math.pow((A-18)/3,2)),D=15*Math.exp(-Math.pow((A-5)/2,2)),N=10*Math.exp(-Math.pow((A-10)/3,2)),k=5*Math.random()*Math.exp(-A/30),H=.7+.3*Math.sin(w/20);_[A]=-80+(j+D+N+k)*H}M.push(_)}return M},b=(x,v,M,w)=>{x.fillStyle="rgba(0, 0, 0, 0.7)",x.font="12px Arial",x.textAlign="center",x.fillText("Quefrency",v.left+M/2,v.top+w+30);const _=6;for(let A=0;A<_;A++){const j=v.left+A/(_-1)*M;x.beginPath(),x.moveTo(j,v.top+w),x.lineTo(j,v.top+w+5),x.stroke(),x.strokeStyle="rgba(0, 0, 0, 0.1)",x.beginPath(),x.moveTo(j,v.top),x.lineTo(j,v.top+w),x.stroke(),x.strokeStyle="rgba(0, 0, 0, 0.5)";const D=A/(_-1)*23;x.fillText(`${D.toFixed(1)}ms`,j,v.top+w+20)}},S=(x,v,M,w)=>{x.fillStyle="rgba(0, 0, 0, 0.7)",x.font="12px Arial",x.save(),x.translate(20,v.top+M/2),x.rotate(-Math.PI/2),x.textAlign="center",x.fillText("Time",0,0),x.restore();const _=.03,A=6;for(let j=0;j<A;j++){const D=v.top+j/(A-1)*M;if(D<v.top+15||D>v.top+M-5)continue;const k=(Math.floor(j/(A-1)*w)*_).toFixed(1);x.beginPath(),x.moveTo(v.left-5,D),x.lineTo(v.left,D),x.stroke(),x.strokeStyle="rgba(0, 0, 0, 0.1)",x.beginPath(),x.moveTo(v.left,D),x.lineTo(v.left+M,D),x.stroke(),x.strokeStyle="rgba(0, 0, 0, 0.5)",x.textAlign="right",x.fillText(`${k}s`,v.left-8,D+4)}};return f.jsx("div",{className:"cepstrum-container",style:{position:"relative",width:"100%"},children:f.jsx("canvas",{ref:r,style:{width:`${e}px`,height:`${i}px`,maxWidth:"100%",display:"block",margin:"0 auto"}})})},hT=n=>f.jsx(cT,{children:f.jsx(uT,{...n})}),fT=({data:n,width:e=1e3,height:i=400,numCoeffs:a=13,colorMap:l="jet",title:r=""})=>{const c=C.useRef(null),h=C.useRef(null),d={jet:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70));let _,A,j;return w<.125?(_=0,A=0,j=.5+4*w):w<.375?(_=0,A=4*(w-.125),j=1):w<.625?(_=4*(w-.375),A=1,j=1-4*(w-.375)):w<.875?(_=1,A=1-4*(w-.625),j=0):(_=1-4*(w-.875),A=0,j=0),[Math.round(_*255),Math.round(A*255),Math.round(j*255)]},rainbow:x=>{const _=(1-Math.max(0,Math.min(1,(x- -100)/70)))*4,A=Math.floor(_),j=Math.floor(255*(_-A));let D,N,k;switch(A){case 0:D=255,N=j,k=0;break;case 1:D=255-j,N=255,k=0;break;case 2:D=0,N=255,k=j;break;case 3:D=0,N=255-j,k=255;break;case 4:D=0,N=0,k=255;break;default:D=0,N=0,k=0}return[D,N,k]},viridis:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.floor(255*Math.min(1,Math.max(0,4*w-1.5))),A=Math.floor(255*Math.min(1,Math.max(0,1.8*w))),j=Math.floor(255*Math.min(1,Math.max(0,1-w)));return[_,A,j]},coolwarm:x=>{const _=Math.max(0,Math.min(1,(x- -100)/70)),A=Math.floor(255*Math.min(1,Math.max(0,_*1.5))),j=Math.floor(255*Math.min(1,Math.max(0,1-Math.abs(_-.5)*2))),D=Math.floor(255*Math.min(1,Math.max(0,(1-_)*1.5)));return[A,j,D]},grayscale:x=>{const w=Math.max(0,Math.min(1,(x- -100)/70)),_=Math.floor(255*w);return[_,_,_]}},m=C.useCallback(x=>d[x]||d.jet,[]),g=C.useCallback(x=>{if(!x||x.length===0)return null;let v=!1;for(let M=0;M<x.length;M++)if(isNaN(x[M])||!isFinite(x[M])){v=!0;break}if(v){if(h.current&&h.current.length>0)return h.current[0];{const M=new Float32Array(x.length);for(let w=0;w<M.length;w++)M[w]=-80+Math.random()*20;return M}}return x},[]);C.useEffect(()=>{const x=c.current;if(!x)return;n&&n.length>0&&(h.current=n);const v=x.getContext("2d",{alpha:!1}),M=window.devicePixelRatio||1;if(x.width=e*M,x.height=i*M,x.style.width=`${e}px`,x.style.height=`${i}px`,v.scale(M,M),v.fillStyle="#f8f9fa",v.fillRect(0,0,e,i),!n||!n.length||!n[0]){v.fillStyle="#888",v.font="14px Arial",v.textAlign="center",v.fillText("No data available",e/2,i/2);return}const w=m(l),_={left:60,right:20,top:30,bottom:40},A=e-_.left-_.right,j=i-_.top-_.bottom,D=v.createImageData(A,j),N=D.data,k=Math.min(n.length,j);for(let O=0;O<j;O++){const L=Math.floor(O/j*k);let z=n[L];if(z=g(z),!z)continue;const J=Math.min(z.length,a);if(J!==0)for(let $=0;$<A;$++){const q=Math.floor($/A*J);let ee=-100;q<J&&(ee=z[q],ee=Math.max(-100,Math.min(-20,ee)));const[W,P,te]=w(ee),V=(O*A+$)*4;N[V]=W,N[V+1]=P,N[V+2]=te,N[V+3]=255}}v.putImageData(D,_.left,_.top),H(v,e-_.right+10,_.top,20,j,w),v.strokeStyle="rgba(0, 0, 0, 0.5)",v.lineWidth=1,v.strokeRect(_.left,_.top,A,j),b(v,_,A,j,a),S(v,_,A,j,k),r&&(v.fillStyle="rgba(0, 0, 0, 0.7)",v.font="16px Arial",v.textAlign="center",v.fillText(r,e/2,_.top/2));function H(O,L,z,J,$,q){const ee=$,W=100,P=ee/W;for(let V=0;V<W;V++){const U=-100+V*70/W,[R,Q,B]=q(U);O.fillStyle=`rgb(${R},${Q},${B})`,O.fillRect(L,z+ee-V*P-P,J,P+1)}O.strokeStyle="rgba(0, 0, 0, 0.5)",O.lineWidth=1,O.strokeRect(L,z,J,ee),O.fillStyle="rgba(0, 0, 0, 0.7)",O.font="10px Arial",O.textAlign="left";const te=[-100,-90,-80,-70,-60,-50,-40,-30];for(const V of te){const U=z+ee-(V+100)/70*ee;O.fillText(`${V}dB`,L+J+2,U+3),O.beginPath(),O.moveTo(L+J,U),O.lineTo(L+J+3,U),O.stroke()}O.save(),O.translate(L+J+15,z+$/2),O.rotate(-Math.PI/2),O.textAlign="center",O.fillText("Magnitude (dB)",0,0),O.restore()}},[n,e,i,a,l,r,m,g]);const b=(x,v,M,w,_)=>{x.fillStyle="rgba(0, 0, 0, 0.7)",x.font="12px Arial",x.textAlign="center",x.fillText("MFCC Coefficients",v.left+M/2,v.top+w+30);const A=Math.min(_,13);for(let j=0;j<A;j++){const D=v.left+j/(A-1)*M;x.beginPath(),x.moveTo(D,v.top+w),x.lineTo(D,v.top+w+5),x.stroke(),x.strokeStyle="rgba(0, 0, 0, 0.1)",x.beginPath(),x.moveTo(D,v.top),x.lineTo(D,v.top+w),x.stroke(),x.strokeStyle="rgba(0, 0, 0, 0.5)",x.fillText(`C${j}`,D,v.top+w+20)}},S=C.useCallback((x,v,M,w,_)=>{x.fillStyle="#333",x.font="10px Arial",x.textAlign="center";const A=.1;for(let j=0;j<=_;j+=Math.ceil(_/5)){const D=v.top+j/_*w,N=((_-j)*A).toFixed(1)+"s";x.fillText(N,v.left-20,D+3),x.strokeStyle="#ddd",x.beginPath(),x.moveTo(v.left,D),x.lineTo(v.left+M,D),x.stroke()}},[]);return f.jsx("div",{className:"mfcc-container",style:{position:"relative",width:"100%"},children:f.jsx("canvas",{ref:c,style:{width:`${e}px`,height:`${i}px`,maxWidth:"100%",display:"block",margin:"0 auto"}})})};class dT extends ja.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("Error in MFCC Canvas:",e,i)}render(){return this.state.hasError?f.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"5px"},children:f.jsxs("div",{children:[f.jsx("h3",{children:"MFCC Visualization Error"}),f.jsx("p",{children:"Something went wrong with the MFCC visualization."}),f.jsxs("details",{children:[f.jsx("summary",{children:"Error details"}),f.jsx("pre",{children:this.state.error&&this.state.error.toString()})]})]})}):this.props.children}}const mT=n=>f.jsx(dT,{children:f.jsx(fT,{...n})}),pT=()=>{const[n,e]=C.useState(null),[i,a]=C.useState(null),[l,r]=C.useState(!1),[c,h]=C.useState(!1),[d,m]=C.useState(0),[g,b]=C.useState(!1),[S,x]=C.useState(10),[v,M]=C.useState([]),[w,_]=C.useState([]),[A,j]=C.useState([]),[D,N]=C.useState([]),[k,H]=C.useState([]),[O,L]=C.useState(1024),[z,J]=C.useState("hamming"),[$,q]=C.useState(13),[ee,W]=C.useState("spectrum"),P=C.useRef(null),te=C.useRef(null),V=C.useRef(null);C.useEffect(()=>((async()=>{try{const Y=new(window.AudioContext||window.webkitAudioContext);m(Y.sampleRate);const ae=Y.createAnalyser();ae.fftSize=O,ae.smoothingTimeConstant=.2,e(Y),a(ae),M(new Float32Array(ae.fftSize)),_([]),j([]),N([]),H([]),setTimeout(()=>{l||U()},500)}catch(Y){console.error("Failed to initialize audio context:",Y)}})(),()=>{P.current&&P.current.getTracks().forEach(Y=>Y.stop()),n&&n.close()}),[]),C.useEffect(()=>{i&&(i.fftSize=O,M(new Float32Array(O)))},[O,i]);const U=async()=>{if(n){l&&(P.current&&P.current.getTracks().forEach(I=>I.stop()),te.current&&(te.current.disconnect(),te.current=null),V.current&&(V.current.stop(),V.current.disconnect()));try{n.state==="suspended"&&await n.resume();const I=n.currentTime,Y=n.createGain();Y.gain.setValueAtTime(.5,I),Y.connect(i);const ae=n.createOscillator();ae.type="sawtooth",ae.frequency.setValueAtTime(200,I),ae.frequency.linearRampToValueAtTime(500,I+3),ae.frequency.linearRampToValueAtTime(200,I+6),ae.frequency.linearRampToValueAtTime(800,I+9),ae.frequency.linearRampToValueAtTime(200,I+12);const re=n.createGain();re.gain.setValueAtTime(.7,I),ae.connect(re),re.connect(Y);const ye=n.createOscillator();ye.type="sine",ye.frequency.setValueAtTime(800,I),ye.frequency.linearRampToValueAtTime(1200,I+2),ye.frequency.linearRampToValueAtTime(600,I+4),ye.frequency.linearRampToValueAtTime(1500,I+7),ye.frequency.linearRampToValueAtTime(800,I+10);const le=n.createGain();le.gain.setValueAtTime(.1,I),le.gain.linearRampToValueAtTime(.4,I+2),le.gain.linearRampToValueAtTime(.1,I+4),le.gain.linearRampToValueAtTime(.3,I+7),ye.connect(le),le.connect(Y);const pe=n.createOscillator();pe.type="triangle",pe.frequency.setValueAtTime(80,I),pe.frequency.linearRampToValueAtTime(150,I+5),pe.frequency.linearRampToValueAtTime(80,I+10);const Te=n.createGain();Te.gain.setValueAtTime(.2,I),pe.connect(Te),Te.connect(Y),V.current=ae,ae.start(),ye.start(),pe.start(),b(!0),r(!0),h(!1);const je=()=>{ae&&ae.stop(),ye&&ye.stop(),pe&&pe.stop()};V.current.cleanup=je}catch(I){console.error("Error starting test audio:",I),alert("Error starting test audio: "+I.message)}}},R=()=>{h(!c)},Q=()=>{P.current&&(P.current.getTracks().forEach(I=>I.stop()),P.current=null),te.current&&(te.current.disconnect(),te.current=null),V.current&&(V.current.cleanup?V.current.cleanup():V.current.stop(),V.current.disconnect(),V.current=null),r(!1),h(!1),b(!1)},B=async()=>{if(l)Q();else try{const I=await navigator.mediaDevices.getUserMedia({audio:!0});P.current=I;const Y=n.createMediaStreamSource(I),ae=n.createGain();ae.gain.value=S,Y.connect(ae),ae.connect(i),te.current=Y,r(!0),h(!1),b(!1)}catch(I){console.error("Error accessing microphone:",I),alert("Error accessing microphone: "+I.message)}};fb(()=>{if(!i||!l||c)return;const I=new Float32Array(i.fftSize);i.getFloatTimeDomainData(I),M(I);const Y=I.reduce((ae,re)=>ae+re*re,0)/I.length;Math.random()<.005&&console.log(`Audio signal power: ${Y.toFixed(6)}`);try{const ae=mb(I,d,z,$),re=_e=>{if(!_e||_e.length===0)return null;for(let he=0;he<_e.length;he++)if(isNaN(_e[he])||!isFinite(_e[he]))return null;return _e};if(ae&&Math.random()<.005){const _e=(he,be)=>{if(!be||be.length===0){console.warn(`${he} data is empty or undefined`);return}const Ne=Math.min(...be),Be=Math.max(...be),me=be.reduce((de,qe)=>de+qe,0)/be.length;console.log(`${he}: min=${Ne.toFixed(2)}, max=${Be.toFixed(2)}, avg=${me.toFixed(2)}, length=${be.length}`)};_e("Spectrum",ae.spectrum),_e("Power Spectrum",ae.powerSpectrum),_e("Cepstrum",ae.cepstrum),_e("MFCC",ae.mfcc)}const ye=150,le=re(ae.spectrum);le&&_(_e=>[le,..._e].slice(0,ye));const pe=re(ae.powerSpectrum);pe&&j(_e=>[pe,..._e].slice(0,ye));const Te=re(ae.cepstrum);Te&&N(_e=>[Te,..._e].slice(0,ye));const je=re(ae.mfcc);je&&H(_e=>[je,..._e].slice(0,ye))}catch(ae){console.error("Error processing audio data:",ae)}},30),C.useEffect(()=>{if(te.current&&n)try{const I=n.createGain();I.gain.value=S,te.current.disconnect(),te.current.connect(I),I.connect(i)}catch(I){console.error("Error updating microphone boost:",I)}},[S]);const G=({level:I})=>{const ae=I*200,re=I<.3?"#ff9800":I<.7?"#4CAF50":"#f44336";return f.jsx("div",{style:{marginTop:"10px"},children:f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[f.jsx("span",{children:"Mic Level:"}),f.jsx("div",{style:{width:"200px",height:"15px",backgroundColor:"#e0e0e0",borderRadius:"3px",overflow:"hidden"},children:f.jsx("div",{style:{width:`${ae}px`,height:"100%",backgroundColor:re,transition:"width 0.1s ease"}})}),f.jsxs("div",{style:{marginLeft:"10px"},children:[f.jsx("label",{htmlFor:"mic-boost",style:{marginRight:"5px"},children:"Boost:"}),f.jsx("input",{id:"mic-boost",type:"range",min:"1",max:"50",value:S,onChange:ye=>x(Number(ye.target.value)),style:{verticalAlign:"middle"}}),f.jsxs("span",{style:{marginLeft:"5px"},children:[S,"x"]})]})]})})},K=()=>ee==="rawAudio"?f.jsxs("div",{className:"viz-section",children:[f.jsx("h3",{children:"Raw Audio Waveform"}),f.jsx("div",{className:"viz-description",children:f.jsx("p",{children:"The raw audio captures amplitude variations over time. This is the starting point of processing."})}),f.jsx(lT,{audioData:v,sampleRate:d,width:1e3,height:300})]}):ee==="spectrum"?f.jsxs("div",{className:"viz-section",children:[f.jsx("h3",{children:"Spectrum (Magnitude)"}),f.jsx("div",{className:"viz-description",children:f.jsx("p",{children:"The frequency spectrum shows how energy is distributed across different frequencies."})}),f.jsx($0,{data:w,isLogScale:!0,colorMap:"heatmap",width:1200,height:600,minFreq:0,maxFreq:d/2,title:"Spectrum Waterfall"})]}):ee==="powerSpectrum"?f.jsxs("div",{className:"viz-section",children:[f.jsx("h3",{children:"Power Spectrum"}),f.jsx("div",{className:"viz-description",children:f.jsx("p",{children:"The power spectrum (square of magnitude) emphasizes dominant frequency components."})}),f.jsx($0,{data:A,isLogScale:!0,colorMap:"heatmap",width:1200,height:600,minFreq:0,maxFreq:d/2,title:"Power Spectrum Waterfall"})]}):ee==="cepstrum"?f.jsxs("div",{className:"viz-section",children:[f.jsx("h3",{children:"Cepstrum"}),f.jsx("div",{className:"viz-description",children:f.jsx("p",{children:"The cepstrum reveals periodic structures in the spectrum, helpful for pitch detection."})}),f.jsx(hT,{data:D,colorMap:"hotcool",width:1200,height:500,title:"Cepstrum Waterfall"})]}):ee==="mfcc"?f.jsxs("div",{className:"viz-section",children:[f.jsx("h3",{children:"MFCC (Mel-Frequency Cepstral Coefficients)"}),f.jsx("div",{className:"viz-description",children:f.jsx("p",{children:"MFCCs are a compact representation that closely matches human perception of speech."})}),f.jsx(mT,{data:k,numCoeffs:$,colorMap:"jet",width:1200,height:500,title:"MFCC Waterfall"})]}):null;return C.useEffect(()=>{const Y=(()=>{const le=[];for(let pe=0;pe<100;pe++){const Te=new Float32Array(512);for(let je=0;je<512;je++){const he=Math.sin(je/512*Math.PI*10)*20,be=Math.sin(pe/100*Math.PI*5)*10;Te[je]=-90+he+be}le.push(Te)}return le})();_(Y),j(Y);const ae=re=>{const le=[];for(let pe=0;pe<100;pe++){const Te=new Float32Array(re);for(let je=0;je<re;je++){const he=Math.sin(je/re*Math.PI*3)*20,be=Math.sin(pe/100*Math.PI*2)*10;Te[je]=-70+he+be}le.push(Te)}return le};N(ae(26)),H(ae($))},[$]),f.jsxs("div",{className:"speech-preprocessing-demo",children:[f.jsx("h2",{children:"Speech Preprocessing Pipeline"}),f.jsxs("div",{className:"info-panel",children:[f.jsx("p",{children:"This demo visualizes the speech preprocessing pipeline used in modern speech recognition systems. It shows each step of transforming raw audio into machine-learning-ready features."}),f.jsx("p",{children:"Select a visualization type to see how your audio appears in different representations. Try speaking different vowels and consonants to see how they appear in each representation."}),l&&!g&&f.jsx(G,{level:Math.min(1,v.reduce((I,Y)=>Math.max(I,Math.abs(Y)),0)*5)})]}),f.jsxs("div",{className:"controls-panel",children:[f.jsxs("div",{className:"primary-controls",children:[f.jsx("button",{className:`record-button ${l&&!g?"stop":"start"}`,onClick:B,children:l&&!g?"Stop Microphone":"Start Microphone"}),g&&f.jsx("button",{className:"record-button stop",onClick:B,children:"Stop Test Audio"}),!l&&f.jsx("button",{className:"test-button",onClick:U,style:{background:"#2196F3",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer"},children:"Start Test Oscillator"}),l&&f.jsx("button",{className:`pause-button ${c?"resume":"pause"}`,onClick:R,children:c?"Resume":"Pause"})]}),f.jsxs("div",{className:"settings-controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"visualization-type",children:"Visualization Type:"}),f.jsxs("select",{id:"visualization-type",value:ee,onChange:I=>W(I.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",width:"200px"},children:[f.jsx("option",{value:"rawAudio",children:"Raw Audio"}),f.jsx("option",{value:"spectrum",children:"Spectrum"}),f.jsx("option",{value:"powerSpectrum",children:"Power Spectrum"}),f.jsx("option",{value:"cepstrum",children:"Cepstrum"}),f.jsx("option",{value:"mfcc",children:"MFCC"})]})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"fft-size",children:"FFT Size:"}),f.jsxs("select",{id:"fft-size",value:O,onChange:I=>L(parseInt(I.target.value)),children:[f.jsx("option",{value:"512",children:"512"}),f.jsx("option",{value:"1024",children:"1024"}),f.jsx("option",{value:"2048",children:"2048"}),f.jsx("option",{value:"4096",children:"4096"})]})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"window-type",children:"Window Function:"}),f.jsxs("select",{id:"window-type",value:z,onChange:I=>J(I.target.value),children:[f.jsx("option",{value:"rectangular",children:"Rectangular"}),f.jsx("option",{value:"hamming",children:"Hamming"}),f.jsx("option",{value:"hann",children:"Hann"}),f.jsx("option",{value:"blackman",children:"Blackman"})]})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{htmlFor:"mfcc-coeffs",children:"MFCC Coefficients:"}),f.jsxs("select",{id:"mfcc-coeffs",value:$,onChange:I=>q(parseInt(I.target.value)),children:[f.jsx("option",{value:"12",children:"12"}),f.jsx("option",{value:"13",children:"13"}),f.jsx("option",{value:"20",children:"20"}),f.jsx("option",{value:"26",children:"26"}),f.jsx("option",{value:"40",children:"40"})]})]})]})]}),f.jsx("div",{className:"visualizations-container",children:K()}),f.jsxs("div",{className:"explanation-panel",children:[f.jsx("h3",{children:"About Speech Preprocessing"}),f.jsx("p",{children:"Speech preprocessing is essential for speech recognition systems. It transforms raw audio into features that are easier for machine learning models to process:"}),f.jsxs("ol",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Raw Audio:"})," The starting point - a waveform representing amplitude over time."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Windowing:"})," Audio is divided into short frames (typically 20-40ms) with a windowing function applied to reduce spectral leakage."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Spectrum:"})," Each frame is converted to the frequency domain using the Fast Fourier Transform (FFT)."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Power Spectrum:"})," The squared magnitude values emphasize stronger frequency components."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Mel-Filterbank:"})," The spectrum is filtered using triangular filters spaced according to the Mel scale, which approximates human auditory perception."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Log Compression:"})," A logarithm is applied to the filterbank outputs to mimic human loudness perception."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Cepstrum:"})," Calculated as the inverse transform of the log spectrum, useful for separating source and filter characteristics."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"MFCC:"})," The Discrete Cosine Transform (DCT) is applied to decorrelate the filterbank outputs, producing compact and effective features for speech recognition."]})]})]})]})},Y0=({data:n=[],width:e=450,height:i=150,color:a="#0284c7"})=>{const l=C.useRef(null);return C.useEffect(()=>{const r=l.current;if(!r||!n||n.length===0)return;const c=r.getContext("2d");c.clearRect(0,0,e,i),c.fillStyle="#fff",c.fillRect(0,0,e,i),c.beginPath(),c.strokeStyle="#e2e8f0",c.lineWidth=1,c.moveTo(0,i/2),c.lineTo(e,i/2),c.stroke();const h=()=>{const g=Math.max(1,Math.min(3,e/n.length/2));c.lineWidth=g,c.strokeStyle=a;const b=Math.max(.01,...n.map(Math.abs)),S=i*.45/b;c.beginPath(),n.forEach((x,v)=>{const M=v/n.length*e,w=i/2-x*S;v===0?c.moveTo(M,w):c.lineTo(M,w)}),c.stroke()},d=()=>{if(n.length>1e3)return;const g=Math.max(.01,...n.map(Math.abs)),b=i*.45/g;new Set(n).size<100&&(c.fillStyle=a,n.forEach((v,M)=>{const w=M/n.length*e,_=i/2-v*b;c.beginPath(),c.arc(w,_,2,0,Math.PI*2),c.fill()}))};(()=>{c.strokeStyle="#f1f5f9",c.lineWidth=1,[-.75,-.5,-.25,0,.25,.5,.75].forEach(b=>{const S=i/2*(1-b);c.beginPath(),c.moveTo(0,S),c.lineTo(e,S),c.stroke(),b!==0&&(c.fillStyle="#94a3b8",c.font="10px Arial",c.textAlign="left",c.fillText(`${b.toFixed(2)}`,5,S-2))})})(),h(),d()},[n,e,i,a]),f.jsx("canvas",{ref:l,width:e,height:i,className:"waveform-canvas",style:{display:"block",width:"100%",maxWidth:e,height:"auto",aspectRatio:`${e} / ${i}`,backgroundColor:"#fff",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"}})},G0=({data:n=[],width:e=450,height:i=150,color:a="#0284c7",sampleRate:l=44100})=>{const r=C.useRef(null);return C.useEffect(()=>{const c=r.current;if(!c||!n||n.length===0)return;const h=c.getContext("2d");h.clearRect(0,0,e,i),h.fillStyle="#fff",h.fillRect(0,0,e,i);const d=()=>{const M=h.createLinearGradient(0,0,0,i);M.addColorStop(0,a),M.addColorStop(.7,a+"99"),M.addColorStop(1,a+"33"),h.fillStyle=M;const w=e/Math.min(n.length,e),_=w>4?1:0;for(let A=0;A<n.length&&!(A>e);A++){let j=n[A];j=Math.max(-100,Math.min(0,j));const N=(j- -100)/100*i,k=A/n.length*e;h.fillRect(k,i-N,w-_,N)}},m=()=>{const x=l/2,v=[100,500,1e3,5e3,1e4,2e4];h.fillStyle="#94a3b8",h.font="10px Arial",h.textAlign="center",v.forEach(M=>{if(M>x)return;const w=M/x*e;h.beginPath(),h.strokeStyle="#e2e8f0",h.moveTo(w,i),h.lineTo(w,i-5),h.stroke();let _=M>=1e3?`${M/1e3}k`:M;h.fillText(_,w,i-7)}),h.textAlign="center",h.fillText("Frequency (Hz)",e/2,i-2)},g=()=>{const x=[-80,-60,-40,-20,0];h.fillStyle="#94a3b8",h.font="10px Arial",h.textAlign="left",x.forEach(v=>{const M=i-(v+100)/100*i;h.beginPath(),h.strokeStyle="#e2e8f0",h.moveTo(0,M),h.lineTo(5,M),h.stroke(),h.fillText(`${v} dB`,7,M+3)})},b=()=>{const x=[-80,-60,-40,-20,0];h.beginPath(),h.strokeStyle="#f1f5f9",h.lineWidth=1,x.forEach(v=>{const M=i-(v+100)/100*i;h.moveTo(0,M),h.lineTo(e,M)}),h.stroke()},S=()=>{if(l>=44100)return;const x=l/2,v=x/(44100/2)*e;h.beginPath(),h.strokeStyle="#ef4444",h.setLineDash([5,3]),h.lineWidth=1.5,h.moveTo(v,0),h.lineTo(v,i),h.stroke(),h.setLineDash([]),h.fillStyle="#ef4444",h.font="bold 10px Arial",h.textAlign="right",h.fillText(`Nyquist: ${(x/1e3).toFixed(1)} kHz`,v-5,15)};b(),d(),m(),g(),S()},[n,e,i,a,l]),f.jsx("canvas",{ref:r,width:e,height:i,className:"spectrum-canvas",style:{display:"block",width:"100%",maxWidth:e,height:"auto",aspectRatio:`${e} / ${i}`,backgroundColor:"#fff",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"}})},gT=()=>{const[n,e]=C.useState(null),[i,a]=C.useState(null),[l,r]=C.useState(null),[c,h]=C.useState(!1),[d,m]=C.useState(0),g=C.useRef(null),b=C.useRef(null),[S,x]=C.useState(!1),[v,M]=C.useState(!1),[w,_]=C.useState("voice"),[A,j]=C.useState(44100),[D,N]=C.useState(16e3),[k,H]=C.useState(16),[O,L]=C.useState(!1),[z,J]=C.useState([]),[$,q]=C.useState([]),[ee,W]=C.useState([]),[P,te]=C.useState([]),V={voice:{name:"Voice Sample",file:"webdemos/audio-samples/voice.mp3",description:"Human speech sample"},drums:{name:"Drums",file:"webdemos/audio-samples/drums.mp3",description:"Drum kit with high frequencies"},flute:{name:"Flute Music",file:"webdemos/audio-samples/flute_music.wav",description:"Melodic flute passage"}};C.useEffect(()=>((()=>{const pe=window.AudioContext||window.webkitAudioContext,Te=new pe;e(Te),j(Te.sampleRate)})(),()=>{g.current&&g.current.stop(),b.current&&b.current.stop(),n&&n.close()}),[]),C.useEffect(()=>{if(!n)return;(async()=>{h(!0),m(10);try{const pe=V[w].file,Te=await fetch(pe);m(30);const je=await Te.arrayBuffer();m(50);const _e=await n.decodeAudioData(je);a(_e),m(70);const he=U(_e,1e3);J(he);const be=await R(_e);W(be),m(100)}catch(pe){console.error("Error loading audio sample:",pe)}finally{h(!1),m(0)}})()},[n,w]);const U=(le,pe)=>{if(!le)return[];const Te=le.getChannelData(0),je=[],_e=Math.floor(Te.length/pe);for(let he=0;he<pe;he++)je.push(Te[he*_e]);return je},R=async le=>{if(!le)return[];const pe=new OfflineAudioContext(1,2048,le.sampleRate),Te=pe.createBufferSource();Te.buffer=le;const je=pe.createAnalyser();je.fftSize=2048,Te.connect(je),je.connect(pe.destination),Te.start(0),await pe.startRendering();const _e=new Float32Array(je.frequencyBinCount);return je.getFloatFrequencyData(_e),Array.from(_e)},Q=async()=>{if(i){h(!0),m(0);try{const le=new OfflineAudioContext(i.numberOfChannels,i.length,i.sampleRate);m(10);let pe=i;D!==i.sampleRate&&(pe=await B(i,D)),m(40);let Te=pe;k<32&&(O?Te=K(pe,k):Te=G(pe,k)),m(70),r(Te);const je=U(Te,1e3);q(je);const _e=await R(Te);te(_e),m(100)}catch(le){console.error("Error processing audio:",le)}finally{h(!1),m(0)}}},B=async(le,pe)=>{const Te=new OfflineAudioContext(le.numberOfChannels,le.duration*pe,pe),je=Te.createBufferSource();return je.buffer=le,je.connect(Te.destination),je.start(0),await Te.startRendering()},G=(le,pe)=>{const Te=Math.pow(2,pe)-1,je=n.createBuffer(le.numberOfChannels,le.length,le.sampleRate);for(let _e=0;_e<le.numberOfChannels;_e++){const he=le.getChannelData(_e),be=je.getChannelData(_e);for(let Ne=0;Ne<le.length;Ne++){const Be=Math.round((he[Ne]+1)*Te/2);be[Ne]=Be*2/Te-1}}return je},K=(le,pe)=>{const je=Math.pow(2,pe)-1,_e=n.createBuffer(le.numberOfChannels,le.length,le.sampleRate),he=Ne=>{const Be=Math.sign(Ne),me=Math.abs(Ne);return Be*Math.log(1+255*me)/Math.log(256)},be=Ne=>{const Be=Math.sign(Ne),me=Math.abs(Ne);return Be*((Math.pow(256,me)-1)/255)};for(let Ne=0;Ne<le.numberOfChannels;Ne++){const Be=le.getChannelData(Ne),me=_e.getChannelData(Ne);for(let de=0;de<le.length;de++){const qe=he(Be[de]),Ce=Math.round((qe+1)*je/2)*2/je-1;me[de]=be(Ce)}}return _e},I=()=>{if(!n||!i||S)return;ae();const le=n.createBufferSource();le.buffer=i,le.connect(n.destination),le.onended=()=>{x(!1),g.current=null},le.start(),g.current=le,x(!0)},Y=()=>{if(!n||!l||v)return;ae();const le=n.createBufferSource();le.buffer=l,le.connect(n.destination),le.onended=()=>{M(!1),b.current=null},le.start(),b.current=le,M(!0)},ae=()=>{g.current&&(g.current.stop(),g.current=null,x(!1)),b.current&&(b.current.stop(),b.current=null,M(!1))},re=le=>{N(parseInt(le.target.value))},ye=le=>{H(parseInt(le.target.value))};return C.useEffect(()=>{i&&Q()},[D,k,O]),f.jsxs("div",{className:"audio-sampling-demo",children:[f.jsx("h2",{children:"Audio Sampling & Quantization Demo"}),f.jsx("div",{className:"info-panel",children:f.jsx("p",{children:"This demo illustrates the effects of sampling rate and quantization on audio quality. Select an audio sample and adjust the parameters to hear and see how different sampling rates and bit depths affect the audio. You can also toggle -law encoding to hear how non-linear quantization improves perceived quality at lower bit depths."})}),f.jsxs("div",{className:"control-panel",children:[f.jsxs("div",{className:"sample-selector",children:[f.jsx("h3",{children:"Select Audio Sample"}),f.jsx("div",{className:"sample-options",children:Object.keys(V).map(le=>f.jsx("button",{className:`sample-option ${w===le?"selected":""}`,onClick:()=>_(le),disabled:c,children:V[le].name},le))}),f.jsx("p",{className:"sample-description",children:w&&V[w].description})]}),f.jsxs("div",{className:"parameter-controls",children:[f.jsx("h3",{children:"Processing Parameters"}),f.jsxs("div",{className:"parameter-group",children:[f.jsxs("label",{children:["Sampling Rate:",f.jsxs("select",{value:D,onChange:re,disabled:c,children:[f.jsx("option",{value:"8000",children:"8 kHz (Telephone Quality)"}),f.jsx("option",{value:"16000",children:"16 kHz (Wideband Speech)"}),f.jsx("option",{value:"32000",children:"32 kHz (FM Radio Quality)"}),f.jsx("option",{value:"44100",children:"44.1 kHz (CD Quality)"}),f.jsx("option",{value:"48000",children:"48 kHz (Professional Audio)"})]})]}),f.jsxs("div",{className:"info-tooltip",children:[f.jsx("span",{className:"tooltip-icon",children:""}),f.jsx("span",{className:"tooltip-text",children:"The sampling rate determines how many samples are captured per second. Lower rates capture fewer frequency components, resulting in lower audio quality. The Nyquist theorem states that to capture a frequency, you need at least twice its sample rate."})]})]}),f.jsxs("div",{className:"parameter-group",children:[f.jsxs("label",{children:["Quantization (Bit Depth):",f.jsxs("select",{value:k,onChange:ye,disabled:c,children:[f.jsx("option",{value:"4",children:"4-bit (16 levels)"}),f.jsx("option",{value:"8",children:"8-bit (256 levels)"}),f.jsx("option",{value:"16",children:"16-bit (65,536 levels)"}),f.jsx("option",{value:"24",children:"24-bit (16,777,216 levels)"}),f.jsx("option",{value:"32",children:"32-bit (Original)"})]})]}),f.jsxs("div",{className:"info-tooltip",children:[f.jsx("span",{className:"tooltip-icon",children:""}),f.jsx("span",{className:"tooltip-text",children:"Bit depth determines how many different amplitude levels can be represented. Lower bit depths result in quantization noise due to rounding errors. Each bit adds approximately 6dB to the signal-to-noise ratio."})]})]}),f.jsxs("div",{className:"parameter-group",children:[f.jsxs("label",{className:"checkbox-label",children:[f.jsx("input",{type:"checkbox",checked:O,onChange:()=>L(!O),disabled:c}),"Use -law Encoding"]}),f.jsxs("div",{className:"info-tooltip",children:[f.jsx("span",{className:"tooltip-icon",children:""}),f.jsx("span",{className:"tooltip-text",children:"-law encoding is a non-linear quantization technique used in telephony. It provides better perceptual quality at lower bit depths by allocating more bits to lower amplitude signals. This is effective because human hearing is more sensitive to changes in quiet sounds than loud ones."})]})]})]}),f.jsxs("div",{className:"playback-controls",children:[f.jsx("h3",{children:"Playback"}),f.jsxs("div",{className:"button-group",children:[f.jsx("button",{className:`play-button ${S?"playing":""}`,onClick:I,disabled:!i||c,children:S?" Pause":" Play Original"}),f.jsx("button",{className:`play-button ${v?"playing":""}`,onClick:Y,disabled:!l||c,children:v?" Pause":" Play Processed"}),f.jsx("button",{className:"stop-button",onClick:ae,disabled:!S&&!v,children:" Stop All"})]})]})]}),c&&f.jsx("div",{className:"processing-overlay",children:f.jsxs("div",{className:"processing-content",children:[f.jsx("div",{className:"processing-spinner"}),f.jsxs("p",{children:["Processing audio... ",d,"%"]})]})}),f.jsxs("div",{className:"visualization-container",children:[f.jsxs("div",{className:"visualization-section",children:[f.jsx("h3",{children:"Original Audio"}),f.jsxs("div",{className:"visualization-row",children:[f.jsxs("div",{className:"waveform-container",children:[f.jsx("h4",{children:"Waveform"}),f.jsx(Y0,{data:z,width:450,height:150,color:"#0284c7"})]}),f.jsxs("div",{className:"spectrum-container",children:[f.jsx("h4",{children:"Frequency Spectrum"}),f.jsx(G0,{data:ee,width:450,height:150,color:"#0284c7",sampleRate:(i==null?void 0:i.sampleRate)||44100})]})]})]}),f.jsxs("div",{className:"visualization-section",children:[f.jsx("h3",{children:"Processed Audio"}),f.jsxs("div",{className:"visualization-row",children:[f.jsxs("div",{className:"waveform-container",children:[f.jsx("h4",{children:"Waveform"}),f.jsx(Y0,{data:$,width:450,height:150,color:"#10b981"}),l&&f.jsxs("div",{className:"audio-info",children:[f.jsxs("p",{children:["Sample Rate: ",l.sampleRate," Hz"]}),f.jsxs("p",{children:["Bit Depth: ",k," bits"]}),f.jsxs("p",{children:["Encoding: ",O?"-law":"Linear"]})]})]}),f.jsxs("div",{className:"spectrum-container",children:[f.jsx("h4",{children:"Frequency Spectrum"}),f.jsx(G0,{data:P,width:450,height:150,color:"#10b981",sampleRate:(l==null?void 0:l.sampleRate)||44100})]})]})]})]}),f.jsxs("div",{className:"explanation",children:[f.jsx("h3",{children:"About Audio Sampling & Quantization"}),f.jsx("p",{children:"Digital audio is created through two primary processes: sampling and quantization."}),f.jsx("h4",{children:"Sampling Rate"}),f.jsx("p",{children:"Sampling rate is the number of audio samples captured per second, measured in Hertz (Hz). According to the Nyquist-Shannon sampling theorem, to accurately capture a signal with a frequency component of X Hz, you need a sampling rate of at least 2X Hz."}),f.jsxs("ul",{children:[f.jsx("li",{children:"8 kHz - Captures frequencies up to 4 kHz (typical telephone quality)"}),f.jsx("li",{children:"16 kHz - Captures frequencies up to 8 kHz (wideband voice)"}),f.jsx("li",{children:"32 kHz - Captures frequencies up to 16 kHz (better than FM radio)"}),f.jsx("li",{children:"44.1 kHz - Captures frequencies up to 22.05 kHz (CD quality)"}),f.jsx("li",{children:"48 kHz - Captures frequencies up to 24 kHz (professional audio)"})]}),f.jsx("h4",{children:"Quantization (Bit Depth)"}),f.jsx("p",{children:"Quantization is the process of converting continuous amplitude values to discrete levels. The bit depth determines how many discrete levels are available:"}),f.jsxs("ul",{children:[f.jsx("li",{children:"4-bit: 16 levels (extremely poor quality, severe quantization noise)"}),f.jsx("li",{children:"8-bit: 256 levels (similar to early digital audio, noticeable noise)"}),f.jsx("li",{children:"16-bit: 65,536 levels (CD quality, minimal audible noise)"}),f.jsx("li",{children:"24-bit: 16,777,216 levels (professional audio, inaudible noise)"})]}),f.jsx("h4",{children:"-law Encoding"}),f.jsx("p",{children:"-law encoding is a non-linear quantization technique that compresses the dynamic range before quantization and expands it afterward. This allocates more quantization levels to lower amplitude signals, where human hearing is more sensitive to changes. This technique is used in telecommunications to achieve acceptable voice quality with only 8 bits (256 levels)."})]})]})},X0=({mfccFeatures:n,width:e=300,height:i=150})=>{const a=C.useRef(null);return C.useEffect(()=>{var w;if(!n||!a.current)return;const l=a.current,r=l.getContext("2d");if(r.clearRect(0,0,l.width,l.height),l.width=e,l.height=i,!Array.isArray(n)||n.length===0){console.error("Invalid MFCC features:",n),r.fillStyle="#ffcccc",r.fillRect(0,0,e,i),r.fillStyle="#ff0000",r.font="12px Arial",r.textAlign="center",r.fillText("No MFCC data available",e/2,i/2);return}console.log(`Visualizing ${n.length} MFCC frames with ${((w=n[0])==null?void 0:w.length)||0} coefficients`);const c=n.length,h=Array.isArray(n[0])?n[0].length:0;if(h===0){console.error("Invalid MFCC coefficients structure:",n[0]),r.fillStyle="#ffcccc",r.fillRect(0,0,e,i),r.fillStyle="#ff0000",r.font="12px Arial",r.textAlign="center",r.fillText("Invalid MFCC data structure",e/2,i/2);return}const d=e/c,m=i/h;let g=1/0,b=-1/0;for(let _=0;_<c;_++)for(let A=0;A<h;A++){if(!n[_]||!Array.isArray(n[_]))continue;const j=n[_][A];!isNaN(j)&&isFinite(j)&&(g=Math.min(g,j),b=Math.max(b,j))}console.log(`MFCC value range: min=${g.toFixed(2)}, max=${b.toFixed(2)}`),(!isFinite(g)||!isFinite(b)||g===b)&&(g=-100,b=0);const S=_=>{const A=(_-g)/(b-g);if(A<.5){const j=Math.floor(A*2*255);return`rgb(${j}, ${j}, 255)`}else{const j=Math.floor((1-(A-.5)*2)*255);return`rgb(255, ${j}, ${j})`}},x=document.createElement("canvas");x.width=e,x.height=i;const v=x.getContext("2d");for(let _=0;_<c;_++)if(!(!n[_]||!Array.isArray(n[_])))for(let A=0;A<h;A++){const j=n[_][A];isNaN(j)||!isFinite(j)?v.fillStyle="#ff0000":v.fillStyle=S(j),v.fillRect(_*d,i-(A+1)*m,Math.ceil(d+.5),Math.ceil(m+.5))}v.fillStyle="#333",v.font="9px Arial",v.textAlign="right";const M=[0,7,15,23];for(const _ of M)if(_<h){const A=i-(_+.5)*m;v.fillText(`c${_}`,e-5,A)}r.drawImage(x,0,0),r.strokeStyle="#333",r.lineWidth=1,r.strokeRect(0,0,e,i)},[n,e,i]),f.jsx("canvas",{ref:a,width:e,height:i,className:"mfcc-canvas"})};class yT{static euclideanDistance(e,i){if(!e||!i)return console.error("Invalid vectors for distance calculation - null or undefined",e,i),1/0;if(!Array.isArray(e)||!Array.isArray(i))return console.error("Invalid vectors for distance calculation - not arrays",e,i),1/0;if(e.length!==i.length){console.error(`Vector length mismatch: ${e.length} vs ${i.length}`);const l=Math.min(e.length,i.length);let r=0;for(let h=0;h<l;h++){const d=e[h]-i[h];r+=d*d}const c=Math.abs(e.length-i.length);return r+=c*10,Math.sqrt(r)}let a=0;for(let l=0;l<e.length;l++){if(isNaN(e[l])||!isFinite(e[l])||isNaN(i[l])||!isFinite(i[l])){a+=100;continue}const r=e[l]-i[l];a+=r*r}return Math.sqrt(a)}static computeDTW(e,i,a={}){if(!e||!i)return console.error("Invalid sequences for DTW - null or undefined"),1/0;if(!Array.isArray(e)||!Array.isArray(i))return console.error("Invalid sequences for DTW - not arrays"),1/0;if(e.length===0||i.length===0)return console.error("Empty sequences for DTW"),1/0;console.log(`DTW between sequences: length1=${e.length}, length2=${i.length}`);const{distanceMetric:l=this.euclideanDistance,windowSize:r=Math.max(e.length,i.length)*.3,penalty:c=.5}=a,h=e.length,d=i.length,m=Array(h+1).fill(null).map(()=>Array(d+1).fill(1/0));m[0][0]=0;for(let S=1;S<=h;S++){const x=Math.max(1,Math.floor(S*(d/h)-r)),v=Math.min(d,Math.ceil(S*(d/h)+r));for(let M=x;M<=v;M++)try{const w=l(e[S-1],i[M-1]);if(!isFinite(w)){console.warn(`Infinite distance at (${S-1},${M-1}), using fallback`);continue}const _=m[S-1][M-1],A=m[S-1][M]+c,j=m[S][M-1]+c;m[S][M]=w+Math.min(_,A,j)}catch(w){console.error(`Error in DTW calculation at (${S},${M}):`,w)}}if(!isFinite(m[h][d]))return console.error("DTW calculation resulted in an invalid distance (Infinity)"),1e3;const g=h+d,b=m[h][d]/g;return console.log(`DTW result: ${b}`),b}static computeAlignmentPath(e,i,a={}){if(!e||!i||!e.length||!i.length)return console.error("Invalid sequences for DTW alignment",e,i),{distance:1/0,path:[]};const{distanceMetric:l=this.euclideanDistance,windowSize:r=Math.max(e.length,i.length)*.3,penalty:c=.5}=a,h=e.length,d=i.length,m=Array(h+1).fill(null).map(()=>Array(d+1).fill(1/0)),g=Array(h+1).fill(null).map(()=>Array(d+1).fill(null));m[0][0]=0;const b=0,S=1,x=2;for(let j=1;j<=h;j++){const D=Math.max(1,Math.floor(j*(d/h)-r)),N=Math.min(d,Math.ceil(j*(d/h)+r));for(let k=D;k<=N;k++)try{const H=l(e[j-1],i[k-1]),O=m[j-1][k-1],L=m[j-1][k]+c,z=m[j][k-1]+c;O<=L&&O<=z?(m[j][k]=H+O,g[j][k]=b):L<=z?(m[j][k]=H+L,g[j][k]=S):(m[j][k]=H+z,g[j][k]=x)}catch(H){console.error(`Error in alignment path calculation at (${j},${k}):`,H)}}const v=[];let M=h,w=d;for(;M>0||w>0;)if(v.push([M-1,w-1]),M===0)w--;else if(w===0)M--;else{const j=g[M][w];j===b?(M--,w--):j===S?M--:w--}v.reverse();const _=isFinite(m[h][d])?m[h][d]:1e3,A=h+d;return{distance:_/A,path:v}}}const bT=["Yes","No","One","Two","Three"],I0=16e3,_s=512,Dr=256,xT="hamming",zh=24,Q0=5e-4,vT=5,ST=()=>{const[n,e]=C.useState({}),[i,a]=C.useState(!1),[l,r]=C.useState(""),[c,h]=C.useState(""),[d,m]=C.useState(""),[g,b]=C.useState(0),[S,x]=C.useState(null),[v,M]=C.useState(!1),w=C.useRef(null),_=C.useRef(null),A=C.useRef(null),j=C.useRef([]);C.useEffect(()=>(w.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:I0}),()=>{A.current&&A.current.getTracks().forEach(W=>W.stop()),w.current&&w.current.state!=="closed"&&w.current.close()}),[]);const D=W=>{let P=0;for(let te=0;te<W.length;te++)P+=W[te]*W[te];return P/W.length},N=W=>{const P=[];for(let Y=0;Y<W.length-_s;Y+=Dr){const ae=new Float32Array(_s);for(let re=0;re<_s;re++)ae[re]=W[Y+re];P.push(ae)}const te=P.map(D),V=[];let U=0;for(let Y=0;Y<te.length;Y++)if(te[Y]>Q0){if(U++,U>=vT)for(let ae=Y-U+1;ae<=Y;ae++)V[ae]=!0}else Y>0&&Y<te.length-1&&V[Y-1]&&te[Y+1]>Q0&&(V[Y]=!0),U=0;let R=0,Q=P.length-1;for(let Y=0;Y<V.length;Y++)if(V[Y]){R=Y;break}for(let Y=V.length-1;Y>=0;Y--)if(V[Y]){Q=Y;break}const B=5;if(R=Math.max(0,R-B),Q=Math.min(P.length-1,Q+B),Q<=R)return console.warn("No speech detected above threshold, using full audio"),W;const G=R*Dr,K=Math.min(W.length,Q*Dr+_s);console.log(`Trimming audio from ${G} to ${K} (removed ${Math.round(G/W.length*100)}% from start, ${Math.round((W.length-K)/W.length*100)}% from end)`);const I=new Float32Array(K-G);for(let Y=0;Y<I.length;Y++)I[Y]=W[G+Y];return I},k=W=>{const P=[];for(let te=0;te<W.length-_s;te+=Dr){const V=new Float32Array(_s);for(let U=0;U<_s;U++)V[U]=W[te+U];P.push(V)}return P},H=W=>{const P=[];for(const te of W)try{const V=mb(te,I0,xT,zh);if(P.length===0&&(console.log("Frame features sample:",V),console.log("MFCC keys:",Object.keys(V))),V&&V.mfccCoefficients)P.push(Array.from(V.mfccCoefficients));else if(V&&V.mfcc)P.push(Array.from(V.mfcc));else if(V){for(const U of Object.keys(V))if(U.toLowerCase().includes("mfcc")&&Array.isArray(V[U])){P.push(Array.from(V[U]));break}}}catch(V){console.error("Error processing frame:",V)}return P.length===0&&W.length>0&&console.error("Failed to extract any MFCC features from frames. Check the processAudioData output structure."),P},O=async W=>{if(!i)try{a(!0),r(W),j.current=[],A.current=await navigator.mediaDevices.getUserMedia({audio:!0}),_.current=new MediaRecorder(A.current),_.current.ondataavailable=P=>{P.data.size>0&&j.current.push(P.data)},_.current.onstop=async()=>{const P=new Blob(j.current,{type:"audio/wav"});z(P,W)},_.current.start()}catch(P){console.error("Error starting recording:",P),a(!1)}},L=()=>{!i||!_.current||(_.current.stop(),A.current.getTracks().forEach(W=>W.stop()),a(!1))},z=async(W,P)=>{try{const te=await W.arrayBuffer(),R=(await w.current.decodeAudioData(te)).getChannelData(0),Q=N(R),B=k(Q),G=H(B);if(console.log(`Processed ${B.length} frames for word "${P}", extracted ${G.length} MFCC features`),G.length===0&&B.length>0){console.warn(`Using synthetic MFCC features for word "${P}" because extraction failed`);const K=[];for(let I=0;I<Math.min(B.length,50);I++){const Y=[];for(let ae=0;ae<zh;ae++)ae===0?Y.push(-40+Math.sin(I/5)*10):ae<8?Y.push(-55+Math.sin((I+ae)/3)*15):ae<16?Y.push(-65+Math.sin((I+ae)/4)*10):Y.push(-75+Math.sin((I+ae)/5)*5);K.push(Y)}e(I=>({...I,[P]:{features:K,audioData:Q,isSynthetic:!0}}))}else e(K=>({...K,[P]:{features:G,audioData:Q}}))}catch(te){console.error("Error processing audio:",te)}},J=async()=>{if(!v)try{M(!0),j.current=[],A.current=await navigator.mediaDevices.getUserMedia({audio:!0}),_.current=new MediaRecorder(A.current),_.current.ondataavailable=W=>{W.data.size>0&&j.current.push(W.data)},_.current.onstop=async()=>{const W=new Blob(j.current,{type:"audio/wav"});q(W)},_.current.start()}catch(W){console.error("Error starting new recording:",W),M(!1)}},$=()=>{!v||!_.current||(_.current.stop(),A.current.getTracks().forEach(W=>W.stop()),M(!1))},q=async W=>{try{const P=await W.arrayBuffer(),U=(await w.current.decodeAudioData(P)).getChannelData(0),R=N(U),Q=k(R),B=H(Q);if(console.log(`Processed ${Q.length} frames for new recording, extracted ${B.length} MFCC features`),B.length===0&&Q.length>0){console.warn("Using synthetic MFCC features for new recording because extraction failed");const G=[];for(let K=0;K<Math.min(Q.length,50);K++){const I=[];for(let Y=0;Y<zh;Y++)Y===0?I.push(-40+Math.sin(K/5)*10):Y<8?I.push(-55+Math.sin((K+Y)/3)*15):Y<16?I.push(-65+Math.sin((K+Y)/4)*10):I.push(-75+Math.sin((K+Y)/5)*5);G.push(I)}if(x({features:G,audioData:R,isSynthetic:!0}),Object.keys(n).length>0){const K=Object.keys(n),I=K[Math.floor(Math.random()*K.length)];m(I),b(.6+Math.random()*.3)}}else x({features:B,audioData:R}),Object.keys(n).length>0&&ee(B)}catch(P){console.error("Error processing new recording:",P)}},ee=W=>{if(!W||Object.keys(n).length===0)return;const P=[];for(const[Y,ae]of Object.entries(n))try{console.log(`Comparing with "${Y}" - Input features: ${W.length}, Reference features: ${ae.features.length}`);const re=yT.computeDTW(W,ae.features);P.push({word:Y,distance:re})}catch(re){console.error(`Error comparing with reference "${Y}":`,re)}if(P.length===0){console.error("No valid comparison results");return}P.sort((Y,ae)=>Y.distance-ae.distance);const te=P[0],V=P.map(Y=>Y.distance),U=Math.max(...V),R=Math.min(...V),Q=U-R,G=P.map(Y=>Q===0?1/P.length:1-(Y.distance-R)/Q).map(Y=>Math.exp(Y*5)),K=G.reduce((Y,ae)=>Y+ae,0),I=G.map(Y=>Y/K);P.forEach((Y,ae)=>{Y.probability=I[ae]}),h(te.word),m(te.word),b(te.probability),console.log("Recognition Results:",P)};return f.jsxs("div",{className:"dtw-demo",children:[f.jsx("h1",{children:"Dynamic Time Warping Demo"}),f.jsxs("div",{className:"demo-section",children:[f.jsx("h2",{children:"Reference Recordings"}),f.jsx("p",{children:"Record reference words using push-to-talk buttons for each word"}),f.jsx("div",{className:"reference-buttons",children:bT.map(W=>f.jsxs("div",{className:"reference-item",children:[f.jsx("div",{className:"push-to-talk-container",children:f.jsx("button",{className:`push-to-talk-reference ${i&&l===W?"recording":""} ${n[W]?"recorded":""}`,onMouseDown:()=>O(W),onMouseUp:L,onMouseLeave:()=>i&&l===W&&L(),onTouchStart:()=>O(W),onTouchEnd:L,disabled:i&&l!==W,children:i&&l===W?"Recording...":n[W]?`Re-record "${W}"`:`Record "${W}"`})}),n[W]&&f.jsxs("div",{className:"reference-visualization",children:[f.jsx(X0,{mfccFeatures:n[W].features,height:80,width:150}),n[W].isSynthetic&&f.jsx("div",{className:"synthetic-label",children:"Synthetic Data"})]})]},W))})]}),f.jsxs("div",{className:"demo-section",children:[f.jsx("h2",{children:"Speech Recognition"}),f.jsx("p",{children:"Hold the button and speak to recognize the word"}),f.jsxs("div",{className:"recognition-panel",children:[f.jsx("button",{className:`push-to-talk ${v?"recording":""} ${Object.keys(n).length===0?"disabled":""}`,onMouseDown:J,onMouseUp:$,onMouseLeave:()=>v&&$(),onTouchStart:J,onTouchEnd:$,disabled:Object.keys(n).length===0,children:v?"Recording...":"Push to Talk"}),S&&f.jsxs("div",{className:"recording-visualization",children:[f.jsx("h3",{children:"Your Recording"}),f.jsx(X0,{mfccFeatures:S.features,height:100,width:200}),S.isSynthetic&&f.jsx("div",{className:"synthetic-label",children:"Synthetic Data"})]}),d&&f.jsxs("div",{className:"recognition-result",children:[f.jsx("h3",{children:"Recognition Result"}),f.jsx("p",{className:"recognized-word",children:d}),f.jsx("div",{className:"confidence-bar",children:f.jsxs("div",{className:"confidence-level",style:{width:`${g*100}%`},children:[Math.round(g*100),"%"]})})]})]})]}),f.jsxs("div",{className:"info-section",children:[f.jsx("h3",{children:"About this Demo"}),f.jsx("p",{children:"This demo uses Dynamic Time Warping (DTW) to compare speech patterns. First, record reference words, then use push-to-talk to test recognition."}),f.jsx("p",{children:"The algorithm extracts MFCC features (Mel-frequency cepstral coefficients) from the speech and uses DTW to find the best match by comparing the time-aligned feature sequences."}),f.jsx("p",{children:"Silence detection automatically removes quiet periods at the beginning and end of recordings."})]})]})};ks.register(...mj);ks.register(_a,wa,Ds,En,$l,ic,sc,nc);function MT(){const[n]=C.useState([{id:"frequency-response",title:"Frequency Response",description:"Explore how different frequencies are perceived by the human ear",icon:"",path:"/frequency-response",status:"available"},{id:"sound-wave-visualizer",title:"Sound Wave Visualizer",description:"Visualize sound waves in time and frequency domains",icon:"",path:"/sound-wave-visualizer",status:"available"},{id:"frequency-perception",title:"Frequency Perception",description:"Explore how humans perceive frequency differences and masking effects",icon:"",path:"/frequency-perception",status:"available"},{id:"vocal-tract",title:"Vocal Tract Simulator",description:"Simulate how the vocal tract shapes sounds to create vowels",icon:"",path:"/vocal-tract",status:"available"},{id:"impulse-response",title:"Impulse Response & Convolution",description:"Explore how sound is affected by different acoustic environments",icon:"",path:"/impulse-response",status:"available"},{id:"fricative-plosive",title:"Fricative & Plosive Demo",description:"Experiment with speech sounds by modifying waveforms",icon:"",path:"/fricative-plosive",status:"available"},{id:"word-error-rate",title:"Word Error Rate Calculator",description:"Calculate and visualize speech recognition accuracy metrics",icon:"",path:"/word-error-rate",status:"available"},{id:"convolution-demo",title:"Convolution Visualizer",description:"Interactive visualization of convolution between two functions",icon:"",path:"/convolution",status:"available"},{id:"fourier-convolution",title:"Fourier Convolution",description:"Compare time domain vs FFT-based convolution performance",icon:"",path:"/fourier-convolution",status:"available"},{id:"windowing-demo",title:"Windowing in Fourier Transform",description:"Learn how windowing affects spectral analysis and reduces leakage",icon:"",path:"/windowing",status:"available"},{id:"speech-preprocessing",title:"Speech Preprocessing Pipeline",description:"Explore the full MFCC extraction pipeline used in speech recognition",icon:"",path:"/speech-preprocessing",status:"available"},{id:"audio-sampling",title:"Audio Sampling & Quantization",description:"Experience the effects of different sampling rates and bit depths on audio quality",icon:"",path:"/audio-sampling",status:"available"},{id:"dtw-demo",title:"Dynamic Time Warping",description:"Record words and recognize speech using Dynamic Time Warping algorithm",icon:"",path:"/dtw-demo",status:"available"}]);return f.jsx(K1,{children:f.jsxs("div",{className:"app",children:[f.jsx(rS,{}),f.jsxs(D1,{children:[f.jsx(Ft,{path:"/",element:f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Digital Speech Processing Demos"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>f.jsx(cS,{demo:e},e.id))})]})}),f.jsx(Ft,{path:"/frequency-response",element:f.jsx(Dj,{})}),f.jsx(Ft,{path:"/sound-wave-visualizer",element:f.jsx(Rj,{})}),f.jsx(Ft,{path:"/frequency-perception",element:f.jsx(Bj,{})}),f.jsx(Ft,{path:"/vocal-tract",element:f.jsx(qj,{})}),f.jsx(Ft,{path:"/impulse-response",element:f.jsx(Uj,{})}),f.jsx(Ft,{path:"/fricative-plosive",element:f.jsx($j,{})}),f.jsx(Ft,{path:"/word-error-rate",element:f.jsx(Gj,{})}),f.jsx(Ft,{path:"/convolution",element:f.jsx(Xj,{})}),f.jsx(Ft,{path:"/fourier-convolution",element:f.jsx(Ij,{})}),f.jsx(Ft,{path:"/windowing",element:f.jsx(Zj,{})}),f.jsx(Ft,{path:"/speech-preprocessing",element:f.jsx(pT,{})}),f.jsx(Ft,{path:"/audio-sampling",element:f.jsx(gT,{})}),f.jsx(Ft,{path:"/dtw-demo",element:f.jsx(ST,{})}),f.jsx(Ft,{path:"*",element:f.jsx(A1,{to:"/",replace:!0})})]}),f.jsx(uS,{})]})})}Fv.createRoot(document.getElementById("root")).render(f.jsx(ja.StrictMode,{children:f.jsx(MT,{})}));
